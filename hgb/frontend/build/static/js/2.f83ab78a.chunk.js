/*! For license information please see 2.f83ab78a.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlit_hgb=this.webpackJsonpstreamlit_hgb||[]).push([[2],[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(12);function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(i.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(5),r=n(13),o=n(10);function a(e){return function(){var t,n=Object(i.a)(e);if(Object(r.a)()){var a=Object(i.a)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return Object(o.a)(this,t)}}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(26)},function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(7);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var r=n(9);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(r.a)(e):t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return bt})),n.d(t,"a",(function(){return Qu}));var i={};n.r(i),n.d(i,"memcpy",(function(){return pe})),n.d(i,"joinUint8Arrays",(function(){return ve})),n.d(i,"toArrayBufferView",(function(){return ye})),n.d(i,"toInt8Array",(function(){return ge})),n.d(i,"toInt16Array",(function(){return me})),n.d(i,"toInt32Array",(function(){return be})),n.d(i,"toBigInt64Array",(function(){return we})),n.d(i,"toUint8Array",(function(){return ke})),n.d(i,"toUint16Array",(function(){return _e})),n.d(i,"toUint32Array",(function(){return xe})),n.d(i,"toBigUint64Array",(function(){return Te})),n.d(i,"toFloat32Array",(function(){return Se})),n.d(i,"toFloat64Array",(function(){return Oe})),n.d(i,"toUint8ClampedArray",(function(){return Ee})),n.d(i,"toArrayBufferViewIterator",(function(){return Pe})),n.d(i,"toInt8ArrayIterator",(function(){return Ce})),n.d(i,"toInt16ArrayIterator",(function(){return je})),n.d(i,"toInt32ArrayIterator",(function(){return Be})),n.d(i,"toUint8ArrayIterator",(function(){return Re})),n.d(i,"toUint16ArrayIterator",(function(){return De})),n.d(i,"toUint32ArrayIterator",(function(){return Ae})),n.d(i,"toFloat32ArrayIterator",(function(){return Le})),n.d(i,"toFloat64ArrayIterator",(function(){return Fe})),n.d(i,"toUint8ClampedArrayIterator",(function(){return Me})),n.d(i,"toArrayBufferViewAsyncIterator",(function(){return Ne})),n.d(i,"toInt8ArrayAsyncIterator",(function(){return Ue})),n.d(i,"toInt16ArrayAsyncIterator",(function(){return Ve})),n.d(i,"toInt32ArrayAsyncIterator",(function(){return He})),n.d(i,"toUint8ArrayAsyncIterator",(function(){return We})),n.d(i,"toUint16ArrayAsyncIterator",(function(){return $e})),n.d(i,"toUint32ArrayAsyncIterator",(function(){return Ge})),n.d(i,"toFloat32ArrayAsyncIterator",(function(){return qe})),n.d(i,"toFloat64ArrayAsyncIterator",(function(){return Ye})),n.d(i,"toUint8ClampedArrayAsyncIterator",(function(){return Ze})),n.d(i,"rebaseValueOffsets",(function(){return Ke})),n.d(i,"compareArrayLike",(function(){return Xe}));var r={};n.r(r),n.d(r,"getBool",(function(){return Pt})),n.d(r,"getBit",(function(){return Ct})),n.d(r,"setBool",(function(){return jt})),n.d(r,"truncateBitmap",(function(){return Bt})),n.d(r,"packBools",(function(){return Rt})),n.d(r,"iterateBits",(function(){return Dt})),n.d(r,"popcnt_bit_range",(function(){return At})),n.d(r,"popcnt_array",(function(){return Lt})),n.d(r,"popcnt_uint32",(function(){return Ft}));var o={};n.r(o),n.d(o,"uint16ToFloat64",(function(){return oi})),n.d(o,"float64ToUint16",(function(){return ai}));var a={};n.r(a),n.d(a,"isArrowBigNumSymbol",(function(){return yi})),n.d(a,"bignumToString",(function(){return pi})),n.d(a,"bignumToBigInt",(function(){return vi})),n.d(a,"BN",(function(){return Ti}));var s={};n.r(s),n.d(s,"clampIndex",(function(){return hr})),n.d(s,"clampRange",(function(){return fr})),n.d(s,"createElementComparator",(function(){return vr}));var u={};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function h(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function f(e,t,n,i,r,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(i,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){f(o,i,r,a,s,"next",e)}function s(e){f(o,i,r,a,s,"throw",e)}a(void 0)}))}}n.r(u),n.d(u,"BaseInt64",(function(){return jo})),n.d(u,"Uint64",(function(){return Bo})),n.d(u,"Int64",(function(){return Ro})),n.d(u,"Int128",(function(){return Do}));var p=n(0),v=n(3),y=n(4);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){this.wrapped=e}function b(e){return new m(e)}function w(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof m;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("return"===t?"return":"next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(u){r("throw",u)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!==typeof e.return&&(this.return=void 0)}function k(e){return function(){return new w(e.apply(this,arguments))}}function _(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function x(e,t){var n={},i=!1;function r(n,r){return i=!0,r=new Promise((function(t){t(e[n](r))})),{done:!1,value:t(r)}}return"function"===typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return i?(i=!1,e):r("next",e)},"function"===typeof e.throw&&(n.throw=function(e){if(i)throw i=!1,e;return r("throw",e)}),"function"===typeof e.return&&(n.return=function(e){return i?(i=!1,e):r("return",e)}),n}"function"===typeof Symbol&&Symbol.asyncIterator&&(w.prototype[Symbol.asyncIterator]=function(){return this}),w.prototype.next=function(e){return this._invoke("next",e)},w.prototype.throw=function(e){return this._invoke("throw",e)},w.prototype.return=function(e){return this._invoke("return",e)};var T={};function S(e,t,n){return t<=e&&e<=n}function O(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}T.Offset,T.Table,T.SIZEOF_SHORT=2,T.SIZEOF_INT=4,T.FILE_IDENTIFIER_LENGTH=4,T.Encoding={UTF8_BYTES:1,UTF16_STRING:2},T.int32=new Int32Array(2),T.float32=new Float32Array(T.int32.buffer),T.float64=new Float64Array(T.int32.buffer),T.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],T.Long=function(e,t){this.low=0|e,this.high=0|t},T.Long.create=function(e,t){return 0==e&&0==t?T.Long.ZERO:new T.Long(e,t)},T.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},T.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},T.Long.ZERO=new T.Long(0,0),T.Builder=function(e){if(e)t=e;else var t=1024;this.bb=T.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},T.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},T.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},T.Builder.prototype.dataBuffer=function(){return this.bb},T.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},T.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=T.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},T.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},T.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},T.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},T.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},T.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},T.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},T.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},T.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},T.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},T.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},T.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},T.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},T.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},T.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},T.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},T.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},T.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},T.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},T.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},T.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},T.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},T.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},T.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},T.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},T.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},T.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=T.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},T.Builder.prototype.addOffset=function(e){this.prep(T.SIZEOF_INT,0),this.writeInt32(this.offset()-e+T.SIZEOF_INT)},T.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},T.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var i=(n+2)*T.SIZEOF_SHORT;this.addInt16(i);var r=0,o=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(i==this.bb.readInt16(a)){for(var s=T.SIZEOF_SHORT;s<i;s+=T.SIZEOF_SHORT)if(this.bb.readInt16(o+s)!=this.bb.readInt16(a+s))continue e;r=this.vtables[t];break}}return r?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,r-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},T.Builder.prototype.finish=function(e,t){if(t){var n=t;if(this.prep(this.minalign,T.SIZEOF_INT+T.FILE_IDENTIFIER_LENGTH),n.length!=T.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+T.FILE_IDENTIFIER_LENGTH);for(var i=T.FILE_IDENTIFIER_LENGTH-1;i>=0;i--)this.writeInt8(n.charCodeAt(i))}this.prep(this.minalign,T.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},T.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,i=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(i+t)))throw new Error("FlatBuffers: field "+t+" must be set")},T.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(T.SIZEOF_INT,e*t),this.prep(n,e*t)},T.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},T.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var i,r=e.charCodeAt(n++);if(r<55296||r>=56320)i=r;else i=(r<<10)+e.charCodeAt(n++)+-56613888;i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(63&i|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);n=0;for(var o=this.space,a=this.bb.bytes();n<t.length;n++)a[o++]=t[n];return this.endVector()},T.Builder.prototype.createLong=function(e,t){return T.Long.create(e,t)},T.ByteBuffer=function(e){this.bytes_=e,this.position_=0},T.ByteBuffer.allocate=function(e){return new T.ByteBuffer(new Uint8Array(e))},T.ByteBuffer.prototype.clear=function(){this.position_=0},T.ByteBuffer.prototype.bytes=function(){return this.bytes_},T.ByteBuffer.prototype.position=function(){return this.position_},T.ByteBuffer.prototype.setPosition=function(e){this.position_=e},T.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},T.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},T.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},T.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},T.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},T.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},T.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},T.ByteBuffer.prototype.readInt64=function(e){return new T.Long(this.readInt32(e),this.readInt32(e+4))},T.ByteBuffer.prototype.readUint64=function(e){return new T.Long(this.readUint32(e),this.readUint32(e+4))},T.ByteBuffer.prototype.readFloat32=function(e){return T.int32[0]=this.readInt32(e),T.float32[0]},T.ByteBuffer.prototype.readFloat64=function(e){return T.int32[T.isLittleEndian?0:1]=this.readInt32(e),T.int32[T.isLittleEndian?1:0]=this.readInt32(e+4),T.float64[0]},T.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},T.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},T.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},T.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},T.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},T.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},T.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},T.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},T.ByteBuffer.prototype.writeFloat32=function(e,t){T.float32[0]=t,this.writeInt32(e,T.int32[0])},T.ByteBuffer.prototype.writeFloat64=function(e,t){T.float64[0]=t,this.writeInt32(e,T.int32[T.isLittleEndian?0:1]),this.writeInt32(e+4,T.int32[T.isLittleEndian?1:0])},T.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+T.SIZEOF_INT+T.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<T.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+T.SIZEOF_INT+t));return e},T.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},T.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},T.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",r=0;if(e+=T.SIZEOF_INT,t===T.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;r<n;){var o,a=this.readUint8(e+r++);if(a<192)o=a;else{var s=this.readUint8(e+r++);if(a<224)o=(31&a)<<6|63&s;else{var u=this.readUint8(e+r++);if(a<240)o=(15&a)<<12|(63&s)<<6|63&u;else o=(7&a)<<18|(63&s)<<12|(63&u)<<6|63&this.readUint8(e+r++)}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return i},T.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},T.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+T.SIZEOF_INT},T.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},T.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=T.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+T.FILE_IDENTIFIER_LENGTH);for(var t=0;t<T.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+T.SIZEOF_INT+t))return!1;return!0},T.ByteBuffer.prototype.createLong=function(e,t){return T.Long.create(e,t)};function E(e){this.tokens=[].slice.call(e)}E.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};function I(e,t){if(e)throw TypeError("Decoder error");return t||65533}function P(e,t){if(!(this instanceof P))return new P(e,t);if("utf-8"!==(e=void 0!==e?String(e).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");t=O(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function C(e,t){if(!(this instanceof C))return new C(e,t);if("utf-8"!==(e=void 0!==e?String(e).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");t=O(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function j(e){var t=e.fatal,n=0,i=0,r=0,o=128,a=191;this.handler=function(e,s){if(-1===s&&0!==r)return r=0,I(t);if(-1===s)return-1;if(0===r){if(S(s,0,127))return s;if(S(s,194,223))r=1,n=s-192;else if(S(s,224,239))224===s&&(o=160),237===s&&(a=159),r=2,n=s-224;else{if(!S(s,240,244))return I(t);240===s&&(o=144),244===s&&(a=143),r=3,n=s-240}return n<<=6*r,null}if(!S(s,o,a))return n=r=i=0,o=128,a=191,e.prepend(s),I(t);if(o=128,a=191,n+=s-128<<6*(r-(i+=1)),i!==r)return null;var u=n;return n=r=i=0,u}}function B(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(S(t,0,127))return t;var n,i;S(t,128,2047)?(n=1,i=192):S(t,2048,65535)?(n=2,i=224):S(t,65536,1114111)&&(n=3,i=240);for(var r=[(t>>6*n)+i];n>0;){var o=t>>6*(n-1);r.push(128|63&o),n-=1}return r}}P.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=O(t),this._streaming||(this._decoder=new j({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var i,r=new E(n),o=[];!r.endOfStream()&&-1!==(i=this._decoder.handler(r,r.read()));)null!==i&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));if(!this._streaming){do{if(-1===(i=this._decoder.handler(r,r.read())))break;null!==i&&(Array.isArray(i)?o.push.apply(o,i):o.push(i))}while(!r.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var i=e[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return t}(o)}},C.prototype={encode:function(e,t){e=e?String(e):"",t=O(t),this._streaming||(this._encoder=new B(this._options)),this._streaming=Boolean(t.stream);for(var n,i=[],r=new E(function(e){for(var t=String(e),n=t.length,i=0,r=[];i<n;){var o=t.charCodeAt(i);if(o<55296||o>57343)r.push(o);else if(56320<=o&&o<=57343)r.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)r.push(65533);else{var a=e.charCodeAt(i+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;r.push(65536+(s<<10)+u),i+=1}else r.push(65533)}i+=1}return r}(e));!r.endOfStream()&&-1!==(n=this._encoder.handler(r,r.read()));)Array.isArray(n)?i.push.apply(i,n):i.push(n);if(!this._streaming){for(;-1!==(n=this._encoder.handler(r,r.read()));)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)}};var R="function"===typeof Buffer?Buffer:null,D="function"===typeof TextDecoder&&"function"===typeof TextEncoder,A=function(e){if(D||!R){var t=new e("utf-8");return function(e){return t.decode(e)}}return function(e){var t=ke(e),n=t.buffer,i=t.byteOffset,r=t.length;return R.from(n,i,r).toString()}}("undefined"!==typeof TextDecoder?TextDecoder:P),L=function(e){if(D||!R){var t=new e;return function(e){return t.encode(e)}}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ke(R.from(e,"utf8"))}}("undefined"!==typeof TextEncoder?TextEncoder:C),F=n(1),M=n(2),N=Object.freeze({done:!0,value:void 0}),z=function(){function e(t){Object(p.a)(this,e),this._json=t}return Object(v.a)(e,[{key:"schema",get:function(){return this._json.schema}},{key:"batches",get:function(){return this._json.batches||[]}},{key:"dictionaries",get:function(){return this._json.dictionaries||[]}}]),e}(),U=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"tee",value:function(){return this._getDOMStream().tee()}},{key:"pipe",value:function(e,t){return this._getNodeStream().pipe(e,t)}},{key:"pipeTo",value:function(e,t){return this._getDOMStream().pipeTo(e,t)}},{key:"pipeThrough",value:function(e,t){return this._getDOMStream().pipeThrough(e,t)}},{key:"_getDOMStream",value:function(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}},{key:"_getNodeStream",value:function(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}]),e}(),V=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._values=[],e.resolvers=[],e._closedPromise=new Promise((function(t){return e._closedPromiseResolve=t})),e}return Object(v.a)(n,[{key:"cancel",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.return(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"write",value:function(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}},{key:"abort",value:function(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}},{key:"close",value:function(){if(this._closedPromiseResolve){for(var e=this.resolvers;e.length>0;)e.shift().resolve(N);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}},{key:Symbol.asyncIterator,value:function(){return this}},{key:"toDOMStream",value:function(e){return Je.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"toNodeStream",value:function(e){return Je.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"throw",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.abort(t);case 2:return e.abrupt("return",N);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.abrupt("return",N);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next(t,"read");case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peek",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next(t,"peek");case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=this;return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((function(t,n){e.resolvers.push({resolve:t,reject:n})})):Promise.resolve(N)}},{key:"_ensureOpen",value:function(){if(this._closedPromiseResolve)return!0;throw new Error("".concat(this," is closed"))}},{key:"closed",get:function(){return this._closedPromise}}]),n}(U),H=g(function(){var e=function(){throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=function(){throw e()},t.asUintN=function(){throw e()},"undefined"!==typeof BigInt?[BigInt,!0]:[t,!1]}(),2),W=H[0],$=H[1],G=g(function(){var e=function(){throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[function(){function t(){throw Object(p.a)(this,t),e()}return Object(v.a)(t,null,[{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}},{key:"BYTES_PER_ELEMENT",get:function(){return 8}}]),t}(),!1]}(),2),q=G[0],Y=(G[1],g(function(){var e=function(){throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[function(){function t(){throw Object(p.a)(this,t),e()}return Object(v.a)(t,null,[{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}},{key:"BYTES_PER_ELEMENT",get:function(){return 8}}]),t}(),!1]}(),2)),Z=Y[0],K=(Y[1],function(e){return"number"===typeof e}),X=function(e){return"boolean"===typeof e},Q=function(e){return"function"===typeof e},J=function(e){return null!=e&&Object(e)===e},ee=function(e){return J(e)&&Q(e.then)},te=function(e){return J(e)&&Q(e[Symbol.iterator])},ne=function(e){return J(e)&&Q(e[Symbol.asyncIterator])},ie=function(e){return J(e)&&J(e.schema)},re=function(e){return J(e)&&"done"in e&&"value"in e},oe=function(e){return J(e)&&Q(e.stat)&&K(e.fd)},ae=function(e){return J(e)&&ue(e.body)},se=function(e){return J(e)&&Q(e.abort)&&Q(e.getWriter)&&!(e instanceof U)},ue=function(e){return J(e)&&Q(e.cancel)&&Q(e.getReader)&&!(e instanceof U)},le=function(e){return J(e)&&Q(e.end)&&Q(e.write)&&X(e.writable)&&!(e instanceof U)},ce=function(e){return J(e)&&Q(e.read)&&Q(e.pipe)&&X(e.readable)&&!(e instanceof U)},he=y.mark(Pe),fe=T.ByteBuffer,de="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,r=e.byteLength,o=new Uint8Array(e.buffer,e.byteOffset,r),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(i,r));return o.set(a,n),e}function ve(e,t){for(var n,i,r,o=function(e){for(var t,n,i,r,o,a,s=e[0]?[e[0]]:[],u=0,l=0,c=e.length;++u<c;)if(o=s[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset)a&&(s[++l]=a);else{var h=o;t=h.byteOffset,i=h.byteLength;var f=a;n=f.byteOffset,r=f.byteLength,t+i<n||n+r<t?a&&(s[++l]=a):s[l]=new Uint8Array(o.buffer,t,n-t+r)}return s}(e),a=o.reduce((function(e,t){return e+t.byteLength}),0),s=0,u=-1,l=Math.min(t||1/0,a),c=o.length;++u<c;){if(l<=s+(i=(n=o[u]).subarray(0,Math.min(n.length,l-s))).length){i.length<n.length?o[u]=n.subarray(i.length):i.length===n.length&&u++,r?pe(r,i,s):r=i;break}pe(r||(r=new Uint8Array(l)),i,s),s+=i.length}return[r||new Uint8Array(0),o.slice(u),a-(r?r.byteLength:0)]}function ye(e,t){var n=re(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?("string"===typeof n&&(n=L(n)),n instanceof ArrayBuffer||n instanceof de?new e(n):n instanceof fe?ye(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}var ge=function(e){return ye(Int8Array,e)},me=function(e){return ye(Int16Array,e)},be=function(e){return ye(Int32Array,e)},we=function(e){return ye(q,e)},ke=function(e){return ye(Uint8Array,e)},_e=function(e){return ye(Uint16Array,e)},xe=function(e){return ye(Uint32Array,e)},Te=function(e){return ye(Z,e)},Se=function(e){return ye(Float32Array,e)},Oe=function(e){return ye(Float64Array,e)},Ee=function(e){return ye(Uint8ClampedArray,e)},Ie=function(e){return e.next(),e};function Pe(e,t){var n,i;return y.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)})),i="string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof de?n(t):te(t)?t:n(t),r.delegateYield(Ie(y.mark((function t(n){var i;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=null;case 1:return t.t0=n,t.next=4,ye(e,i);case 4:t.t1=t.sent,i=t.t0.next.call(t.t0,t.t1);case 6:if(!i.done){t.next=1;break}case 7:case"end":return t.stop()}}),t)}))(i[Symbol.iterator]())),"t0",3);case 3:case"end":return r.stop()}}),he)}var Ce=function(e){return Pe(Int8Array,e)},je=function(e){return Pe(Int16Array,e)},Be=function(e){return Pe(Int32Array,e)},Re=function(e){return Pe(Uint8Array,e)},De=function(e){return Pe(Uint16Array,e)},Ae=function(e){return Pe(Uint32Array,e)},Le=function(e){return Pe(Float32Array,e)},Fe=function(e){return Pe(Float64Array,e)},Me=function(e){return Pe(Uint8ClampedArray,e)};function Ne(e,t){return ze.apply(this,arguments)}function ze(){return(ze=k(y.mark((function e(t,n){var i,r,o;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ee(n)){e.next=13;break}return e.t0=x,e.t1=_,e.t2=Ne,e.t3=t,e.next=7,b(n);case 7:return e.t4=e.sent,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=(0,e.t1)(e.t5),e.t7=b,e.delegateYield((0,e.t0)(e.t6,e.t7),"t8",12);case 12:return e.abrupt("return",e.t8);case 13:return i=function(){var e=k(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=k(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(x(_(Ie(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null;case 1:return e.t0=t,e.next=4,n&&n.value;case 4:e.t1=e.sent,n=e.t0.next.call(e.t0,e.t1);case 6:if(!n.done){e.next=1;break}case 7:case"end":return e.stop()}}),e)}))(t[Symbol.iterator]()))),b),"t0",1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o="string"===typeof n||ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof de?i(n):te(n)?r(n):ne(n)?n:i(n),e.delegateYield(x(_(Ie(function(){var e=k(y.mark((function e(n){var i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null;case 1:return e.t0=b,e.t1=n,e.next=5,ye(t,i);case 5:return e.t2=e.sent,e.t3=e.t1.next.call(e.t1,e.t2),e.next=9,(0,e.t0)(e.t3);case 9:i=e.sent;case 10:if(!i.done){e.next=1;break}case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o[Symbol.asyncIterator]()))),b),"t9",17);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=function(e){return Ne(Int8Array,e)},Ve=function(e){return Ne(Int16Array,e)},He=function(e){return Ne(Int32Array,e)},We=function(e){return Ne(Uint8Array,e)},$e=function(e){return Ne(Uint16Array,e)},Ge=function(e){return Ne(Uint32Array,e)},qe=function(e){return Ne(Float32Array,e)},Ye=function(e){return Ne(Float64Array,e)},Ze=function(e){return Ne(Uint8ClampedArray,e)};function Ke(e,t,n){if(0!==e){n=n.slice(0,t+1);for(var i=-1;++i<=t;)n[i]+=e}return n}function Xe(e,t){var n=0,i=e.length;if(i!==t.length)return!1;if(i>0)do{if(e[n]!==t[n])return!1}while(++n<i);return!0}var Qe=y.mark(tt),Je={fromIterable:function(e){return et(tt(e))},fromAsyncIterable:function(e){return et(function(e){return nt.apply(this,arguments)}(e))},fromDOMStream:function(e){return et(function(e){return it.apply(this,arguments)}(e))},fromNodeStream:function(e){return et(function(e){return ut.apply(this,arguments)}(e))},toDOMStream:function(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream:function(e,t){throw new Error('"toNodeStream" not available in this environment')}},et=function(e){return e.next(),e};function tt(e){var t,n,i,r,o,a,s,u,l,c,h,f;return y.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return u=function(){if("peek"===o)return ve(i,a)[0];var e=g(ve(i,a),3);return r=e[0],i=e[1],s=e[2],r},n=!1,i=[],s=0,d.next=6,null;case 6:l=d.sent,o=l.cmd,a=l.size,c=Re(e)[Symbol.iterator](),d.prev=10;case 11:if(h=isNaN(a-s)?c.next(void 0):c.next(a-s),t=h.done,r=h.value,!t&&r.byteLength>0&&(i.push(r),s+=r.byteLength),!(t||a<=s)){d.next=22;break}case 16:return d.next=18,u();case 18:f=d.sent,o=f.cmd,a=f.size;case 21:if(a<s){d.next=16;break}case 22:if(!t){d.next=11;break}case 23:d.next=28;break;case 25:d.prev=25,d.t0=d.catch(10),(n=!0)&&"function"===typeof c.throw&&c.throw(d.t0);case 28:return d.prev=28,!1===n&&"function"===typeof c.return&&c.return(),d.finish(28);case 31:case"end":return d.stop()}}),Qe,null,[[10,25,28,31]])}function nt(){return(nt=k(y.mark((function e(t){var n,i,r,o,a,s,u,l,c,h,f,d;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){if("peek"===a)return ve(r,s)[0];var e=g(ve(r,s),3);return o=e[0],r=e[1],u=e[2],o},i=!1,r=[],u=0,e.next=6,null;case 6:c=e.sent,a=c.cmd,s=c.size,h=We(t)[Symbol.asyncIterator](),e.prev=10;case 11:if(!isNaN(s-u)){e.next=17;break}return e.next=14,b(h.next(void 0));case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,b(h.next(s-u));case 19:e.t0=e.sent;case 20:if(f=e.t0,n=f.done,o=f.value,!n&&o.byteLength>0&&(r.push(o),u+=o.byteLength),!(n||s<=u)){e.next=31;break}case 25:return e.next=27,l();case 27:d=e.sent,a=d.cmd,s=d.size;case 30:if(s<u){e.next=25;break}case 31:if(!n){e.next=11;break}case 32:e.next=40;break;case 34:if(e.prev=34,e.t1=e.catch(10),e.t2=(i=!0)&&"function"===typeof h.throw,!e.t2){e.next=40;break}return e.next=40,b(h.throw(e.t1));case 40:if(e.prev=40,e.t3=!1===i&&"function"===typeof h.return,!e.t3){e.next=45;break}return e.next=45,b(h.return());case 45:return e.finish(40);case 46:case"end":return e.stop()}}),e,null,[[10,34,40,46]])})))).apply(this,arguments)}function it(){return(it=k(y.mark((function e(t){var n,i,r,o,a,s,u,l,c,h,f,d;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){if("peek"===a)return ve(r,s)[0];var e=g(ve(r,s),3);return o=e[0],r=e[1],u=e[2],o},n=!1,i=!1,r=[],u=0,e.next=6,null;case 6:c=e.sent,a=c.cmd,s=c.size,h=new rt(t),e.prev=10;case 11:if(!isNaN(s-u)){e.next=17;break}return e.next=14,b(h.read(void 0));case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,b(h.read(s-u));case 19:e.t0=e.sent;case 20:if(f=e.t0,n=f.done,o=f.value,!n&&o.byteLength>0&&(r.push(ke(o)),u+=o.byteLength),!(n||s<=u)){e.next=31;break}case 25:return e.next=27,l();case 27:d=e.sent,a=d.cmd,s=d.size;case 30:if(s<u){e.next=25;break}case 31:if(!n){e.next=11;break}case 32:e.next=40;break;case 34:if(e.prev=34,e.t1=e.catch(10),e.t2=i=!0,!e.t2){e.next=40;break}return e.next=40,b(h.cancel(e.t1));case 40:if(e.prev=40,!1!==i){e.next=46;break}return e.next=44,b(h.cancel());case 44:e.next=47;break;case 46:t.locked&&h.releaseLock();case 47:return e.finish(40);case 48:case"end":return e.stop()}}),e,null,[[10,34,40,48]])})))).apply(this,arguments)}var rt=function(){function e(t){Object(p.a)(this,e),this.source=t,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(n){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}return Object(v.a)(e,[{key:"releaseLock",value:function(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}},{key:"cancel",value:function(){var e=d(y.mark((function e(t){var n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.reader,i=this.source,e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.cancel(t).catch((function(){}));case 5:i&&i.locked&&this.releaseLock();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=2;break}return e.abrupt("return",{done:null==this.reader,value:new Uint8Array(0)});case 2:if(this.supportsBYOB&&"number"===typeof t){e.next=8;break}return e.next=5,this.getDefaultReader().read();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.readFromBYOBReader(t);case 10:e.t0=e.sent;case 11:return!(n=e.t0).done&&(n.value=ke(n)),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDefaultReader",value:function(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((function(){}))),this.reader=this.defaultReader}},{key:"getBYOBReader",value:function(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((function(){}))),this.reader=this.byobReader}},{key:"readFromBYOBReader",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(this.getBYOBReader(),new ArrayBuffer(t),0,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"closed",get:function(){return this.reader?this.reader.closed.catch((function(){})):Promise.resolve()}}]),e}();function ot(e,t,n,i){return at.apply(this,arguments)}function at(){return(at=d(y.mark((function e(t,n,i,r){var o,a,s;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i>=r)){e.next=2;break}return e.abrupt("return",{done:!1,value:new Uint8Array(n,0,r)});case 2:return e.next=4,t.read(new Uint8Array(n,i,r-i));case 4:if(o=e.sent,a=o.done,s=o.value,!((i+=s.byteLength)<r)||a){e.next=11;break}return e.next=10,ot(t,s.buffer,i,r);case 10:return e.abrupt("return",e.sent);case 11:return e.abrupt("return",{done:a,value:new Uint8Array(s.buffer,0,i)});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(e,t){var n,i=function(e){return n([t,e])};return[t,i,new Promise((function(r){return(n=r)&&e.once(t,i)}))]};function ut(){return(ut=k(y.mark((function e(t){var n,i,r,o,a,s,u,l,c,f,p,v,m,w,k;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k=function(e,n){return c=l=null,new Promise(function(){var i=d(y.mark((function i(r,o){var a,s,u,l,c,f;return y.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=h(e);try{for(a.s();!(s=a.n()).done;)u=g(s.value,2),l=u[0],c=u[1],t.off(l,c)}catch(n){a.e(n)}finally{a.f()}try{(f=t.destroy)&&f.call(t,n),n=void 0}catch(d){n=d||n}finally{null!=n?o(n):r()}case 3:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())},f=function(){if("peek"===a)return ve(l,s)[0];var e=g(ve(l,s),3);return c=e[0],l=e[1],u=e[2],c},n=[],i="error",r=!1,o=null,u=0,l=[],e.next=9,null;case 9:if(p=e.sent,a=p.cmd,s=p.size,!t.isTTY){e.next=16;break}return e.next=15,new Uint8Array(0);case 15:return e.abrupt("return",e.sent);case 16:e.prev=16,n[0]=st(t,"end"),n[1]=st(t,"error");case 19:return n[2]=st(t,"readable"),e.next=22,b(Promise.race(n.map((function(e){return e[2]}))));case 22:if(v=e.sent,m=g(v,2),i=m[0],o=m[1],"error"!==i){e.next=28;break}return e.abrupt("break",37);case 28:if((r="end"===i)||(isFinite(s-u)?(c=ke(t.read(s-u))).byteLength<s-u&&(c=ke(t.read(void 0))):c=ke(t.read(void 0)),c.byteLength>0&&(l.push(c),u+=c.byteLength)),!(r||s<=u)){e.next=36;break}case 30:return e.next=32,f();case 32:w=e.sent,a=w.cmd,s=w.size;case 35:if(s<u){e.next=30;break}case 36:if(!r){e.next=19;break}case 37:return e.prev=37,e.next=40,b(k(n,"error"===i?o:null));case 40:return e.finish(37);case 41:case"end":return e.stop()}}),e,null,[[16,,37,41]])})))).apply(this,arguments)}var lt=n(6),ct=n(5);function ht(e,t,n){return(ht="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(ct.a)(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}var ft,dt,pt,vt,yt,gt,mt=function e(){Object(p.a)(this,e)};yt=ft||(ft={}),vt=yt.apache||(yt.apache={}),pt=vt.arrow||(vt.arrow={}),function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4"}((dt=pt.flatbuf||(pt.flatbuf={})).MetadataVersion||(dt.MetadataVersion={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(e.UnionMode||(e.UnionMode={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(e.Precision||(e.Precision={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(e.DateUnit||(e.DateUnit={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(e.TimeUnit||(e.TimeUnit={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME"}(e.IntervalUnit||(e.IntervalUnit={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(e.Type||(e.Type={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(e.Endianness||(e.Endianness={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsNull",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startNull",value:function(e){e.startObject(0)}},{key:"endNull",value:function(e){return e.endObject()}},{key:"createNull",value:function(t){return e.startNull(t),e.endNull(t)}}]),e}();e.Null=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsStruct_",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startStruct_",value:function(e){e.startObject(0)}},{key:"endStruct_",value:function(e){return e.endObject()}},{key:"createStruct_",value:function(t){return e.startStruct_(t),e.endStruct_(t)}}]),e}();e.Struct_=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startList",value:function(e){e.startObject(0)}},{key:"endList",value:function(e){return e.endObject()}},{key:"createList",value:function(t){return e.startList(t),e.endList(t)}}]),e}();e.List=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsLargeList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startLargeList",value:function(e){e.startObject(0)}},{key:"endLargeList",value:function(e){return e.endObject()}},{key:"createLargeList",value:function(t){return e.startLargeList(t),e.endLargeList(t)}}]),e}();e.LargeList=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"listSize",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeList",value:function(e){e.startObject(1)}},{key:"addListSize",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeList",value:function(e){return e.endObject()}},{key:"createFixedSizeList",value:function(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)}}]),e}();e.FixedSizeList=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"keysSorted",value:function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsMap",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMap",value:function(e){e.startObject(1)}},{key:"addKeysSorted",value:function(e,t){e.addFieldInt8(0,+t,0)}},{key:"endMap",value:function(e){return e.endObject()}},{key:"createMap",value:function(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)}}]),e}();e.Map=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"mode",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.UnionMode.Sparse}},{key:"typeIds",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"typeIdsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"typeIdsArray",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}}],[{key:"getRootAsUnion",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startUnion",value:function(e){e.startObject(2)}},{key:"addMode",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.UnionMode.Sparse)}},{key:"addTypeIds",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createTypeIdsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}},{key:"startTypeIdsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endUnion",value:function(e){return e.endObject()}},{key:"createUnion",value:function(e,n,i){return t.startUnion(e),t.addMode(e,n),t.addTypeIds(e,i),t.endUnion(e)}}]),t}();t.Union=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"isSigned",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsInt",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startInt",value:function(e){e.startObject(2)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addIsSigned",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"endInt",value:function(e){return e.endObject()}},{key:"createInt",value:function(t,n,i){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,i),e.endInt(t)}}]),e}();e.Int=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.Precision.HALF}}],[{key:"getRootAsFloatingPoint",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startFloatingPoint",value:function(e){e.startObject(1)}},{key:"addPrecision",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.Precision.HALF)}},{key:"endFloatingPoint",value:function(e){return e.endObject()}},{key:"createFloatingPoint",value:function(e,n){return t.startFloatingPoint(e),t.addPrecision(e,n),t.endFloatingPoint(e)}}]),t}();t.FloatingPoint=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsUtf8",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startUtf8",value:function(e){e.startObject(0)}},{key:"endUtf8",value:function(e){return e.endObject()}},{key:"createUtf8",value:function(t){return e.startUtf8(t),e.endUtf8(t)}}]),e}();e.Utf8=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBinary",value:function(e){e.startObject(0)}},{key:"endBinary",value:function(e){return e.endObject()}},{key:"createBinary",value:function(t){return e.startBinary(t),e.endBinary(t)}}]),e}();e.Binary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsLargeUtf8",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startLargeUtf8",value:function(e){e.startObject(0)}},{key:"endLargeUtf8",value:function(e){return e.endObject()}},{key:"createLargeUtf8",value:function(t){return e.startLargeUtf8(t),e.endLargeUtf8(t)}}]),e}();e.LargeUtf8=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsLargeBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startLargeBinary",value:function(e){e.startObject(0)}},{key:"endLargeBinary",value:function(e){return e.endObject()}},{key:"createLargeBinary",value:function(t){return e.startLargeBinary(t),e.endLargeBinary(t)}}]),e}();e.LargeBinary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"byteWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeBinary",value:function(e){e.startObject(1)}},{key:"addByteWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeBinary",value:function(e){return e.endObject()}},{key:"createFixedSizeBinary",value:function(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)}}]),e}();e.FixedSizeBinary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBool",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBool",value:function(e){e.startObject(0)}},{key:"endBool",value:function(e){return e.endObject()}},{key:"createBool",value:function(t){return e.startBool(t),e.endBool(t)}}]),e}();e.Bool=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"scale",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsDecimal",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDecimal",value:function(e){e.startObject(2)}},{key:"addPrecision",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addScale",value:function(e,t){e.addFieldInt32(1,t,0)}},{key:"endDecimal",value:function(e){return e.endObject()}},{key:"createDecimal",value:function(t,n,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,i),e.endDecimal(t)}}]),e}();e.Decimal=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.DateUnit.MILLISECOND}}],[{key:"getRootAsDate",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDate",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.DateUnit.MILLISECOND)}},{key:"endDate",value:function(e){return e.endObject()}},{key:"createDate",value:function(e,n){return t.startDate(e),t.addUnit(e,n),t.endDate(e)}}]),t}();t.Date=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.MILLISECOND}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}}],[{key:"getRootAsTime",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startTime",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(1,t,32)}},{key:"endTime",value:function(e){return e.endObject()}},{key:"createTime",value:function(e,n,i){return t.startTime(e),t.addUnit(e,n),t.addBitWidth(e,i),t.endTime(e)}}]),t}();t.Time=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.SECOND}},{key:"timezone",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsTimestamp",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startTimestamp",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.TimeUnit.SECOND)}},{key:"addTimezone",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endTimestamp",value:function(e){return e.endObject()}},{key:"createTimestamp",value:function(e,n,i){return t.startTimestamp(e),t.addUnit(e,n),t.addTimezone(e,i),t.endTimestamp(e)}}]),t}();t.Timestamp=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}}],[{key:"getRootAsInterval",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startInterval",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}},{key:"endInterval",value:function(e){return e.endObject()}},{key:"createInterval",value:function(e,n){return t.startInterval(e),t.addUnit(e,n),t.endInterval(e)}}]),t}();t.Interval=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.MILLISECOND}}],[{key:"getRootAsDuration",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDuration",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}},{key:"endDuration",value:function(e){return e.endObject()}},{key:"createDuration",value:function(e,n){return t.startDuration(e),t.addUnit(e,n),t.endDuration(e)}}]),t}();t.Duration=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"key",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"value",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsKeyValue",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startKeyValue",value:function(e){e.startObject(2)}},{key:"addKey",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addValue",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endKeyValue",value:function(e){return e.endObject()}},{key:"createKeyValue",value:function(t,n,i){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,i),e.endKeyValue(t)}}]),e}();e.KeyValue=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"indexType",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"isOrdered",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsDictionaryEncoding",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDictionaryEncoding",value:function(e){e.startObject(3)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addIndexType",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsOrdered",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"endDictionaryEncoding",value:function(e){return e.endObject()}},{key:"createDictionaryEncoding",value:function(e,n,i,r){return t.startDictionaryEncoding(e),t.addId(e,n),t.addIndexType(e,i),t.addIsOrdered(e,r),t.endDictionaryEncoding(e)}}]),t}();t.DictionaryEncoding=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"nullable",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}},{key:"typeType",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):e.apache.arrow.flatbuf.Type.NONE}},{key:"type",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"dictionary",value:function(t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new e.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"children",value:function(t,n){var i=this.bb.__offset(this.bb_pos,14);return i?(n||new e.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}},{key:"childrenLength",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(t,n){var i=this.bb.__offset(this.bb_pos,16);return i?(n||new e.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsField",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startField",value:function(e){e.startObject(7)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addNullable",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"addTypeType",value:function(t,n){t.addFieldInt8(2,n,e.apache.arrow.flatbuf.Type.NONE)}},{key:"addType",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"addDictionary",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"addChildren",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"createChildrenVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startChildrenVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endField",value:function(e){return e.endObject()}},{key:"createField",value:function(e,n,i,r,o,a,s,u){return t.startField(e),t.addName(e,n),t.addNullable(e,i),t.addTypeType(e,r),t.addType(e,o),t.addDictionary(e,a),t.addChildren(e,s),t.addCustomMetadata(e,u),t.endField(e)}}]),t}();t.Field=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"createBuffer",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}();e.Buffer=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"endianness",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.Endianness.Little}},{key:"fields",value:function(t,n){var i=this.bb.__offset(this.bb_pos,6);return i?(n||new e.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}},{key:"fieldsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(t,n){var i=this.bb.__offset(this.bb_pos,8);return i?(n||new e.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsSchema",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startSchema",value:function(e){e.startObject(3)}},{key:"addEndianness",value:function(t,n){t.addFieldInt16(0,n,e.apache.arrow.flatbuf.Endianness.Little)}},{key:"addFields",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createFieldsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startFieldsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endSchema",value:function(e){return e.endObject()}},{key:"finishSchemaBuffer",value:function(e,t){e.finish(t)}},{key:"createSchema",value:function(e,n,i,r){return t.startSchema(e),t.addEndianness(e,n),t.addFields(e,i),t.addCustomMetadata(e,r),t.endSchema(e)}}]),t}();t.Schema=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(ft||(ft={})),function(e){!function(e){!function(e){!function(e){e.Schema=ft.apache.arrow.flatbuf.Schema}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={})),function(e){!function(e){!function(e){!function(e){!function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(e.MessageHeader||(e.MessageHeader={}))}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"nullCount",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"createFieldNode",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}();e.FieldNode=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"nodes",value:function(t,n){var i=this.bb.__offset(this.bb_pos,6);return i?(n||new e.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}},{key:"nodesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"buffers",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new ft.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}},{key:"buffersLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsRecordBatch",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startRecordBatch",value:function(e){e.startObject(3)}},{key:"addLength",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addNodes",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"startNodesVector",value:function(e,t){e.startVector(16,t,8)}},{key:"addBuffers",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startBuffersVector",value:function(e,t){e.startVector(16,t,8)}},{key:"endRecordBatch",value:function(e){return e.endObject()}},{key:"createRecordBatch",value:function(e,n,i,r){return t.startRecordBatch(e),t.addLength(e,n),t.addNodes(e,i),t.addBuffers(e,r),t.endRecordBatch(e)}}]),t}();t.RecordBatch=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"data",value:function(t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"isDelta",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsDictionaryBatch",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startDictionaryBatch",value:function(e){e.startObject(3)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addData",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsDelta",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"endDictionaryBatch",value:function(e){return e.endObject()}},{key:"createDictionaryBatch",value:function(e,n,i,r){return t.startDictionaryBatch(e),t.addId(e,n),t.addData(e,i),t.addIsDelta(e,r),t.endDictionaryBatch(e)}}]),t}();t.DictionaryBatch=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={})),function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.apache.arrow.flatbuf.MetadataVersion.V1}},{key:"headerType",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.apache.arrow.flatbuf.MessageHeader.NONE}},{key:"header",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"bodyLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new ft.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsMessage",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startMessage",value:function(e){e.startObject(5)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,ft.apache.arrow.flatbuf.MetadataVersion.V1)}},{key:"addHeaderType",value:function(t,n){t.addFieldInt8(1,n,e.apache.arrow.flatbuf.MessageHeader.NONE)}},{key:"addHeader",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"addBodyLength",value:function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endMessage",value:function(e){return e.endObject()}},{key:"finishMessageBuffer",value:function(e,t){e.finish(t)}},{key:"createMessage",value:function(e,n,i,r,o,a){return t.startMessage(e),t.addVersion(e,n),t.addHeaderType(e,i),t.addHeader(e,r),t.addBodyLength(e,o),t.addCustomMetadata(e,a),t.endMessage(e)}}]),t}();t.Message=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(gt||(gt={}));ft.apache.arrow.flatbuf.Type;var bt,wt,kt=ft.apache.arrow.flatbuf.DateUnit,_t=ft.apache.arrow.flatbuf.TimeUnit,xt=ft.apache.arrow.flatbuf.Precision,Tt=ft.apache.arrow.flatbuf.UnionMode,St=ft.apache.arrow.flatbuf.IntervalUnit,Ot=gt.apache.arrow.flatbuf.MessageHeader,Et=ft.apache.arrow.flatbuf.MetadataVersion;!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(bt||(bt={})),function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"}(wt||(wt={}));var It=y.mark(Dt);function Pt(e,t,n,i){return 0!==(n&1<<i)}function Ct(e,t,n,i){return(n&1<<i)>>i}function jt(e,t,n){return n?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1}function Bt(e,t,n){var i=n.byteLength+7&-8;if(e>0||n.byteLength<i){var r=new Uint8Array(i);return r.set(e%8===0?n.subarray(e>>3):Rt(Dt(n,e,t,null,Pt)).subarray(0,i)),r}return n}function Rt(e){var t,n=[],i=0,r=0,o=0,a=h(e);try{for(a.s();!(t=a.n()).done;){t.value&&(o|=1<<r),8===++r&&(n[i++]=o,o=r=0)}}catch(u){a.e(u)}finally{a.f()}(0===i||r>0)&&(n[i++]=o);var s=new Uint8Array(n.length+7&-8);return s.set(n),s}function Dt(e,t,n,i,r){var o,a,s,u,l;return y.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:o=t%8,a=t>>3,s=0,u=n;case 3:if(!(u>0)){c.next=11;break}l=e[a++];case 5:return c.next=7,r(i,s++,l,o);case 7:if(--u>0&&++o<8){c.next=5;break}case 8:o=0,c.next=3;break;case 11:case"end":return c.stop()}}),It)}function At(e,t,n){if(n-t<=0)return 0;if(n-t<8){var i,r=0,o=h(Dt(e,t,n-t,e,Ct));try{for(o.s();!(i=o.n()).done;){r+=i.value}}catch(u){o.e(u)}finally{o.f()}return r}var a=n>>3<<3,s=t+(t%8===0?0:8-t%8);return At(e,t,s)+At(e,a,n)+Lt(e,s>>3,a-s>>3)}function Lt(e,t,n){for(var i=0,r=0|t,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a=void 0===n?e.byteLength:r+n;a-r>=4;)i+=Ft(o.getUint32(r)),r+=4;for(;a-r>=2;)i+=Ft(o.getUint16(r)),r+=2;for(;a-r>=1;)i+=Ft(o.getUint8(r)),r+=1;return i}function Ft(e){var t=0|e;return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}function Mt(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nt=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"visitMany",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.map((function(e,n){return t.visit.apply(t,[e].concat(Mt(i.map((function(e){return e[n]})))))}))}},{key:"visit",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.getVisitFn(t[0],!1).apply(this,t)}},{key:"getVisitFn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zt(this,e,t)}},{key:"visitNull",value:function(e){return null}},{key:"visitBool",value:function(e){return null}},{key:"visitInt",value:function(e){return null}},{key:"visitFloat",value:function(e){return null}},{key:"visitUtf8",value:function(e){return null}},{key:"visitBinary",value:function(e){return null}},{key:"visitFixedSizeBinary",value:function(e){return null}},{key:"visitDate",value:function(e){return null}},{key:"visitTimestamp",value:function(e){return null}},{key:"visitTime",value:function(e){return null}},{key:"visitDecimal",value:function(e){return null}},{key:"visitList",value:function(e){return null}},{key:"visitStruct",value:function(e){return null}},{key:"visitUnion",value:function(e){return null}},{key:"visitDictionary",value:function(e){return null}},{key:"visitInterval",value:function(e){return null}},{key:"visitFixedSizeList",value:function(e){return null}},{key:"visitMap",value:function(e){return null}}]),e}();function zt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null,r=bt.NONE;switch(t instanceof Ln||t instanceof mt?r=Ut(t.type):t instanceof en?r=Ut(t):"number"!==typeof(r=t)&&(r=bt[t]),r){case bt.Null:i=e.visitNull;break;case bt.Bool:i=e.visitBool;break;case bt.Int:i=e.visitInt;break;case bt.Int8:i=e.visitInt8||e.visitInt;break;case bt.Int16:i=e.visitInt16||e.visitInt;break;case bt.Int32:i=e.visitInt32||e.visitInt;break;case bt.Int64:i=e.visitInt64||e.visitInt;break;case bt.Uint8:i=e.visitUint8||e.visitInt;break;case bt.Uint16:i=e.visitUint16||e.visitInt;break;case bt.Uint32:i=e.visitUint32||e.visitInt;break;case bt.Uint64:i=e.visitUint64||e.visitInt;break;case bt.Float:i=e.visitFloat;break;case bt.Float16:i=e.visitFloat16||e.visitFloat;break;case bt.Float32:i=e.visitFloat32||e.visitFloat;break;case bt.Float64:i=e.visitFloat64||e.visitFloat;break;case bt.Utf8:i=e.visitUtf8;break;case bt.Binary:i=e.visitBinary;break;case bt.FixedSizeBinary:i=e.visitFixedSizeBinary;break;case bt.Date:i=e.visitDate;break;case bt.DateDay:i=e.visitDateDay||e.visitDate;break;case bt.DateMillisecond:i=e.visitDateMillisecond||e.visitDate;break;case bt.Timestamp:i=e.visitTimestamp;break;case bt.TimestampSecond:i=e.visitTimestampSecond||e.visitTimestamp;break;case bt.TimestampMillisecond:i=e.visitTimestampMillisecond||e.visitTimestamp;break;case bt.TimestampMicrosecond:i=e.visitTimestampMicrosecond||e.visitTimestamp;break;case bt.TimestampNanosecond:i=e.visitTimestampNanosecond||e.visitTimestamp;break;case bt.Time:i=e.visitTime;break;case bt.TimeSecond:i=e.visitTimeSecond||e.visitTime;break;case bt.TimeMillisecond:i=e.visitTimeMillisecond||e.visitTime;break;case bt.TimeMicrosecond:i=e.visitTimeMicrosecond||e.visitTime;break;case bt.TimeNanosecond:i=e.visitTimeNanosecond||e.visitTime;break;case bt.Decimal:i=e.visitDecimal;break;case bt.List:i=e.visitList;break;case bt.Struct:i=e.visitStruct;break;case bt.Union:i=e.visitUnion;break;case bt.DenseUnion:i=e.visitDenseUnion||e.visitUnion;break;case bt.SparseUnion:i=e.visitSparseUnion||e.visitUnion;break;case bt.Dictionary:i=e.visitDictionary;break;case bt.Interval:i=e.visitInterval;break;case bt.IntervalDayTime:i=e.visitIntervalDayTime||e.visitInterval;break;case bt.IntervalYearMonth:i=e.visitIntervalYearMonth||e.visitInterval;break;case bt.FixedSizeList:i=e.visitFixedSizeList;break;case bt.Map:i=e.visitMap}if("function"===typeof i)return i;if(!n)return function(){return null};throw new Error("Unrecognized type '".concat(bt[r],"'"))}function Ut(e){switch(e.typeId){case bt.Null:return bt.Null;case bt.Int:var t=e.bitWidth,n=e.isSigned;switch(t){case 8:return n?bt.Int8:bt.Uint8;case 16:return n?bt.Int16:bt.Uint16;case 32:return n?bt.Int32:bt.Uint32;case 64:return n?bt.Int64:bt.Uint64}return bt.Int;case bt.Float:switch(e.precision){case xt.HALF:return bt.Float16;case xt.SINGLE:return bt.Float32;case xt.DOUBLE:return bt.Float64}return bt.Float;case bt.Binary:return bt.Binary;case bt.Utf8:return bt.Utf8;case bt.Bool:return bt.Bool;case bt.Decimal:return bt.Decimal;case bt.Time:switch(e.unit){case _t.SECOND:return bt.TimeSecond;case _t.MILLISECOND:return bt.TimeMillisecond;case _t.MICROSECOND:return bt.TimeMicrosecond;case _t.NANOSECOND:return bt.TimeNanosecond}return bt.Time;case bt.Timestamp:switch(e.unit){case _t.SECOND:return bt.TimestampSecond;case _t.MILLISECOND:return bt.TimestampMillisecond;case _t.MICROSECOND:return bt.TimestampMicrosecond;case _t.NANOSECOND:return bt.TimestampNanosecond}return bt.Timestamp;case bt.Date:switch(e.unit){case kt.DAY:return bt.DateDay;case kt.MILLISECOND:return bt.DateMillisecond}return bt.Date;case bt.Interval:switch(e.unit){case St.DAY_TIME:return bt.IntervalDayTime;case St.YEAR_MONTH:return bt.IntervalYearMonth}return bt.Interval;case bt.Map:return bt.Map;case bt.List:return bt.List;case bt.Struct:return bt.Struct;case bt.Union:switch(e.mode){case Tt.Dense:return bt.DenseUnion;case Tt.Sparse:return bt.SparseUnion}return bt.Union;case bt.FixedSizeBinary:return bt.FixedSizeBinary;case bt.FixedSizeList:return bt.FixedSizeList;case bt.Dictionary:return bt.Dictionary}throw new Error("Unrecognized type '".concat(bt[e.typeId],"'"))}Nt.prototype.visitInt8=null,Nt.prototype.visitInt16=null,Nt.prototype.visitInt32=null,Nt.prototype.visitInt64=null,Nt.prototype.visitUint8=null,Nt.prototype.visitUint16=null,Nt.prototype.visitUint32=null,Nt.prototype.visitUint64=null,Nt.prototype.visitFloat16=null,Nt.prototype.visitFloat32=null,Nt.prototype.visitFloat64=null,Nt.prototype.visitDateDay=null,Nt.prototype.visitDateMillisecond=null,Nt.prototype.visitTimestampSecond=null,Nt.prototype.visitTimestampMillisecond=null,Nt.prototype.visitTimestampMicrosecond=null,Nt.prototype.visitTimestampNanosecond=null,Nt.prototype.visitTimeSecond=null,Nt.prototype.visitTimeMillisecond=null,Nt.prototype.visitTimeMicrosecond=null,Nt.prototype.visitTimeNanosecond=null,Nt.prototype.visitDenseUnion=null,Nt.prototype.visitSparseUnion=null,Nt.prototype.visitIntervalDayTime=null,Nt.prototype.visitIntervalYearMonth=null;var Vt=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"compareSchemas",value:function(e,t){return e===t||t instanceof e.constructor&&Jt.compareFields(e.fields,t.fields)}},{key:"compareFields",value:function(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return Jt.compareField(e,t[n])}))}},{key:"compareField",value:function(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&Jt.visit(e.type,t.type)}}]),n}(Nt);function Ht(e,t){return t instanceof e.constructor}function Wt(e,t){return e===t||Ht(e,t)}function $t(e,t){return e===t||Ht(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function Gt(e,t){return e===t||Ht(e,t)&&e.precision===t.precision}function qt(e,t){return e===t||Ht(e,t)&&e.unit===t.unit}function Yt(e,t){return e===t||Ht(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Zt(e,t){return e===t||Ht(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function Kt(e,t){return e===t||Ht(e,t)&&e.mode===t.mode&&e.typeIds.every((function(e,n){return e===t.typeIds[n]}))&&Jt.compareFields(e.children,t.children)}function Xt(e,t){return e===t||Ht(e,t)&&e.unit===t.unit}Vt.prototype.visitNull=Wt,Vt.prototype.visitBool=Wt,Vt.prototype.visitInt=$t,Vt.prototype.visitInt8=$t,Vt.prototype.visitInt16=$t,Vt.prototype.visitInt32=$t,Vt.prototype.visitInt64=$t,Vt.prototype.visitUint8=$t,Vt.prototype.visitUint16=$t,Vt.prototype.visitUint32=$t,Vt.prototype.visitUint64=$t,Vt.prototype.visitFloat=Gt,Vt.prototype.visitFloat16=Gt,Vt.prototype.visitFloat32=Gt,Vt.prototype.visitFloat64=Gt,Vt.prototype.visitUtf8=Wt,Vt.prototype.visitBinary=Wt,Vt.prototype.visitFixedSizeBinary=function(e,t){return e===t||Ht(e,t)&&e.byteWidth===t.byteWidth},Vt.prototype.visitDate=qt,Vt.prototype.visitDateDay=qt,Vt.prototype.visitDateMillisecond=qt,Vt.prototype.visitTimestamp=Yt,Vt.prototype.visitTimestampSecond=Yt,Vt.prototype.visitTimestampMillisecond=Yt,Vt.prototype.visitTimestampMicrosecond=Yt,Vt.prototype.visitTimestampNanosecond=Yt,Vt.prototype.visitTime=Zt,Vt.prototype.visitTimeSecond=Zt,Vt.prototype.visitTimeMillisecond=Zt,Vt.prototype.visitTimeMicrosecond=Zt,Vt.prototype.visitTimeNanosecond=Zt,Vt.prototype.visitDecimal=Wt,Vt.prototype.visitList=function(e,t){return e===t||Ht(e,t)&&e.children.length===t.children.length&&Jt.compareFields(e.children,t.children)},Vt.prototype.visitStruct=function(e,t){return e===t||Ht(e,t)&&e.children.length===t.children.length&&Jt.compareFields(e.children,t.children)},Vt.prototype.visitUnion=Kt,Vt.prototype.visitDenseUnion=Kt,Vt.prototype.visitSparseUnion=Kt,Vt.prototype.visitDictionary=function(e,t){return e===t||Ht(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Jt.visit(e.indices,t.indices)&&Jt.visit(e.dictionary,t.dictionary)},Vt.prototype.visitInterval=Xt,Vt.prototype.visitIntervalDayTime=Xt,Vt.prototype.visitIntervalYearMonth=Xt,Vt.prototype.visitFixedSizeList=function(e,t){return e===t||Ht(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Jt.compareFields(e.children,t.children)},Vt.prototype.visitMap=function(e,t){return e===t||Ht(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Jt.compareFields(e.children,t.children)};var Qt,Jt=new Vt,en=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"compareTo",value:function(e){return Jt.visit(this,e)}},{key:"typeId",get:function(){return bt.NONE}}],[{key:"isNull",value:function(e){return e&&e.typeId===bt.Null}},{key:"isInt",value:function(e){return e&&e.typeId===bt.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===bt.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===bt.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===bt.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===bt.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===bt.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===bt.Date}},{key:"isTime",value:function(e){return e&&e.typeId===bt.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===bt.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===bt.Interval}},{key:"isList",value:function(e){return e&&e.typeId===bt.List}},{key:"isStruct",value:function(e){return e&&e.typeId===bt.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===bt.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===bt.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===bt.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===bt.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===bt.Dictionary}}]),e}();en[Symbol.toStringTag]=((Qt=en.prototype).children=null,Qt.ArrayType=Array,Qt[Symbol.toStringTag]="DataType");var tn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"toString",value:function(){return"Null"}},{key:"typeId",get:function(){return bt.Null}}]),n}(en);tn[Symbol.toStringTag]=function(e){return e[Symbol.toStringTag]="Null"}(tn.prototype);var nn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).isSigned=e,r.bitWidth=i,r}return Object(v.a)(n,[{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}},{key:"typeId",get:function(){return bt.Int}},{key:"ArrayType",get:function(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}]),n}(en);nn[Symbol.toStringTag]=function(e){return e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"}(nn.prototype);var rn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!0,8)}return n}(nn),on=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!0,16)}return n}(nn),an=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!0,32)}return n}(nn),sn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!0,64)}return n}(nn),un=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!1,8)}return n}(nn),ln=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!1,16)}return n}(nn),cn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!1,32)}return n}(nn),hn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,!1,64)}return n}(nn);Object.defineProperty(rn.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(on.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(an.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(sn.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(un.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(ln.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(cn.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(hn.prototype,"ArrayType",{value:Uint32Array});var fn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).precision=e,i}return Object(v.a)(n,[{key:"toString",value:function(){return"Float".concat(this.precision<<5||16)}},{key:"typeId",get:function(){return bt.Float}},{key:"ArrayType",get:function(){switch(this.precision){case xt.HALF:return Uint16Array;case xt.SINGLE:return Float32Array;case xt.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}]),n}(en);fn[Symbol.toStringTag]=function(e){return e.precision=null,e[Symbol.toStringTag]="Float"}(fn.prototype);var dn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,xt.HALF)}return n}(fn),pn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,xt.SINGLE)}return n}(fn),vn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,xt.DOUBLE)}return n}(fn);Object.defineProperty(dn.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(pn.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(vn.prototype,"ArrayType",{value:Float64Array});var yn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this)}return Object(v.a)(n,[{key:"toString",value:function(){return"Binary"}},{key:"typeId",get:function(){return bt.Binary}}]),n}(en);yn[Symbol.toStringTag]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"}(yn.prototype);var gn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this)}return Object(v.a)(n,[{key:"toString",value:function(){return"Utf8"}},{key:"typeId",get:function(){return bt.Utf8}}]),n}(en);gn[Symbol.toStringTag]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"}(gn.prototype);var mn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this)}return Object(v.a)(n,[{key:"toString",value:function(){return"Bool"}},{key:"typeId",get:function(){return bt.Bool}}]),n}(en);mn[Symbol.toStringTag]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"}(mn.prototype);var bn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).scale=e,r.precision=i,r}return Object(v.a)(n,[{key:"toString",value:function(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}},{key:"typeId",get:function(){return bt.Decimal}}]),n}(en);bn[Symbol.toStringTag]=function(e){return e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"}(bn.prototype);var wn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).unit=e,i}return Object(v.a)(n,[{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(kt[this.unit],">")}},{key:"typeId",get:function(){return bt.Date}}]),n}(en);wn[Symbol.toStringTag]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"}(wn.prototype);var kn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,kt.DAY)}return n}(wn),_n=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.call(this,kt.MILLISECOND)}return n}(wn),xn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).unit=e,r.bitWidth=i,r}return Object(v.a)(n,[{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(_t[this.unit],">")}},{key:"typeId",get:function(){return bt.Time}}]),n}(en);xn[Symbol.toStringTag]=function(e){return e.unit=null,e.bitWidth=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Time"}(xn.prototype);var Tn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).unit=e,r.timezone=i,r}return Object(v.a)(n,[{key:"toString",value:function(){return"Timestamp<".concat(_t[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}},{key:"typeId",get:function(){return bt.Timestamp}}]),n}(en);Tn[Symbol.toStringTag]=function(e){return e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"}(Tn.prototype);var Sn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).unit=e,i}return Object(v.a)(n,[{key:"toString",value:function(){return"Interval<".concat(St[this.unit],">")}},{key:"typeId",get:function(){return bt.Interval}}]),n}(en);Sn[Symbol.toStringTag]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"}(Sn.prototype);var On=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).children=[e],i}return Object(v.a)(n,[{key:"toString",value:function(){return"List<".concat(this.valueType,">")}},{key:"typeId",get:function(){return bt.List}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}}]),n}(en);On[Symbol.toStringTag]=function(e){return e.children=null,e[Symbol.toStringTag]="List"}(On.prototype);var En=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).children=e,i}return Object(v.a)(n,[{key:"toString",value:function(){return"Struct<{".concat(this.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}},{key:"typeId",get:function(){return bt.Struct}}]),n}(en);En[Symbol.toStringTag]=function(e){return e.children=null,e[Symbol.toStringTag]="Struct"}(En.prototype);var In=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i,r){var o;return Object(p.a)(this,n),(o=t.call(this)).mode=e,o.children=r,o.typeIds=i=Int32Array.from(i),o.typeIdToChildIndex=i.reduce((function(e,t,n){return(e[t]=n)&&e||e}),Object.create(null)),o}return Object(v.a)(n,[{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((function(e){return"".concat(e.type)})).join(" | "),">")}},{key:"typeId",get:function(){return bt.Union}}]),n}(en);In[Symbol.toStringTag]=function(e){return e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"}(In.prototype);var Pn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).byteWidth=e,i}return Object(v.a)(n,[{key:"toString",value:function(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}},{key:"typeId",get:function(){return bt.FixedSizeBinary}}]),n}(en);Pn[Symbol.toStringTag]=function(e){return e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"}(Pn.prototype);var Cn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).listSize=e,r.children=[i],r}return Object(v.a)(n,[{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}},{key:"typeId",get:function(){return bt.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}}]),n}(en);Cn[Symbol.toStringTag]=function(e){return e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"}(Cn.prototype);var jn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(p.a)(this,n),(i=t.call(this)).children=[e],i.keysSorted=r,i}return Object(v.a)(n,[{key:"toString",value:function(){return"Map<{".concat(this.children[0].type.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}},{key:"typeId",get:function(){return bt.Map}},{key:"keyType",get:function(){return this.children[0].type.children[0].type}},{key:"valueType",get:function(){return this.children[0].type.children[1].type}}]),n}(en);jn[Symbol.toStringTag]=function(e){return e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"}(jn.prototype);var Bn,Rn=(Bn=-1,function(){return++Bn}),Dn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i,r,o){var a;return Object(p.a)(this,n),(a=t.call(this)).indices=i,a.dictionary=e,a.isOrdered=o||!1,a.id=null==r?Rn():"number"===typeof r?r:r.low,a}return Object(v.a)(n,[{key:"toString",value:function(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}},{key:"typeId",get:function(){return bt.Dictionary}},{key:"children",get:function(){return this.dictionary.children}},{key:"valueType",get:function(){return this.dictionary}},{key:"ArrayType",get:function(){return this.dictionary.ArrayType}}]),n}(en);function An(e){var t=e;switch(e.typeId){case bt.Decimal:return 4;case bt.Timestamp:return 2;case bt.Date:case bt.Interval:return 1+t.unit;case bt.Int:case bt.Time:return+(t.bitWidth>32)+1;case bt.FixedSizeList:return t.listSize;case bt.FixedSizeBinary:return t.byteWidth;default:return 1}}Dn[Symbol.toStringTag]=function(e){return e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"}(Dn.prototype);var Ln=function(){function e(t,n,i,r,o,a,s){var u;Object(p.a)(this,e),this.type=t,this.dictionary=s,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),this.childData=(a||[]).map((function(t){return t instanceof e?t:t.data})),o instanceof e?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=An(t),o&&((u=o[0])&&(this.valueOffsets=u),(u=o[1])&&(this.values=u),(u=o[2])&&(this.nullBitmap=u),(u=o[3])&&(this.typeIds=u)))}return Object(v.a)(e,[{key:"clone",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.childData;return new e(t,n,i,r,o,a,this.dictionary)}},{key:"slice",value:function(e,t){var n=this.stride,i=this.typeId,r=this.childData,o=+(0===this._nullCount)-1,a=16===i?n:1,s=this._sliceBuffers(e,t,n,i);return this.clone(this.type,this.offset+e,t,o,s,!r.length||this.valueOffsets?r:this._sliceChildren(r,a*e,a*t))}},{key:"_changeLengthAndBackfillNullBitmap",value:function(e){if(this.typeId===bt.Null)return this.clone(this.type,0,e,0);var t=this.length,n=this.nullCount,i=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(-8&t))-1,n>0&&i.set(Bt(this.offset,t,this.nullBitmap),0);var r=this.buffers;return r[wt.VALIDITY]=i,this.clone(this.type,0,e,n+(e-t),r)}},{key:"_sliceBuffers",value:function(e,t,n,i){var r,o=this.buffers;return(r=o[wt.TYPE])&&(o[wt.TYPE]=r.subarray(e,e+t)),(r=o[wt.OFFSET])&&(o[wt.OFFSET]=r.subarray(e,e+t+1))||(r=o[wt.DATA])&&(o[wt.DATA]=6===i?r:r.subarray(n*e,n*(e+t))),o}},{key:"_sliceChildren",value:function(e,t,n){return e.map((function(e){return e.slice(t,n)}))}},{key:"typeId",get:function(){return this.type.typeId}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"buffers",get:function(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}},{key:"byteLength",get:function(){var e=0,t=this.valueOffsets,n=this.values,i=this.nullBitmap,r=this.typeIds;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),r&&(e+=r.byteLength),this.childData.reduce((function(e,t){return e+t.byteLength}),e)}},{key:"nullCount",get:function(){var e,t=this._nullCount;return t<=-1&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-At(e,this.offset,this.offset+this.length)),t}}],[{key:"new",value:function(t,n,i,r,o,a,s){switch(o instanceof e?o=o.buffers:o||(o=[]),t.typeId){case bt.Null:return e.Null(t,n,i);case bt.Int:return e.Int(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Dictionary:return e.Dictionary(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[],s);case bt.Float:return e.Float(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Bool:return e.Bool(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Decimal:return e.Decimal(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Date:return e.Date(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Time:return e.Time(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Timestamp:return e.Timestamp(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Interval:return e.Interval(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.FixedSizeBinary:return e.FixedSizeBinary(t,n,i,r||0,o[wt.VALIDITY],o[wt.DATA]||[]);case bt.Binary:return e.Binary(t,n,i,r||0,o[wt.VALIDITY],o[wt.OFFSET]||[],o[wt.DATA]||[]);case bt.Utf8:return e.Utf8(t,n,i,r||0,o[wt.VALIDITY],o[wt.OFFSET]||[],o[wt.DATA]||[]);case bt.List:return e.List(t,n,i,r||0,o[wt.VALIDITY],o[wt.OFFSET]||[],(a||[])[0]);case bt.FixedSizeList:return e.FixedSizeList(t,n,i,r||0,o[wt.VALIDITY],(a||[])[0]);case bt.Struct:return e.Struct(t,n,i,r||0,o[wt.VALIDITY],a||[]);case bt.Map:return e.Map(t,n,i,r||0,o[wt.VALIDITY],o[wt.OFFSET]||[],(a||[])[0]);case bt.Union:return e.Union(t,n,i,r||0,o[wt.VALIDITY],o[wt.TYPE]||[],o[wt.OFFSET]||a,a)}throw new Error("Unrecognized typeId ".concat(t.typeId))}},{key:"Null",value:function(t,n,i){return new e(t,n,i,0)}},{key:"Int",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Dictionary",value:function(t,n,i,r,o,a,s){return new e(t,n,i,r,[void 0,ye(t.indices.ArrayType,a),ke(o)],[],s)}},{key:"Float",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Bool",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Decimal",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Date",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Time",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Timestamp",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Interval",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"FixedSizeBinary",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,ye(t.ArrayType,a),ke(o)])}},{key:"Binary",value:function(t,n,i,r,o,a,s){return new e(t,n,i,r,[be(a),ke(s),ke(o)])}},{key:"Utf8",value:function(t,n,i,r,o,a,s){return new e(t,n,i,r,[be(a),ke(s),ke(o)])}},{key:"List",value:function(t,n,i,r,o,a,s){return new e(t,n,i,r,[be(a),void 0,ke(o)],[s])}},{key:"FixedSizeList",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,void 0,ke(o)],[a])}},{key:"Struct",value:function(t,n,i,r,o,a){return new e(t,n,i,r,[void 0,void 0,ke(o)],a)}},{key:"Map",value:function(t,n,i,r,o,a,s){return new e(t,n,i,r,[be(a),void 0,ke(o)],[s])}},{key:"Union",value:function(t,n,i,r,o,a,s,u){var l=[void 0,void 0,ke(o),ye(t.ArrayType,a)];return t.mode===Tt.Sparse?new e(t,n,i,r,l,s):(l[wt.OFFSET]=be(s),new e(t,n,i,r,l,u))}}]),e}();Ln.prototype.childData=Object.freeze([]);function Fn(e){if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":case"bigint":return"".concat(e);case"string":return'"'.concat(e,'"')}return"function"===typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?"[".concat(e,"]"):JSON.stringify(e)}function Mn(e){if(!e||e.length<=0)return function(e){return!0};var t="",n=e.filter((function(e){return e===e}));return n.length>0&&(t="\n    switch (x) {".concat(n.map((function(e){return"\n        case ".concat(function(e){if("bigint"!==typeof e)return Fn(e);if($)return"".concat(Fn(e),"n");return'"'.concat(Fn(e),'"')}(e),":")})).join(""),"\n            return false;\n    }")),e.length!==n.length&&(t="if (x !== x) return false;\n".concat(t)),new Function("x","".concat(t,"\nreturn true;"))}var Nn=function(e,t){return(e*t+63&-64||64)/t},zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.length>=t?e.subarray(0,t):pe(new e.constructor(t),e,0)},Un=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(p.a)(this,e),this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=t.length/n|0)}return Object(v.a)(e,[{key:"set",value:function(e,t){return this}},{key:"append",value:function(e){return this.set(this.length,e)}},{key:"reserve",value:function(e){if(e>0){this.length+=e;var t=this.stride,n=this.length*t,i=this.buffer.length;n>=i&&this._resize(Nn(0===i?1*n:2*n,this.BYTES_PER_ELEMENT))}return this}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;e=Nn(e*this.stride,this.BYTES_PER_ELEMENT);var t=zn(this.buffer,e);return this.clear(),t}},{key:"clear",value:function(){return this.length=0,this._resize(0),this}},{key:"_resize",value:function(e){return this.buffer=pe(new this.ArrayType(e),this.buffer)}},{key:"byteLength",get:function(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}},{key:"reservedLength",get:function(){return this.buffer.length/this.stride}},{key:"reservedByteLength",get:function(){return this.buffer.byteLength}}]),e}();Un.prototype.offset=0;var Vn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"last",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.buffer[e]}},{key:"set",value:function(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}}]),n}(Un),Hn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array(0);return Object(p.a)(this,n),(e=t.call(this,i,1/8)).numValid=0,e}return Object(v.a)(n,[{key:"get",value:function(e){return this.buffer[e>>3]>>e%8&1}},{key:"set",value:function(e,t){var n=this.reserve(e-this.length+1).buffer,i=e>>3,r=e%8,o=n[i]>>r&1;return t?0===o&&(n[i]|=1<<r,++this.numValid):1===o&&(n[i]&=~(1<<r),--this.numValid),this}},{key:"clear",value:function(){return this.numValid=0,ht(Object(ct.a)(n.prototype),"clear",this).call(this)}},{key:"numInvalid",get:function(){return this.length-this.numValid}}]),n}(Vn),Wn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Int32Array(1);return Object(p.a)(this,n),t.call(this,e,1)}return Object(v.a)(n,[{key:"append",value:function(e){return this.set(this.length-1,e)}},{key:"set",value:function(e,t){var n=this.length-1,i=this.reserve(e-n+1).buffer;return n<e++&&i.fill(i[n],n,e),i[e]=i[e-1]+t,this}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length-1;return e>this.length&&this.set(e-1,0),ht(Object(ct.a)(n.prototype),"flush",this).call(this,e+1)}}]),n}(Vn),$n=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"set",value:function(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}},{key:"_resize",value:function(e){var t=ht(Object(ct.a)(n.prototype),"_resize",this).call(this,e),i=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return $&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,i)),t}},{key:"ArrayType64",get:function(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?q:Z)}}]),n}(Un),Gn=function(){function e(t){var n=t.type,i=t.nullValues;Object(p.a)(this,e),this.length=0,this.finished=!1,this.type=n,this.children=[],this.nullValues=i,this.stride=An(n),this._nulls=new Hn,i&&i.length>0&&(this._isValid=Mn(i))}return Object(v.a)(e,[{key:"toVector",value:function(){return mt.new(this.flush())}},{key:"append",value:function(e){return this.set(this.length,e)}},{key:"isValid",value:function(e){return this._isValid(e)}},{key:"set",value:function(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}},{key:"setValue",value:function(e,t){this._setValue(this,e,t)}},{key:"setValid",value:function(e,t){return this.length=this._nulls.set(e,+t).length,t}},{key:"addChild",value:function(e){arguments.length>1&&void 0!==arguments[1]||"".concat(this.numChildren);throw new Error('Cannot append children to non-nested type "'.concat(this.type,'"'))}},{key:"getChildAt",value:function(e){return this.children[e]||null}},{key:"flush",value:function(){var e=[],t=this._values,n=this._offsets,i=this._typeIds,r=this.length,o=this.nullCount;i?(e[wt.TYPE]=i.flush(r),n&&(e[wt.OFFSET]=n.flush(r))):n?(t&&(e[wt.DATA]=t.flush(n.last())),e[wt.OFFSET]=n.flush(r)):t&&(e[wt.DATA]=t.flush(r)),o>0&&(e[wt.VALIDITY]=this._nulls.flush(r));var a=Ln.new(this.type,0,r,o,e,this.children.map((function(e){return e.flush()})));return this.clear(),a}},{key:"finish",value:function(){return this.finished=!0,this.children.forEach((function(e){return e.finish()})),this}},{key:"clear",value:function(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((function(e){return e.clear()})),this}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"nullCount",get:function(){return this._nulls.numInvalid}},{key:"numChildren",get:function(){return this.children.length}},{key:"byteLength",get:function(){var e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((function(e,t){return e+t.byteLength}),e)}},{key:"reservedLength",get:function(){return this._nulls.reservedLength}},{key:"reservedByteLength",get:function(){var e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((function(e,t){return e+t.reservedByteLength}),e)}},{key:"valueOffsets",get:function(){return this._offsets?this._offsets.buffer:null}},{key:"values",get:function(){return this._values?this._values.buffer:null}},{key:"nullBitmap",get:function(){return this._nulls?this._nulls.buffer:null}},{key:"typeIds",get:function(){return this._typeIds?this._typeIds.buffer:null}}],[{key:"new",value:function(e){}},{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e){throw new Error('"throughDOM" not available in this environment')}},{key:"throughIterable",value:function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,i=e.highWaterMark,r=void 0===i?"bytes"!==n?1e3:Math.pow(2,14):i,o="bytes"!==n?"length":"byteLength";return y.mark((function t(n){var i,a,s,u,l;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0,a=Gn.new(e),s=h(n),t.prev=3,s.s();case 5:if((u=s.n()).done){t.next=14;break}if(l=u.value,!(a.append(l)[o]>=r)){t.next=12;break}if(t.t0=++i,!t.t0){t.next=12;break}return t.next=12,a.toVector();case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(3),s.e(t.t1);case 19:return t.prev=19,s.f(),t.finish(19);case 22:if(!(a.finish().length>0||0===i)){t.next=25;break}return t.next=25,a.toVector();case 25:case"end":return t.stop()}}),t,null,[[3,16,19,22]])}))}(e)}},{key:"throughAsyncIterable",value:function(e){return function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,i=e.highWaterMark,r=void 0===i?"bytes"!==n?1e3:Math.pow(2,14):i,o="bytes"!==n?"length":"byteLength";return function(){var t=k(y.mark((function t(n){var i,a,s,u,l,c,h,f,d;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0,a=Gn.new(e),s=!0,u=!1,t.prev=4,c=_(n);case 6:return t.next=8,b(c.next());case 8:return h=t.sent,s=h.done,t.next=12,b(h.value);case 12:if(f=t.sent,s){t.next=23;break}if(d=f,!(a.append(d)[o]>=r)){t.next=20;break}if(t.t0=++i,!t.t0){t.next=20;break}return t.next=20,a.toVector();case 20:s=!0,t.next=6;break;case 23:t.next=29;break;case 25:t.prev=25,t.t1=t.catch(4),u=!0,l=t.t1;case 29:if(t.prev=29,t.prev=30,s||null==c.return){t.next=34;break}return t.next=34,b(c.return());case 34:if(t.prev=34,!u){t.next=37;break}throw l;case 37:return t.finish(34);case 38:return t.finish(29);case 39:if(!(a.finish().length>0||0===i)){t.next=42;break}return t.next=42,a.toVector();case 42:case"end":return t.stop()}}),t,null,[[4,25,29,39],[30,,34,38]])})));return function(e){return t.apply(this,arguments)}}()}(e)}}]),e}();Gn.prototype.length=1,Gn.prototype.stride=1,Gn.prototype.children=null,Gn.prototype.finished=!1,Gn.prototype.nullValues=null,Gn.prototype._isValid=function(){return!0};var qn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._values=new Vn(new i.ArrayType(0),i.stride),i}return Object(v.a)(n,[{key:"setValue",value:function(e,t){var i=this._values;return i.reserve(e-i.length+1),ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,t)}}]),n}(Gn),Yn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._pendingLength=0,i._offsets=new Wn,i}return Object(v.a)(n,[{key:"setValue",value:function(e,t){var n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t.length,n.set(e,t)}},{key:"setValid",value:function(e,t){return!!ht(Object(ct.a)(n.prototype),"setValid",this).call(this,e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}},{key:"clear",value:function(){return this._pendingLength=0,this._pending=void 0,ht(Object(ct.a)(n.prototype),"clear",this).call(this)}},{key:"flush",value:function(){return this._flush(),ht(Object(ct.a)(n.prototype),"flush",this).call(this)}},{key:"finish",value:function(){return this._flush(),ht(Object(ct.a)(n.prototype),"finish",this).call(this)}},{key:"_flush",value:function(){var e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}]),n}(Gn);var Zn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._values=new Hn,i}return Object(v.a)(n,[{key:"setValue",value:function(e,t){this._values.set(e,+t)}}]),n}(Gn),Kn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"setValue",value:function(e,t){}},{key:"setValid",value:function(e,t){return this.length=Math.max(e+1,this.length),t}}]),n}(Gn),Xn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),Qn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Xn),Jn=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Xn),ei=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),ti=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i,r=e.type,o=e.nullValues,a=e.dictionaryHashFunction;return Object(p.a)(this,n),(i=t.call(this,{type:new Dn(r.dictionary,r.indices,r.id,r.isOrdered)}))._nulls=null,i._dictionaryOffset=0,i._keysToIndices=Object.create(null),i.indices=Gn.new({type:i.type.indices,nullValues:o}),i.dictionary=Gn.new({type:i.type.dictionary,nullValues:null}),"function"===typeof a&&(i.valueToKey=a),i}return Object(v.a)(n,[{key:"isValid",value:function(e){return this.indices.isValid(e)}},{key:"setValid",value:function(e,t){var n=this.indices;return t=n.setValid(e,t),this.length=n.length,t}},{key:"setValue",value:function(e,t){var n=this._keysToIndices,i=this.valueToKey(t),r=n[i];return void 0===r&&(n[i]=r=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,r)}},{key:"flush",value:function(){var e=this.type,t=this._dictionary,n=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=i.dictionary,this.clear(),i}},{key:"finish",value:function(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),ht(Object(ct.a)(n.prototype),"finish",this).call(this)}},{key:"clear",value:function(){return this.indices.clear(),this.dictionary.clear(),ht(Object(ct.a)(n.prototype),"clear",this).call(this)}},{key:"valueToKey",value:function(e){return"string"===typeof e?e:"".concat(e)}},{key:"values",get:function(){return this.indices.values}},{key:"nullCount",get:function(){return this.indices.nullCount}},{key:"nullBitmap",get:function(){return this.indices.nullBitmap}},{key:"byteLength",get:function(){return this.indices.byteLength+this.dictionary.byteLength}},{key:"reservedLength",get:function(){return this.indices.reservedLength+this.dictionary.reservedLength}},{key:"reservedByteLength",get:function(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}}]),n}(Gn),ni=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),ii=new Float64Array(1),ri=new Uint32Array(ii.buffer);function oi(e){var t=(31744&e)>>10,n=(1023&e)/1024,i=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return i*(n?NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,t-15)*(1+n)}function ai(e){if(e!==e)return 32256;ii[0]=e;var t=(2147483648&ri[1])>>16&65535,n=2146435072&ri[1],i=0;return n>=1089470464?ri[0]>0?n=31744:(n=(2080374784&n)>>16,i=(1048575&ri[1])>>10):n<=1056964608?(i=1048576+((i=1048576+(1048575&ri[1]))<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=512+(1048575&ri[1])>>10),t|n|65535&i}var si=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),ui=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"setValue",value:function(e,t){this._values.set(e,ai(t))}}]),n}(si),li=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"setValue",value:function(e,t){this._values.set(e,t)}}]),n}(si),ci=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"setValue",value:function(e,t){this._values.set(e,t)}}]),n}(si),hi=n(12),fi=n(13);function di(e,t,n){return(di=Object(fi.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Object(hi.a)(r,n.prototype),r}).apply(null,arguments)}var pi,vi,yi=Symbol.for("isArrowBigNum");function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return 0===n.length?Object.setPrototypeOf(ye(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(di(this.TypedArray,[e].concat(n)),this.constructor.prototype)}function mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gi.apply(this,t)}function bi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gi.apply(this,t)}function wi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gi.apply(this,t)}function ki(e){for(var t,n,i=e.buffer,r=e.byteOffset,o=e.length,a=e.signed,s=new Int32Array(i,r,o),u=0,l=0,c=s.length;l<c;)n=s[l++],t=s[l++],a||(t>>>=0),u+=(n>>>0)+t*Math.pow(l,32);return u}function _i(e){var t="",n=new Uint32Array(2),i=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),r=new Uint32Array((i=new Uint16Array(i).reverse()).buffer),o=-1,a=i.length-1;do{for(n[0]=i[o=0];o<a;)i[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+i[o];i[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t="".concat(n[0]).concat(t)}while(r[0]||r[1]||r[2]||r[3]);return t||"0"}gi.prototype[yi]=!0,gi.prototype.toJSON=function(){return'"'.concat(pi(this),'"')},gi.prototype.valueOf=function(){return ki(this)},gi.prototype.toString=function(){return pi(this)},gi.prototype[Symbol.toPrimitive]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(e){case"number":return ki(this);case"string":return pi(this);case"default":return vi(this)}return pi(this)},Object.setPrototypeOf(mi.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(bi.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(wi.prototype,Object.create(Uint32Array.prototype)),Object.assign(mi.prototype,gi.prototype,{constructor:mi,signed:!0,TypedArray:Int32Array,BigIntArray:q}),Object.assign(bi.prototype,gi.prototype,{constructor:bi,signed:!1,TypedArray:Uint32Array,BigIntArray:Z}),Object.assign(wi.prototype,gi.prototype,{constructor:wi,signed:!0,TypedArray:Uint32Array,BigIntArray:Z}),$?(vi=function(e){return 8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:_i(e)},pi=function(e){return 8===e.byteLength?"".concat(new e.BigIntArray(e.buffer,e.byteOffset,1)[0]):_i(e)}):vi=pi=_i;var xi,Ti=function(){function e(t,n){return Object(p.a)(this,e),e.new(t,n)}return Object(v.a)(e,null,[{key:"new",value:function(e,t){switch(t){case!0:return new mi(e);case!1:return new bi(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case q:return new mi(e)}return 16===e.byteLength?new wi(e):new bi(e)}},{key:"signed",value:function(e){return new mi(e)}},{key:"unsigned",value:function(e){return new bi(e)}},{key:"decimal",value:function(e){return new wi(e)}}]),e}(),Si=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"setValue",value:function(e,t){this._values.set(e,t)}}]),n}(qn),Oi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),Ei=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),Ii=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),Pi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),e.nullValues&&(e.nullValues=e.nullValues.map(Di)),(i=t.call(this,e))._values=new $n(new Int32Array(0),2),i}return Object(v.a)(n,[{key:"isValid",value:function(e){return ht(Object(ct.a)(n.prototype),"isValid",this).call(this,Di(e))}},{key:"values64",get:function(){return this._values.buffer64}}]),n}(Si),Ci=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),ji=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),Bi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Si),Ri=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),e.nullValues&&(e.nullValues=e.nullValues.map(Di)),(i=t.call(this,e))._values=new $n(new Uint32Array(0),2),i}return Object(v.a)(n,[{key:"isValid",value:function(e){return ht(Object(ct.a)(n.prototype),"isValid",this).call(this,Di(e))}},{key:"values64",get:function(){return this._values.buffer64}}]),n}(Si),Di=(xi={BigIntArray:q},function(e){return ArrayBuffer.isView(e)&&(xi.buffer=e.buffer,xi.byteOffset=e.byteOffset,xi.byteLength=e.byteLength,e=vi(xi),xi.buffer=null),e}),Ai=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),Li=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ai),Fi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ai),Mi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ai),Ni=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ai),zi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),Ui=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(zi),Vi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(zi),Hi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(zi),Wi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(zi),$i=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(qn),Gi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}($i),qi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}($i),Yi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._values=new Un(new Uint8Array(0)),i}return Object(v.a)(n,[{key:"setValue",value:function(e,t){return ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,ke(t))}},{key:"_flushPending",value:function(e,t){var n,i,r=this._offsets,o=this._values.reserve(t).buffer,a=0,s=0,u=0,l=h(e);try{for(l.s();!(i=l.n()).done;){var c=g(i.value,2);a=c[0],void 0===(n=c[1])?r.set(a,0):(s=n.length,o.set(n,u),r.set(a,s),u+=s)}}catch(f){l.e(f)}finally{l.f()}}},{key:"byteLength",get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}}]),n}(Yn),Zi=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._values=new Un(new Uint8Array(0)),i}return Object(v.a)(n,[{key:"setValue",value:function(e,t){return ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,L(t))}},{key:"_flushPending",value:function(e,t){}},{key:"byteLength",get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}}]),n}(Yn);Zi.prototype._flushPending=Yi.prototype._flushPending;var Ki=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"get",value:function(e){return this._values[e]}},{key:"clear",value:function(){return this._values=null,this}},{key:"bind",value:function(e){return e instanceof mt?e:(this._values=e,this)}},{key:"length",get:function(){return this._values.length}}]),e}(),Xi=n(10),Qi=n(9),Ji=n(7),er=Symbol.for("parent"),tr=Symbol.for("rowIndex"),nr=Symbol.for("keyToIdx"),ir=Symbol.for("idxToVal"),rr=Symbol.for("nodejs.util.inspect.custom"),or=function(){function e(t,n){Object(p.a)(this,e),this[er]=t,this.size=n}return Object(v.a)(e,[{key:"entries",value:function(){return this[Symbol.iterator]()}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e){var t=void 0;if(null!==e&&void 0!==e){var n=this[nr]||(this[nr]=new Map),i=n.get(e);if(void 0!==i){var r=this[ir]||(this[ir]=new Array(this.size));void 0!==(t=r[i])||(r[i]=t=this.getValue(i))}else if((i=this.getIndex(e))>-1){n.set(e,i);var o=this[ir]||(this[ir]=new Array(this.size));void 0!==(t=o[i])||(o[i]=t=this.getValue(i))}}return t}},{key:"set",value:function(e,t){if(null!==e&&void 0!==e){var n=this[nr]||(this[nr]=new Map),i=n.get(e);if(void 0===i&&n.set(e,i=this.getIndex(e)),i>-1)(this[ir]||(this[ir]=new Array(this.size)))[i]=this.setValue(i,t)}return this}},{key:"clear",value:function(){throw new Error("Clearing ".concat(this[Symbol.toStringTag]," not supported."))}},{key:"delete",value:function(e){throw new Error("Deleting ".concat(this[Symbol.toStringTag]," values not supported."))}},{key:Symbol.iterator,value:y.mark((function e(){var t,n,i,r,o,a,s,u,l;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.keys(),n=this.values(),i=this[nr]||(this[nr]=new Map),r=this[ir]||(this[ir]=new Array(this.size)),s=0;case 5:if((u=t.next()).done||(l=n.next()).done){e.next=15;break}return o=u.value,a=l.value,r[s]=a,i.has(o)||i.set(o,s),e.next=12,[o,a];case 12:++s,e.next=5;break;case 15:case"end":return e.stop()}}),e,this)}))},{key:"forEach",value:function(e,t){for(var n,i,r,o,a=this.keys(),s=this.values(),u=void 0===t?e:function(n,i,r){return e.call(t,n,i,r)},l=this[nr]||(this[nr]=new Map),c=this[ir]||(this[ir]=new Array(this.size)),h=0;!(r=a.next()).done&&!(o=s.next()).done;++h)n=r.value,i=o.value,c[h]=i,l.has(n)||l.set(n,h),u(i,n,this)}},{key:"toArray",value:function(){return Mt(this.values())}},{key:"toJSON",value:function(){var e={};return this.forEach((function(t,n){return e[n]=t})),e}},{key:"inspect",value:function(){return this.toString()}},{key:rr,value:function(){return this.toString()}},{key:"toString",value:function(){var e=[];return this.forEach((function(t,n){n=Fn(n),t=Fn(t),e.push("".concat(n,": ").concat(t))})),"{ ".concat(e.join(", ")," }")}}]),e}();or[Symbol.toStringTag]=function(e){var t;return Object.defineProperties(e,(t={size:{writable:!0,enumerable:!1,configurable:!1,value:0}},Object(Ji.a)(t,er,{writable:!0,enumerable:!1,configurable:!1,value:null}),Object(Ji.a)(t,tr,{writable:!0,enumerable:!1,configurable:!1,value:-1}),t)),e[Symbol.toStringTag]="Row"}(or.prototype);var ar=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),i=t.call(this,e,e.length),Object(Xi.a)(i,cr(Object(Qi.a)(i)))}return Object(v.a)(n,[{key:"keys",value:function(){return this[er].getChildAt(0)[Symbol.iterator]()}},{key:"values",value:function(){return this[er].getChildAt(1)[Symbol.iterator]()}},{key:"getKey",value:function(e){return this[er].getChildAt(0).get(e)}},{key:"getIndex",value:function(e){return this[er].getChildAt(0).indexOf(e)}},{key:"getValue",value:function(e){return this[er].getChildAt(1).get(e)}},{key:"setValue",value:function(e,t){this[er].getChildAt(1).set(e,t)}}]),n}(or),sr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),i=t.call(this,e,e.type.children.length),Object(Xi.a)(i,lr(Object(Qi.a)(i)))}return Object(v.a)(n,[{key:"keys",value:y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h(this[er].type.children),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i.name;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h(this[er].type.children),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,this[i.name];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getKey",value:function(e){return this[er].type.children[e].name}},{key:"getIndex",value:function(e){return this[er].type.children.findIndex((function(t){return t.name===e}))}},{key:"getValue",value:function(e){return this[er].getChildAt(e).get(this[tr])}},{key:"setValue",value:function(e,t){return this[er].getChildAt(e).set(this[tr],t)}}]),n}(or);Object.setPrototypeOf(or.prototype,Map.prototype);var ur,lr=function(){var e={enumerable:!0,configurable:!1,get:null,set:null};return function(t){var n,i=-1,r=t[nr]||(t[nr]=new Map),o=function(e){return function(){return this.get(e)}},a=function(e){return function(t){return this.set(e,t)}},s=h(t.keys());try{for(s.s();!(n=s.n()).done;){var u=n.value;r.set(u,++i),e.get=o(u),e.set=a(u),t.hasOwnProperty(u)||(e.enumerable=!0,Object.defineProperty(t,u,e)),t.hasOwnProperty(i)||(e.enumerable=!1,Object.defineProperty(t,i,e))}}catch(l){s.e(l)}finally{s.f()}return e.get=e.set=null,t}}(),cr=function(){if("undefined"===typeof Proxy)return lr;var e=or.prototype.has,t=or.prototype.get,n=or.prototype.set,i=or.prototype.getKey,r={isExtensible:function(){return!1},deleteProperty:function(){return!1},preventExtensions:function(){return!0},ownKeys:function(e){return Mt(e.keys()).map((function(e){return"".concat(e)}))},has:function(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case er:case tr:case ir:case nr:case rr:return!0}return"number"!==typeof t||e.has(t)||(t=e.getKey(t)),e.has(t)},get:function(n,r,o){switch(r){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case er:case tr:case ir:case nr:case rr:return Reflect.get(n,r,o)}return"number"!==typeof r||e.call(o,r)||(r=i.call(o,r)),t.call(o,r)},set:function(t,r,o,a){switch(r){case er:case tr:case ir:case nr:return Reflect.set(t,r,o,a);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"!==typeof r||e.call(a,r)||(r=i.call(a,r)),!!e.call(a,r)&&!!n.call(a,r,o)}};return function(e){return new Proxy(e,r)}}();function hr(e,t,n){var i=e.length,r=t>-1?t:i+t%i;return n?n(e,r):r}function fr(e,t,n,i){var r=e.length,o=void 0===r?0:r,a="number"!==typeof t?0:t,s="number"!==typeof n?o:n;return a<0&&(a=(a%o+o)%o),s<0&&(s=(s%o+o)%o),s<a&&(ur=a,a=s,s=ur),s>o&&(s=o),i?i(e,a,s):[a,s]}var dr=$?W(0):0,pr=function(e){return e!==e};function vr(e){var t=typeof e;if("object"!==t||null===e)return pr(e)?pr:"bigint"!==t?function(t){return t===e}:function(t){return dr+t===e};if(e instanceof Date){var n=e.valueOf();return function(e){return e instanceof Date&&e.valueOf()===n}}return ArrayBuffer.isView(e)?function(t){return!!t&&Xe(e,t)}:e instanceof Map?function(e){var t=-1,n=[];return e.forEach((function(e){return n[++t]=vr(e)})),yr(n)}(e):Array.isArray(e)?function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=vr(e[n]);return yr(t)}(e):e instanceof mt?function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=vr(e.get(n));return yr(t)}(e):function(e){var t=Object.keys(e);if(0===t.length)return function(){return!1};for(var n=[],i=-1,r=t.length;++i<r;)n[i]=vr(e[t[i]]);return yr(n,t)}(e)}function yr(e,t){return function(n){if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(e,t){var n=e.length;if(t.length!==n)return!1;for(var i=-1;++i<n;)if(!e[i](t[i]))return!1;return!0}(e,n);case Map:case ar:case sr:return gr(e,n,n.keys());case Object:case void 0:return gr(e,n,t||Object.keys(n))}return n instanceof mt&&function(e,t){var n=e.length;if(t.length!==n)return!1;for(var i=-1;++i<n;)if(!e[i](t.get(i)))return!1;return!0}(e,n)}}function gr(e,t,n){for(var i=n[Symbol.iterator](),r=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),a=0,s=e.length,u=o.next(),l=i.next(),c=r.next();a<s&&!l.done&&!c.done&&!u.done&&(l.value===c.value&&e[a](u.value));++a,l=i.next(),c=r.next(),u=o.next());return!!(a===s&&l.done&&c.done&&u.done)||(i.return&&i.return(),r.return&&r.return(),o.return&&o.return(),!1)}var mr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:br(r);return Object(p.a)(this,n),(i=t.call(this))._nullCount=-1,i._type=e,i._chunks=r,i._chunkOffsets=o,i._length=o[o.length-1],i._numChildren=(i._type.children||[]).length,i}return Object(v.a)(n,[{key:Symbol.iterator,value:y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h(this._chunks),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=8;break}return i=n.value,e.delegateYield(i,"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])}))},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new n(this._type,e)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.clone(n.flatten.apply(n,[this].concat(t)))}},{key:"slice",value:function(e,t){return fr(this,e,t,this._sliceInternal)}},{key:"getChildAt",value:function(e){if(e<0||e>=this._numChildren)return null;var t,i,r,o=this._children||(this._children=[]);return(t=o[e])?t:(i=(this._type.children||[])[e])&&(r=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?o[e]=new n(i.type,r):null}},{key:"search",value:function(e,t){var n=e,i=this._chunkOffsets,r=i.length-1;if(n<0)return null;if(n>=i[r])return null;if(r<=1)return t?t(this,0,n):[0,n];var o=0,a=0,s=0;do{if(o+1===r)return t?t(this,o,n-a):[o,n-a];n>=i[s=o+(r-o)/2|0]?o=s:r=s}while(n<i[r]&&n>=(a=i[o]));return null}},{key:"isValid",value:function(e){return!!this.search(e,this.isValidInternal)}},{key:"get",value:function(e){return this.search(e,this.getInternal)}},{key:"set",value:function(e,t){this.search(e,(function(e,n,i){return e.chunks[n].set(i,t)}))}},{key:"indexOf",value:function(e,t){var n=this;return t&&"number"===typeof t?this.search(t,(function(t,i,r){return n.indexOfInternal(t,i,r,e)})):this.indexOfInternal(this,0,Math.max(0,t||0),e)}},{key:"toArray",value:function(){var e=this.chunks,t=e.length,n=this._type.ArrayType;if(t<=0)return new n(0);if(t<=1)return e[0].toArray();for(var i=0,r=new Array(t),o=-1;++o<t;)i+=(r[o]=e[o].toArray()).length;n!==r[0].constructor&&(n=r[0].constructor);for(var a=new n(i),s=n===Array?kr:wr,u=-1,l=0;++u<t;)l=s(r[u],a,l);return a}},{key:"getInternal",value:function(e,t,n){return e._chunks[t].get(n)}},{key:"isValidInternal",value:function(e,t,n){return e._chunks[t].isValid(n)}},{key:"indexOfInternal",value:function(e,t,n,i){for(var r=e._chunks,o=t-1,a=r.length,s=n,u=0,l=-1;++o<a;){if(~(l=r[o].indexOf(i,s)))return u+l;s=0,u+=r[o].length}return-1}},{key:"_sliceInternal",value:function(e,t,n){for(var i=[],r=e.chunks,o=e._chunkOffsets,a=-1,s=r.length;++a<s;){var u=r[a],l=u.length,c=o[a];if(c>=n)break;if(!(t>=c+l))if(c>=t&&c+l<=n)i.push(u);else{var h=Math.max(0,t-c),f=Math.min(n-c,l);i.push(u.slice(h,f))}}return e.clone(i)}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._length}},{key:"chunks",get:function(){return this._chunks}},{key:"typeId",get:function(){return this._type.typeId}},{key:"VectorName",get:function(){return"Chunked<".concat(this._type,">")}},{key:"data",get:function(){return this._chunks[0]?this._chunks[0].data:null}},{key:"ArrayType",get:function(){return this._type.ArrayType}},{key:"numChildren",get:function(){return this._numChildren}},{key:"stride",get:function(){return this._chunks[0]?this._chunks[0].stride:1}},{key:"byteLength",get:function(){return this._chunks.reduce((function(e,t){return e+t.byteLength}),0)}},{key:"nullCount",get:function(){var e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((function(e,t){return e+t.nullCount}),0)),e}},{key:"indices",get:function(){if(en.isDictionary(this._type)){if(!this._indices){var e=this._chunks;this._indices=1===e.length?e[0].indices:n.concat.apply(n,Mt(e.map((function(e){return e.indices}))))}return this._indices}return null}},{key:"dictionary",get:function(){return en.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}}],[{key:"flatten",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ir(mt,t)}},{key:"concat",value:function(){var e=n.flatten.apply(n,arguments);return new n(e[0].type,e)}}]),n}(mt);function br(e){for(var t=new Uint32Array((e||[]).length+1),n=t[0]=0,i=t.length,r=0;++r<i;)t[r]=n+=e[r-1].length;return t}var wr=function(e,t,n){return t.set(e,n),n+e.length},kr=function(e,t,n){for(var i=n,r=-1,o=e.length;++r<o;)t[i++]=e[r];return i},_r=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;return Object(p.a)(this,n),r=mr.flatten.apply(mr,Mt(r)),(i=t.call(this,e.type,r,o))._field=e,1!==r.length||Object(Qi.a)(i)instanceof xr?i:Object(Xi.a)(i,new xr(e,r[0],i._chunkOffsets))}return Object(v.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new n(this._field,e)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.numChildren)return null;var t,i,r,o=this._children||(this._children=[]);return(t=o[e])?t:(i=(this.type.children||[])[e])&&(r=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}))).length>0?o[e]=new n(i,r):null}},{key:"field",get:function(){return this._field}},{key:"name",get:function(){return this._field.name}},{key:"nullable",get:function(){return this._field.nullable}},{key:"metadata",get:function(){return this._field.metadata}}],[{key:"new",value:function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a=mr.flatten(Array.isArray(t)?[].concat(Mt(t),r):t instanceof mt?[t].concat(r):[mt.new.apply(mt,[t].concat(r))]);if("string"===typeof e){var s=a[0].data.type;e=new Dr(e,s,!0)}else!e.nullable&&a.some((function(e){return e.nullCount>0}))&&(e=e.clone({nullable:!0}));return new n(e,a)}}]),n}(mr),xr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i,r){var o;return Object(p.a)(this,n),(o=t.call(this,e,[i],r))._chunk=i,o}return Object(v.a)(n,[{key:"search",value:function(e,t){return t?t(this,0,e):[0,e]}},{key:"isValid",value:function(e){return this._chunk.isValid(e)}},{key:"get",value:function(e){return this._chunk.get(e)}},{key:"set",value:function(e,t){this._chunk.set(e,t)}},{key:"indexOf",value:function(e,t){return this._chunk.indexOf(e,t)}}]),n}(_r),Tr=Array.isArray,Sr=function(e,t){return Cr(e,t,[],0)},Or=function(e){var t=g(Br(e,[[],[]]),2),n=t[0];return t[1].map((function(e,t){return e instanceof _r?_r.new(e.field.clone(n[t]),e):e instanceof mt?_r.new(n[t],e):_r.new(n[t],[])}))},Er=function(e){return Br(e,[[],[]])},Ir=function(e,t){return function e(t,n,i,r){var o,a=r,s=-1,u=n.length;for(;++s<u;)Tr(o=n[s])?a=e(t,o,i,a).length:o instanceof mr?a=e(t,o.chunks,i,a).length:o instanceof t&&(i[a++]=o);return i}(e,t,[],0)},Pr=function(e,t){return function e(t,n,i,r){var o,a=r,s=-1,u=n.length;for(;++s<u;)Tr(o=n[s])?a=e(t,o,i,a).length:o instanceof t?a=Cr(mt,o.schema.fields.map((function(e,t){return o.getChildAt(t)})),i,a).length:o instanceof mt&&(i[a++]=o);return i}(e,t,[],0)};function Cr(e,t,n,i){for(var r,o=i,a=-1,s=t.length;++a<s;)Tr(r=t[a])?o=Cr(e,r,n,o).length:r instanceof e&&(n[o++]=r);return n}var jr=function(e,t,n){var i=g(t,2),r=i[0],o=i[1];return e[0][n]=r,e[1][n]=o,e};function Br(e,t){var n,i;switch(i=e.length){case 0:return t;case 1:if(n=t[0],!e[0])return t;if(Tr(e[0]))return Br(e[0],t);if(!(e[0]instanceof Ln||e[0]instanceof mt||e[0]instanceof en)){var r=g(Object.entries(e[0]).reduce(jr,t),2);n=r[0],e=r[1]}break;default:Tr(n=e[i-1])?e=Tr(e[0])?e[0]:e.slice(0,i-1):(e=Tr(e[0])?e[0]:e,n=[])}for(var o,a,s=-1,u=-1,l=-1,c=e.length,h=g(t,2),f=h[0],d=h[1];++l<c;)if((a=e[l])instanceof _r&&(d[++u]=a))f[++s]=a.field.clone(n[l],a.type,!0);else{var p=n[l];o=void 0===p?l:p,a instanceof en&&(d[++u]=a)?f[++s]=Dr.new(o,a,!0):a&&a.type&&(d[++u]=a)&&(a instanceof Ln&&(d[u]=a=mt.new(a)),f[++s]=Dr.new(o,a.type,!0))}return t}var Rr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;Object(p.a)(this,e),this.fields=t||[],this.metadata=n||new Map,i||(i=Lr(t)),this.dictionaries=i}return Object(v.a)(e,[{key:"toString",value:function(){return"Schema<{ ".concat(this.fields.map((function(e,t){return"".concat(t,": ").concat(e)})).join(", ")," }>")}},{key:"compareTo",value:function(e){return Jt.compareSchemas(this,e)}},{key:"select",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.reduce((function(e,t){return(e[t]=!0)&&e}),Object.create(null));return new e(this.fields.filter((function(e){return r[e.name]})),this.metadata)}},{key:"selectAt",value:function(){for(var t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return new e(i.map((function(e){return t.fields[e]})).filter(Boolean),this.metadata)}},{key:"assign",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0]instanceof e?n[0]:new e(Sr(Dr,n)),o=Mt(this.fields),a=Ar(Ar(new Map,this.metadata),r.metadata),s=r.fields.filter((function(e){var t=o.findIndex((function(t){return t.name===e.name}));return!~t||(o[t]=e.clone({metadata:Ar(Ar(new Map,o[t].metadata),e.metadata)}))&&!1})),u=Lr(s,new Map);return new e([].concat(Mt(o),Mt(s)),a,new Map([].concat(Mt(this.dictionaries),Mt(u))))}},{key:Symbol.toStringTag,get:function(){return"Schema"}}],[{key:"from",value:function(){return e.new(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},{key:"new",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new e(Er(n)[0])}}]),e}(),Dr=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;Object(p.a)(this,e),this.name=t,this.type=n,this.nullable=i,this.metadata=r||new Map}return Object(v.a)(e,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.type)}},{key:"compareTo",value:function(e){return Jt.compareField(this,e)}},{key:"clone",value:function(){for(var t,n,i,r,o,a,s,u,l,c,h=arguments.length,f=new Array(h),d=0;d<h;d++)f[d]=arguments[d];var p=f[0],v=f[1],y=f[2],m=f[3];return f[0]&&"object"===typeof f[0]?(p=void 0===(s=(a=f[0]).name)?this.name:s,v=void 0===(u=a.type)?this.type:u,y=void 0===(l=a.nullable)?this.nullable:l,m=void 0===(c=a.metadata)?this.metadata:c):(p=void 0===(n=(t=g(f,4))[0])?this.name:n,v=void 0===(i=t[1])?this.type:i,y=void 0===(r=t[2])?this.nullable:r,m=void 0===(o=t[3])?this.metadata:o),e.new(p,v,y,m)}},{key:"typeId",get:function(){return this.type.typeId}},{key:Symbol.toStringTag,get:function(){return"Field"}}],[{key:"new",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0],o=n[1],a=n[2],s=n[3];return n[0]&&"object"===typeof n[0]&&(r=n[0].name,void 0===o&&(o=n[0].type),void 0===a&&(a=n[0].nullable),void 0===s&&(s=n[0].metadata)),new e("".concat(r),o,a,s)}}]),e}();function Ar(e,t){return new Map([].concat(Mt(e||new Map),Mt(t||new Map)))}function Lr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=-1,i=e.length;++n<i;){var r=e[n],o=r.type;if(en.isDictionary(o))if(t.has(o.id)){if(t.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(o.id,o.dictionary);o.children&&o.children.length>0&&Lr(o.children,t)}return t}Rr.prototype.fields=null,Rr.prototype.metadata=null,Rr.prototype.dictionaries=null,Dr.prototype.type=null,Dr.prototype.name=null,Dr.prototype.nullable=null,Dr.prototype.metadata=null;var Fr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._run=new Ki,i._offsets=new Wn,i}return Object(v.a)(n,[{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new On(new Dr(t,e.type,!0)),this.numChildren-1}},{key:"clear",value:function(){return this._run.clear(),ht(Object(ct.a)(n.prototype),"clear",this).call(this)}},{key:"_flushPending",value:function(e){var t,n,i=this._run,r=this._offsets,o=this._setValue,a=0,s=h(e);try{for(s.s();!(n=s.n()).done;){var u=g(n.value,2);a=u[0],void 0===(t=u[1])?r.set(a,0):(r.set(a,t.length),o(this,a,i.bind(t)))}}catch(l){s.e(l)}finally{s.f()}}}]),n}(Yn),Mr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.apply(this,arguments))._run=new Ki,e}return Object(v.a)(n,[{key:"setValue",value:function(e,t){ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,this._run.bind(t))}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");var n=this.children.push(e);return this.type=new Cn(this.type.listSize,new Dr(t,e.type,!0)),n}},{key:"clear",value:function(){return this._run.clear(),ht(Object(ct.a)(n.prototype),"clear",this).call(this)}}]),n}(Gn),Nr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"set",value:function(e,t){return ht(Object(ct.a)(n.prototype),"set",this).call(this,e,t)}},{key:"setValue",value:function(e,t){t=t instanceof Map?t:new Map(Object.entries(t));var n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=t.size,n.set(e,t)}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new jn(new Dr(t,e.type,!0),this.type.keysSorted),this.numChildren-1}},{key:"_flushPending",value:function(e){var t=this,n=this._offsets,i=this._setValue;e.forEach((function(e,r){void 0===e?n.set(r,0):(n.set(r,e.size),i(t,r,e))}))}}]),n}(Yn),zr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren),n=this.children.push(e);return this.type=new En([].concat(Mt(this.type.children),[new Dr(t,e.type,!0)])),n}}]),n}(Gn),Ur=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._typeIds=new Vn(new Int8Array(0),1),"function"===typeof e.valueToChildTypeId&&(i._valueToChildTypeId=e.valueToChildTypeId),i}return Object(v.a)(n,[{key:"append",value:function(e,t){return this.set(this.length,e,t)}},{key:"set",value:function(e,t,n){return void 0===n&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this}},{key:"setValue",value:function(e,t,i){this._typeIds.set(e,i),ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,t)}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.children.length),n=this.children.push(e),i=this.type,r=i.children,o=i.mode,a=i.typeIds,s=[].concat(Mt(r),[new Dr(t,e.type)]);return this.type=new In(o,[].concat(Mt(a),[n]),s),n}},{key:"_valueToChildTypeId",value:function(e,t,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}},{key:"typeIdToChildIndex",get:function(){return this.type.typeIdToChildIndex}}]),n}(Gn),Vr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ur),Hr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._offsets=new Vn(new Int32Array(0)),i}return Object(v.a)(n,[{key:"setValue",value:function(e,t,i){var r=this.type.typeIdToChildIndex[i];return this._offsets.set(e,this.getChildAt(r).length),ht(Object(ct.a)(n.prototype),"setValue",this).call(this,e,t,i)}}]),n}(Ur),Wr=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Nt),$r=function(e,t,n){e[t]=n%4294967296|0,e[t+1]=n/4294967296|0},Gr=function(e,t,n,i){var r=t[n],o=t[n+1];null!=r&&null!=o&&e.set(i.subarray(0,o-r),r)},qr=function(e,t,n){!function(e,t,n){e[t]=n/864e5|0}(e.values,t,n.valueOf())},Yr=function(e,t,n){var i=e.values;$r(i,2*t,n.valueOf())},Zr=function(e,t,n){var i=e.stride;e.values[i*t]=n},Kr=function(e,t,n){var i=e.stride;e.values[i*t]=ai(n)},Xr=function(e,t,n){switch(typeof n){case"bigint":e.values64[t]=n;break;case"number":e.values[t*e.stride]=n;break;default:var i=n,r=e.stride,o=ye(e.ArrayType,i);e.values.set(o.subarray(0,r),r*t)}},Qr=function(e,t,n){var i=e.values;return $r(i,2*t,n/1e3)},Jr=function(e,t,n){var i=e.values;return $r(i,2*t,n)},eo=function(e,t,n){return function(e,t,n){e[t]=1e3*n%4294967296|0,e[t+1]=1e3*n/4294967296|0}(e.values,2*t,n)},to=function(e,t,n){return function(e,t,n){e[t]=1e6*n%4294967296|0,e[t+1]=1e6*n/4294967296|0}(e.values,2*t,n)},no=function(e,t,n){e.values[e.stride*t]=n},io=function(e,t,n){e.values[e.stride*t]=n},ro=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},oo=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},ao=function(e,t,n){var i=e.typeIdToChildIndex[e.typeIds[t]],r=e.getChildAt(i);r&&r.set(e.valueOffsets[t],n)},so=function(e,t,n){var i=e.typeIdToChildIndex[e.typeIds[t]],r=e.getChildAt(i);r&&r.set(t,n)},uo=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},lo=function(e,t,n){e.values[t]=12*n[0]+n[1]%12};Wr.prototype.visitBool=function(e,t,n){var i=e.offset,r=e.values,o=i+t;n?r[o>>3]|=1<<o%8:r[o>>3]&=~(1<<o%8)},Wr.prototype.visitInt=function(e,t,n){e.type.bitWidth<64?Zr(e,t,n):Xr(e,t,n)},Wr.prototype.visitInt8=Zr,Wr.prototype.visitInt16=Zr,Wr.prototype.visitInt32=Zr,Wr.prototype.visitInt64=Xr,Wr.prototype.visitUint8=Zr,Wr.prototype.visitUint16=Zr,Wr.prototype.visitUint32=Zr,Wr.prototype.visitUint64=Xr,Wr.prototype.visitFloat=function(e,t,n){e.type.precision!==xt.HALF?Zr(e,t,n):Kr(e,t,n)},Wr.prototype.visitFloat16=Kr,Wr.prototype.visitFloat32=Zr,Wr.prototype.visitFloat64=Zr,Wr.prototype.visitUtf8=function(e,t,n){var i=e.values,r=e.valueOffsets;Gr(i,r,t,L(n))},Wr.prototype.visitBinary=function(e,t,n){var i=e.values,r=e.valueOffsets;return Gr(i,r,t,n)},Wr.prototype.visitFixedSizeBinary=function(e,t,n){var i=e.stride;e.values.set(n.subarray(0,i),i*t)},Wr.prototype.visitDate=function(e,t,n){e.type.unit===kt.DAY?qr(e,t,n):Yr(e,t,n)},Wr.prototype.visitDateDay=qr,Wr.prototype.visitDateMillisecond=Yr,Wr.prototype.visitTimestamp=function(e,t,n){switch(e.type.unit){case _t.SECOND:return Qr(e,t,n);case _t.MILLISECOND:return Jr(e,t,n);case _t.MICROSECOND:return eo(e,t,n);case _t.NANOSECOND:return to(e,t,n)}},Wr.prototype.visitTimestampSecond=Qr,Wr.prototype.visitTimestampMillisecond=Jr,Wr.prototype.visitTimestampMicrosecond=eo,Wr.prototype.visitTimestampNanosecond=to,Wr.prototype.visitTime=function(e,t,n){switch(e.type.unit){case _t.SECOND:return no(e,t,n);case _t.MILLISECOND:return io(e,t,n);case _t.MICROSECOND:return ro(e,t,n);case _t.NANOSECOND:return oo(e,t,n)}},Wr.prototype.visitTimeSecond=no,Wr.prototype.visitTimeMillisecond=io,Wr.prototype.visitTimeMicrosecond=ro,Wr.prototype.visitTimeNanosecond=oo,Wr.prototype.visitDecimal=function(e,t,n){e.values.set(n.subarray(0,4),4*t)},Wr.prototype.visitList=function(e,t,n){for(var i=e.getChildAt(0),r=e.valueOffsets,o=-1,a=r[t],s=r[t+1];a<s;)i.set(a++,n.get(++o))},Wr.prototype.visitStruct=function(e,t,n){var i,r,o=n instanceof Map?(i=t,r=n,function(e,t,n){return e&&e.set(i,r.get(t.name))}):n instanceof mt?function(e,t){return function(n,i,r){return n&&n.set(e,t.get(r))}}(t,n):Array.isArray(n)?function(e,t){return function(n,i,r){return n&&n.set(e,t[r])}}(t,n):function(e,t){return function(n,i,r){return n&&n.set(e,t[i.name])}}(t,n);e.type.children.forEach((function(t,n){return o(e.getChildAt(n),t,n)}))},Wr.prototype.visitUnion=function(e,t,n){e.type.mode===Tt.Dense?ao(e,t,n):so(e,t,n)},Wr.prototype.visitDenseUnion=ao,Wr.prototype.visitSparseUnion=so,Wr.prototype.visitDictionary=function(e,t,n){var i=e.getKey(t);null!==i&&e.setValue(i,n)},Wr.prototype.visitInterval=function(e,t,n){e.type.unit===St.DAY_TIME?uo(e,t,n):lo(e,t,n)},Wr.prototype.visitIntervalDayTime=uo,Wr.prototype.visitIntervalYearMonth=lo,Wr.prototype.visitFixedSizeList=function(e,t,n){for(var i=e.getChildAt(0),r=e.stride,o=-1,a=t*r;++o<r;)i.set(a+o,n.get(o))},Wr.prototype.visitMap=function(e,t,n){for(var i=e.getChildAt(0),r=e.valueOffsets,o=n instanceof Map?Mt(n):Object.entries(n),a=-1,s=r[t],u=r[t+1];s<u;)i.set(s++,o[++a])};var co,ho=new Wr,fo=new(function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"visitNull",value:function(){return Kn}},{key:"visitBool",value:function(){return Zn}},{key:"visitInt",value:function(){return Si}},{key:"visitInt8",value:function(){return Oi}},{key:"visitInt16",value:function(){return Ei}},{key:"visitInt32",value:function(){return Ii}},{key:"visitInt64",value:function(){return Pi}},{key:"visitUint8",value:function(){return Ci}},{key:"visitUint16",value:function(){return ji}},{key:"visitUint32",value:function(){return Bi}},{key:"visitUint64",value:function(){return Ri}},{key:"visitFloat",value:function(){return si}},{key:"visitFloat16",value:function(){return ui}},{key:"visitFloat32",value:function(){return li}},{key:"visitFloat64",value:function(){return ci}},{key:"visitUtf8",value:function(){return Zi}},{key:"visitBinary",value:function(){return Yi}},{key:"visitFixedSizeBinary",value:function(){return ni}},{key:"visitDate",value:function(){return Xn}},{key:"visitDateDay",value:function(){return Qn}},{key:"visitDateMillisecond",value:function(){return Jn}},{key:"visitTimestamp",value:function(){return zi}},{key:"visitTimestampSecond",value:function(){return Ui}},{key:"visitTimestampMillisecond",value:function(){return Vi}},{key:"visitTimestampMicrosecond",value:function(){return Hi}},{key:"visitTimestampNanosecond",value:function(){return Wi}},{key:"visitTime",value:function(){return Ai}},{key:"visitTimeSecond",value:function(){return Li}},{key:"visitTimeMillisecond",value:function(){return Fi}},{key:"visitTimeMicrosecond",value:function(){return Mi}},{key:"visitTimeNanosecond",value:function(){return Ni}},{key:"visitDecimal",value:function(){return ei}},{key:"visitList",value:function(){return Fr}},{key:"visitStruct",value:function(){return zr}},{key:"visitUnion",value:function(){return Ur}},{key:"visitDenseUnion",value:function(){return Hr}},{key:"visitSparseUnion",value:function(){return Vr}},{key:"visitDictionary",value:function(){return ti}},{key:"visitInterval",value:function(){return $i}},{key:"visitIntervalDayTime",value:function(){return Gi}},{key:"visitIntervalYearMonth",value:function(){return qi}},{key:"visitFixedSizeList",value:function(){return Mr}},{key:"visitMap",value:function(){return Nr}}]),n}(Nt));Gn.new=function e(t){var n=t.type,i=new(fo.getVisitFn(n)())(t);if(n.children&&n.children.length>0){var r=t.children||[],o={nullValues:t.nullValues},a=Array.isArray(r)?function(e,t){return r[t]||o}:function(e){var t=e.name;return r[t]||o};n.children.forEach((function(t,n){var r=t.type,o=a(t,n);i.children.push(e(Object(lt.a)(Object(lt.a)({},o),{},{type:r})))}))}return i},Object.keys(bt).map((function(e){return bt[e]})).filter((function(e){return"number"===typeof e&&e!==bt.NONE})).forEach((function(e){fo.visit(e).prototype._setValue=ho.getVisitFn(e)})),Zi.prototype._setValue=ho.visitBinary,function(e){!function(t){!function(t){!function(t){var n=function(){function t(){Object(p.a)(this,t),this.bb=null,this.bb_pos=0}return Object(v.a)(t,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.apache.arrow.flatbuf.MetadataVersion.V1}},{key:"schema",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new ft.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"dictionaries",value:function(t,n){var i=this.bb.__offset(this.bb_pos,8);return i?(n||new e.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}},{key:"dictionariesLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"recordBatches",value:function(t,n){var i=this.bb.__offset(this.bb_pos,10);return i?(n||new e.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}},{key:"recordBatchesLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsFooter",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startFooter",value:function(e){e.startObject(4)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,ft.apache.arrow.flatbuf.MetadataVersion.V1)}},{key:"addSchema",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDictionaries",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startDictionariesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"addRecordBatches",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"startRecordBatchesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"endFooter",value:function(e){return e.endObject()}},{key:"finishFooterBuffer",value:function(e,t){e.finish(t)}},{key:"createFooter",value:function(e,n,i,r,o){return t.startFooter(e),t.addVersion(e,n),t.addSchema(e,i),t.addDictionaries(e,r),t.addRecordBatches(e,o),t.endFooter(e)}}]),t}();t.Footer=n}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(co||(co={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){Object(p.a)(this,e),this.bb=null,this.bb_pos=0}return Object(v.a)(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"metaDataLength",value:function(){return this.bb.readInt32(this.bb_pos+8)}},{key:"bodyLength",value:function(){return this.bb.readInt64(this.bb_pos+16)}}],[{key:"createBlock",value:function(e,t,n,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()}}]),e}();e.Block=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(co||(co={}));var po=T.Long,vo=T.Builder,yo=T.ByteBuffer,go=co.apache.arrow.flatbuf.Block,mo=co.apache.arrow.flatbuf.Footer,bo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;Object(p.a)(this,e),this.schema=t,this.version=n,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}return Object(v.a)(e,[{key:"recordBatches",value:y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,i=this.numRecordBatches;case 1:if(!(++n<i)){e.next=7;break}if(!(t=this.getRecordBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"dictionaryBatches",value:y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,i=this.numDictionaries;case 1:if(!(++n<i)){e.next=7;break}if(!(t=this.getDictionaryBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"getRecordBatch",value:function(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}},{key:"getDictionaryBatch",value:function(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}},{key:"numRecordBatches",get:function(){return this._recordBatches.length}},{key:"numDictionaries",get:function(){return this._dictionaryBatches.length}}],[{key:"decode",value:function(e){e=new yo(ke(e));var t=mo.getRootAsFooter(e),n=Rr.decode(t.schema());return new wo(n,t)}},{key:"encode",value:function(e){var t=new vo,n=Rr.encode(t,e.schema);mo.startRecordBatchesVector(t,e.numRecordBatches),Mt(e.recordBatches()).slice().reverse().forEach((function(e){return ko.encode(t,e)}));var i=t.endVector();mo.startDictionariesVector(t,e.numDictionaries),Mt(e.dictionaryBatches()).slice().reverse().forEach((function(e){return ko.encode(t,e)}));var r=t.endVector();return mo.startFooter(t),mo.addSchema(t,n),mo.addVersion(t,Et.V4),mo.addRecordBatches(t,i),mo.addDictionaries(t,r),mo.finishFooterBuffer(t,mo.endFooter(t)),t.asUint8Array()}}]),e}(),wo=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this,e,i.version()))._footer=i,r}return Object(v.a)(n,[{key:"getRecordBatch",value:function(e){if(e>=0&&e<this.numRecordBatches){var t=this._footer.recordBatches(e);if(t)return ko.decode(t)}return null}},{key:"getDictionaryBatch",value:function(e){if(e>=0&&e<this.numDictionaries){var t=this._footer.dictionaries(e);if(t)return ko.decode(t)}return null}},{key:"numRecordBatches",get:function(){return this._footer.recordBatchesLength()}},{key:"numDictionaries",get:function(){return this._footer.dictionariesLength()}}]),n}(bo),ko=function(){function e(t,n,i){Object(p.a)(this,e),this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof n?n:n.low}return Object(v.a)(e,null,[{key:"decode",value:function(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())}},{key:"encode",value:function(e,t){var n=t.metaDataLength,i=new po(t.offset,0),r=new po(t.bodyLength,0);return go.createBlock(e,i,n,r)}}]),e}(),_o=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"write",value:function(e){if((e=ke(e)).byteLength>0)return ht(Object(ct.a)(n.prototype),"write",this).call(this,e)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?A(this.toUint8Array(!0)):this.toUint8Array(!1).then(A)}},{key:"toUint8Array",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?ve(this._values)[0]:d(y.mark((function t(){var n,i,r,o,a,s,u,l,c;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=!0,o=!1,t.prev=3,s=_(e);case 5:return t.next=7,s.next();case 7:return u=t.sent,r=u.done,t.next=11,u.value;case 11:if(l=t.sent,r){t.next=19;break}c=l,n.push(c),i+=c.byteLength;case 16:r=!0,t.next=5;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),o=!0,a=t.t0;case 25:if(t.prev=25,t.prev=26,r||null==s.return){t.next=30;break}return t.next=30,s.return();case 30:if(t.prev=30,!o){t.next=33;break}throw a;case 33:return t.finish(30);case 34:return t.finish(25);case 35:return t.abrupt("return",ve(n,i)[0]);case 36:case"end":return t.stop()}}),t,null,[[3,21,25,35],[26,,30,34]])})))()}}]),n}(V),xo=function(){function e(t){Object(p.a)(this,e),t&&(this.source=new So(Je.fromIterable(t)))}return Object(v.a)(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}}]),e}(),To=function(){function e(t){Object(p.a)(this,e),t instanceof e?this.source=t.source:t instanceof _o?this.source=new Oo(Je.fromAsyncIterable(t)):ce(t)?this.source=new Oo(Je.fromNodeStream(t)):ue(t)?this.source=new Oo(Je.fromDOMStream(t)):ae(t)?this.source=new Oo(Je.fromDOMStream(t.body)):te(t)?this.source=new Oo(Je.fromIterable(t)):(ee(t)||ne(t))&&(this.source=new Oo(Je.fromAsyncIterable(t)))}return Object(v.a)(e,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"cancel",value:function(e){return this.source.cancel(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}},{key:"closed",get:function(){return this.source.closed}}]),e}(),So=function(){function e(t){Object(p.a)(this,e),this.source=t}return Object(v.a)(e,[{key:"cancel",value:function(e){this.return(e)}},{key:"peek",value:function(e){return this.next(e,"peek").value}},{key:"read",value:function(e){return this.next(e,"read").value}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:t,size:e})}},{key:"throw",value:function(e){return Object.create(this.source.throw&&this.source.throw(e)||N)}},{key:"return",value:function(e){return Object.create(this.source.return&&this.source.return(e)||N)}}]),e}(),Oo=function(){function e(t){var n=this;Object(p.a)(this,e),this.source=t,this._closedPromise=new Promise((function(e){return n._closedPromiseResolve=e}))}return Object(v.a)(e,[{key:"cancel",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.return(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next(t,"read");case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peek",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next(t,"peek");case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=d(y.mark((function e(t){var n,i=arguments;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"read",e.next=3,this.source.next({cmd:n,size:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"throw",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t1=this.source.throw,!e.t1){e.next=5;break}return e.next=4,this.source.throw(t);case 4:e.t1=e.sent;case 5:if(e.t0=e.t1,e.t0){e.next=8;break}e.t0=N;case 8:return n=e.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,e.abrupt("return",Object.create(n));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t1=this.source.return,!e.t1){e.next=5;break}return e.next=4,this.source.return(t);case 4:e.t1=e.sent;case 5:if(e.t0=e.t1,e.t0){e.next=8;break}e.t0=N;case 8:return n=e.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,e.abrupt("return",Object.create(n));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"closed",get:function(){return this._closedPromise}}]),e}(),Eo=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).position=0,r.buffer=ke(e),r.size="undefined"===typeof i?r.buffer.byteLength:i,r}return Object(v.a)(n,[{key:"readInt32",value:function(e){var t=this.readAt(e,4),n=t.buffer,i=t.byteOffset;return new DataView(n,i).getInt32(0,!0)}},{key:"seek",value:function(e){return this.position=Math.min(e,this.size),e<this.size}},{key:"read",value:function(e){var t=this.buffer,n=this.size,i=this.position;return t&&i<n?("number"!==typeof e&&(e=1/0),this.position=Math.min(n,i+Math.min(n-i,e)),t.subarray(i,this.position)):null}},{key:"readAt",value:function(e,t){var n=this.buffer,i=Math.min(this.size,e+t);return n?n.subarray(e,i):new Uint8Array(t)}},{key:"close",value:function(){this.buffer&&(this.buffer=null)}},{key:"throw",value:function(e){return this.close(),{done:!0,value:e}}},{key:"return",value:function(e){return this.close(),{done:!0,value:e}}}]),n}(xo),Io=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).position=0,r._handle=e,"number"===typeof i?r.size=i:r._pending=d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stat();case 2:r.size=t.sent.size,delete r._pending;case 4:case"end":return t.stop()}}),t)})))(),r}return Object(v.a)(n,[{key:"readInt32",value:function(){var e=d(y.mark((function e(t){var n,i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readAt(t,4);case 2:return n=e.sent,i=n.buffer,r=n.byteOffset,e.abrupt("return",new DataView(i,r).getInt32(0,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"seek",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._pending,!e.t0){e.next=4;break}return e.next=4,this._pending;case 4:return this.position=Math.min(t,this.size),e.abrupt("return",t<this.size);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=d(y.mark((function e(t){var n,i,r,o,a,s,u,l,c;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._pending,!e.t0){e.next=4;break}return e.next=4,this._pending;case 4:if(n=this._handle,i=this.size,r=this.position,!(n&&r<i)){e.next=18;break}"number"!==typeof t&&(t=1/0),o=r,a=0,s=0,u=Math.min(i,o+Math.min(i-o,t)),l=new Uint8Array(Math.max(0,(this.position=u)-o));case 10:if(!((o+=s)<u&&(a+=s)<l.byteLength)){e.next=17;break}return e.next=13,n.read(l,a,l.byteLength-a,o);case 13:c=e.sent,s=c.bytesRead,e.next=10;break;case 17:return e.abrupt("return",l);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAt",value:function(){var e=d(y.mark((function e(t,n){var i,r,o,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._pending,!e.t0){e.next=4;break}return e.next=4,this._pending;case 4:if(i=this._handle,r=this.size,!(i&&t+n<r)){e.next=11;break}return o=Math.min(r,t+n),a=new Uint8Array(o-t),e.next=10,i.read(a,0,n,t);case 10:return e.abrupt("return",e.sent.buffer);case 11:return e.abrupt("return",new Uint8Array(n));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=d(y.mark((function e(){var t;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,this._handle=null,e.t0=t,!e.t0){e.next=6;break}return e.next=6,t.close();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"throw",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.abrupt("return",{done:!0,value:t});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.abrupt("return",{done:!0,value:t});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(To);function Po(e){return e<0&&(e=4294967295+e+1),"0x".concat(e.toString(16))}var Co=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],jo=function(){function e(t){Object(p.a)(this,e),this.buffer=t}return Object(v.a)(e,[{key:"high",value:function(){return this.buffer[1]}},{key:"low",value:function(){return this.buffer[0]}},{key:"_times",value:function(e){var t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),i=t[3]*n[3];this.buffer[0]=65535&i;var r=i>>>16;return r+=i=t[2]*n[3],r+=i=t[3]*n[2]>>>0,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<i?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this}},{key:"_plus",value:function(e){var t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}},{key:"lessThan",value:function(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}},{key:"equals",value:function(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}},{key:"greaterThan",value:function(e){return e.lessThan(this)}},{key:"hex",value:function(){return"".concat(Po(this.buffer[1])," ").concat(Po(this.buffer[0]))}}]),e}(),Bo=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),i=e.length,r=new n(t),o=0;o<i;){var a=8<i-o?8:i-o,s=new n(new Uint32Array([parseInt(e.substr(o,a),10),0])),u=new n(new Uint32Array([Co[a],0]));r.times(u),r.plus(s),o+=a}return r}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),i=-1,r=e.length;++i<r;)n.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(jo),Ro=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}},{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}},{key:"lessThan",value:function(e){var t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),i=e.startsWith("-"),r=e.length,o=new n(t),a=i?1:0;a<r;){var s=8<r-a?8:r-a,u=new n(new Uint32Array([parseInt(e.substr(a,s),10),0])),l=new n(new Uint32Array([Co[s],0]));o.times(l),o.plus(u),a+=s}return i?o.negate():o}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),i=-1,r=e.length;++i<r;)n.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(jo),Do=function(){function e(t){Object(p.a)(this,e),this.buffer=t}return Object(v.a)(e,[{key:"high",value:function(){return new Ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}},{key:"low",value:function(){return new Ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}},{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}},{key:"times",value:function(e){var t=new Bo(new Uint32Array([this.buffer[3],0])),n=new Bo(new Uint32Array([this.buffer[2],0])),i=new Bo(new Uint32Array([this.buffer[1],0])),r=new Bo(new Uint32Array([this.buffer[0],0])),o=new Bo(new Uint32Array([e.buffer[3],0])),a=new Bo(new Uint32Array([e.buffer[2],0])),s=new Bo(new Uint32Array([e.buffer[1],0])),u=new Bo(new Uint32Array([e.buffer[0],0])),l=Bo.multiply(r,u);this.buffer[0]=l.low();var c=new Bo(new Uint32Array([l.high(),0]));return l=Bo.multiply(i,u),c.plus(l),l=Bo.multiply(r,s),c.plus(l),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(l)?1:0,this.buffer[2]=c.high(),new Bo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Bo.multiply(n,u)).plus(Bo.multiply(i,s)).plus(Bo.multiply(r,a)),this.buffer[3]+=Bo.multiply(t,u).plus(Bo.multiply(n,s)).plus(Bo.multiply(i,a)).plus(Bo.multiply(r,o)).low(),this}},{key:"plus",value:function(e){var t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}},{key:"hex",value:function(){return"".concat(Po(this.buffer[3])," ").concat(Po(this.buffer[2])," ").concat(Po(this.buffer[1])," ").concat(Po(this.buffer[0]))}}],[{key:"multiply",value:function(t,n){return new e(new Uint32Array(t.buffer)).times(n)}},{key:"add",value:function(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString("string"===typeof t?t:t.toString(),n)}},{key:"fromNumber",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString(t.toString(),n)}},{key:"fromString",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4),i=t.startsWith("-"),r=t.length,o=new e(n),a=i?1:0;a<r;){var s=8<r-a?8:r-a,u=new e(new Uint32Array([parseInt(t.substr(a,s),10),0,0,0])),l=new e(new Uint32Array([Co[s],0,0,0]));o.times(l),o.plus(u),a+=s}return i?o.negate():o}},{key:"convertArray",value:function(t){for(var n=new Uint32Array(4*t.length),i=-1,r=t.length;++i<r;)e.from(t[i],new Uint32Array(n.buffer,n.byteOffset+16*i,4));return n}}]),e}(),Ao=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i,r,o){var a;return Object(p.a)(this,n),(a=t.call(this)).nodesIndex=-1,a.buffersIndex=-1,a.bytes=e,a.nodes=i,a.buffers=r,a.dictionaries=o,a}return Object(v.a)(n,[{key:"visit",value:function(e){return ht(Object(ct.a)(n.prototype),"visit",this).call(this,e instanceof Dr?e.type:e)}},{key:"visitNull",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length;return Ln.Null(e,0,n)}},{key:"visitBool",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Bool(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Int(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Float(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitUtf8",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Utf8(e,0,n,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}},{key:"visitBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Binary(e,0,n,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}},{key:"visitFixedSizeBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.FixedSizeBinary(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Date(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Timestamp(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Time(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Decimal(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.List(e,0,n,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}},{key:"visitStruct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Struct(e,0,n,i,this.readNullBitmap(e,i),this.visitMany(e.children))}},{key:"visitUnion",value:function(e){return e.mode===Tt.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}},{key:"visitDenseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Union(e,0,n,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}},{key:"visitSparseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Union(e,0,n,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))}},{key:"visitDictionary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Dictionary(e,0,n,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))}},{key:"visitInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Interval(e,0,n,i,this.readNullBitmap(e,i),this.readData(e))}},{key:"visitFixedSizeList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.FixedSizeList(e,0,n,i,this.readNullBitmap(e,i),this.visit(e.children[0]))}},{key:"visitMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,i=t.nullCount;return Ln.Map(e,0,n,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}},{key:"nextFieldNode",value:function(){return this.nodes[++this.nodesIndex]}},{key:"nextBufferRange",value:function(){return this.buffers[++this.buffersIndex]}},{key:"readNullBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return t>0&&this.readData(e,n)||new Uint8Array(0)}},{key:"readOffsets",value:function(e,t){return this.readData(e,t)}},{key:"readTypeIds",value:function(e,t){return this.readData(e,t)}},{key:"readData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.length,i=t.offset;return this.bytes.subarray(i,i+n)}},{key:"readDictionary",value:function(e){return this.dictionaries.get(e.id)}}]),n}(Nt),Lo=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i,r,o){var a;return Object(p.a)(this,n),(a=t.call(this,new Uint8Array(0),i,r,o)).sources=e,a}return Object(v.a)(n,[{key:"readNullBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange(),i=n.offset;return t<=0?new Uint8Array(0):Rt(this.sources[i])}},{key:"readOffsets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset;return ye(Uint8Array,ye(Int32Array,this.sources[n]))}},{key:"readTypeIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset;return ye(Uint8Array,ye(e.ArrayType,this.sources[n]))}},{key:"readData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset,i=this.sources;return en.isTimestamp(e)||(en.isInt(e)||en.isTime(e))&&64===e.bitWidth||en.isDate(e)&&e.unit===kt.MILLISECOND?ye(Uint8Array,Ro.convertArray(i[n])):en.isDecimal(e)?ye(Uint8Array,Do.convertArray(i[n])):en.isBinary(e)||en.isFixedSizeBinary(e)?Fo(i[n]):en.isBool(e)?Rt(i[n]):en.isUtf8(e)?L(i[n].join("")):ye(Uint8Array,ye(e.ArrayType,i[n].map((function(e){return+e}))))}}]),n}(Ao);function Fo(e){for(var t=e.join(""),n=new Uint8Array(t.length/2),i=0;i<t.length;i+=2)n[i>>1]=parseInt(t.substr(i,2),16);return n}var Mo=T.Long,No=ft.apache.arrow.flatbuf.Null,zo=ft.apache.arrow.flatbuf.Int,Uo=ft.apache.arrow.flatbuf.FloatingPoint,Vo=ft.apache.arrow.flatbuf.Binary,Ho=ft.apache.arrow.flatbuf.Bool,Wo=ft.apache.arrow.flatbuf.Utf8,$o=ft.apache.arrow.flatbuf.Decimal,Go=ft.apache.arrow.flatbuf.Date,qo=ft.apache.arrow.flatbuf.Time,Yo=ft.apache.arrow.flatbuf.Timestamp,Zo=ft.apache.arrow.flatbuf.Interval,Ko=ft.apache.arrow.flatbuf.List,Xo=ft.apache.arrow.flatbuf.Struct_,Qo=ft.apache.arrow.flatbuf.Union,Jo=ft.apache.arrow.flatbuf.DictionaryEncoding,ea=ft.apache.arrow.flatbuf.FixedSizeBinary,ta=ft.apache.arrow.flatbuf.FixedSizeList,na=ft.apache.arrow.flatbuf.Map,ia=new(function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"visit",value:function(e,t){return null==e||null==t?void 0:ht(Object(ct.a)(n.prototype),"visit",this).call(this,e,t)}},{key:"visitNull",value:function(e,t){return No.startNull(t),No.endNull(t)}},{key:"visitInt",value:function(e,t){return zo.startInt(t),zo.addBitWidth(t,e.bitWidth),zo.addIsSigned(t,e.isSigned),zo.endInt(t)}},{key:"visitFloat",value:function(e,t){return Uo.startFloatingPoint(t),Uo.addPrecision(t,e.precision),Uo.endFloatingPoint(t)}},{key:"visitBinary",value:function(e,t){return Vo.startBinary(t),Vo.endBinary(t)}},{key:"visitBool",value:function(e,t){return Ho.startBool(t),Ho.endBool(t)}},{key:"visitUtf8",value:function(e,t){return Wo.startUtf8(t),Wo.endUtf8(t)}},{key:"visitDecimal",value:function(e,t){return $o.startDecimal(t),$o.addScale(t,e.scale),$o.addPrecision(t,e.precision),$o.endDecimal(t)}},{key:"visitDate",value:function(e,t){return Go.startDate(t),Go.addUnit(t,e.unit),Go.endDate(t)}},{key:"visitTime",value:function(e,t){return qo.startTime(t),qo.addUnit(t,e.unit),qo.addBitWidth(t,e.bitWidth),qo.endTime(t)}},{key:"visitTimestamp",value:function(e,t){var n=e.timezone&&t.createString(e.timezone)||void 0;return Yo.startTimestamp(t),Yo.addUnit(t,e.unit),void 0!==n&&Yo.addTimezone(t,n),Yo.endTimestamp(t)}},{key:"visitInterval",value:function(e,t){return Zo.startInterval(t),Zo.addUnit(t,e.unit),Zo.endInterval(t)}},{key:"visitList",value:function(e,t){return Ko.startList(t),Ko.endList(t)}},{key:"visitStruct",value:function(e,t){return Xo.startStruct_(t),Xo.endStruct_(t)}},{key:"visitUnion",value:function(e,t){Qo.startTypeIdsVector(t,e.typeIds.length);var n=Qo.createTypeIdsVector(t,e.typeIds);return Qo.startUnion(t),Qo.addMode(t,e.mode),Qo.addTypeIds(t,n),Qo.endUnion(t)}},{key:"visitDictionary",value:function(e,t){var n=this.visit(e.indices,t);return Jo.startDictionaryEncoding(t),Jo.addId(t,new Mo(e.id,0)),Jo.addIsOrdered(t,e.isOrdered),void 0!==n&&Jo.addIndexType(t,n),Jo.endDictionaryEncoding(t)}},{key:"visitFixedSizeBinary",value:function(e,t){return ea.startFixedSizeBinary(t),ea.addByteWidth(t,e.byteWidth),ea.endFixedSizeBinary(t)}},{key:"visitFixedSizeList",value:function(e,t){return ta.startFixedSizeList(t),ta.addListSize(t,e.listSize),ta.endFixedSizeList(t)}},{key:"visitMap",value:function(e,t){return na.startMap(t),na.addKeysSorted(t,e.keysSorted),na.endMap(t)}}]),n}(Nt));function ra(e){return new Ta(e.count,function e(t){return(t||[]).reduce((function(t,n){return[].concat(Mt(t),[new Ea(n.count,(i=n.VALIDITY,(i||[]).reduce((function(e,t){return e+ +(0===t)}),0)))],Mt(e(n.children)));var i}),[])}(e.columns),function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=-1,r=(t||[]).length;++i<r;){var o=t[i];o.VALIDITY&&n.push(new Oa(n.length,o.VALIDITY.length)),o.TYPE&&n.push(new Oa(n.length,o.TYPE.length)),o.OFFSET&&n.push(new Oa(n.length,o.OFFSET.length)),o.DATA&&n.push(new Oa(n.length,o.DATA.length)),n=e(o.children,n)}return n}(e.columns))}function oa(e,t){return(e.fields||[]).filter(Boolean).map((function(e){return Dr.fromJSON(e,t)}))}function aa(e,t){return(e.children||[]).filter(Boolean).map((function(e){return Dr.fromJSON(e,t)}))}function sa(e){return new Map(Object.entries(e||{}))}function ua(e){return new nn(e.isSigned,e.bitWidth)}function la(e,t){var n=e.type.name;switch(n){case"NONE":case"null":return new tn;case"binary":return new yn;case"utf8":return new gn;case"bool":return new mn;case"list":return new On((t||[])[0]);case"struct":case"struct_":return new En(t||[])}switch(n){case"int":var i=e.type;return new nn(i.isSigned,i.bitWidth);case"floatingpoint":var r=e.type;return new fn(xt[r.precision]);case"decimal":var o=e.type;return new bn(o.scale,o.precision);case"date":var a=e.type;return new wn(kt[a.unit]);case"time":var s=e.type;return new xn(_t[s.unit],s.bitWidth);case"timestamp":var u=e.type;return new Tn(_t[u.unit],u.timezone);case"interval":var l=e.type;return new Sn(St[l.unit]);case"union":var c=e.type;return new In(Tt[c.mode],c.typeIds||[],t||[]);case"fixedsizebinary":var h=e.type;return new Pn(h.byteWidth);case"fixedsizelist":var f=e.type;return new Cn(f.listSize,(t||[])[0]);case"map":var d=e.type;return new jn((t||[])[0],d.keysSorted)}throw new Error('Unrecognized type: "'.concat(n,'"'))}var ca=T.Long,ha=T.Builder,fa=T.ByteBuffer,da=ft.apache.arrow.flatbuf.Type,pa=ft.apache.arrow.flatbuf.Field,va=ft.apache.arrow.flatbuf.Schema,ya=ft.apache.arrow.flatbuf.Buffer,ga=gt.apache.arrow.flatbuf.Message,ma=ft.apache.arrow.flatbuf.KeyValue,ba=gt.apache.arrow.flatbuf.FieldNode,wa=ft.apache.arrow.flatbuf.Endianness,ka=gt.apache.arrow.flatbuf.RecordBatch,_a=gt.apache.arrow.flatbuf.DictionaryBatch,xa=function(){function e(t,n,i,r){Object(p.a)(this,e),this._version=n,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=function(){return r}),this._bodyLength="number"===typeof t?t:t.low}return Object(v.a)(e,[{key:"header",value:function(){return this._createHeader()}},{key:"isSchema",value:function(){return this.headerType===Ot.Schema}},{key:"isRecordBatch",value:function(){return this.headerType===Ot.RecordBatch}},{key:"isDictionaryBatch",value:function(){return this.headerType===Ot.DictionaryBatch}},{key:"type",get:function(){return this.headerType}},{key:"version",get:function(){return this._version}},{key:"headerType",get:function(){return this._headerType}},{key:"bodyLength",get:function(){return this._bodyLength}}],[{key:"fromJSON",value:function(t,n){var i=new e(0,Et.V4,n);return i._createHeader=function(e,t){return function(){switch(t){case Ot.Schema:return Rr.fromJSON(e);case Ot.RecordBatch:return Ta.fromJSON(e);case Ot.DictionaryBatch:return Sa.fromJSON(e)}throw new Error("Unrecognized Message type: { name: ".concat(Ot[t],", type: ").concat(t," }"))}}(t,n),i}},{key:"decode",value:function(t){t=new fa(ke(t));var n=ga.getRootAsMessage(t),i=n.bodyLength(),r=n.version(),o=n.headerType(),a=new e(i,r,o);return a._createHeader=function(e,t){return function(){switch(t){case Ot.Schema:return Rr.decode(e.header(new va));case Ot.RecordBatch:return Ta.decode(e.header(new ka),e.version());case Ot.DictionaryBatch:return Sa.decode(e.header(new _a),e.version())}throw new Error("Unrecognized Message type: { name: ".concat(Ot[t],", type: ").concat(t," }"))}}(n,o),a}},{key:"encode",value:function(e){var t=new ha,n=-1;return e.isSchema()?n=Rr.encode(t,e.header()):e.isRecordBatch()?n=Ta.encode(t,e.header()):e.isDictionaryBatch()&&(n=Sa.encode(t,e.header())),ga.startMessage(t),ga.addVersion(t,Et.V4),ga.addHeader(t,n),ga.addHeaderType(t,e.headerType),ga.addBodyLength(t,new ca(e.bodyLength,0)),ga.finishMessageBuffer(t,ga.endMessage(t)),t.asUint8Array()}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Rr)return new e(0,Et.V4,Ot.Schema,t);if(t instanceof Ta)return new e(n,Et.V4,Ot.RecordBatch,t);if(t instanceof Sa)return new e(n,Et.V4,Ot.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}}]),e}(),Ta=function(){function e(t,n,i){Object(p.a)(this,e),this._nodes=n,this._buffers=i,this._length="number"===typeof t?t:t.low}return Object(v.a)(e,[{key:"nodes",get:function(){return this._nodes}},{key:"length",get:function(){return this._length}},{key:"buffers",get:function(){return this._buffers}}]),e}(),Sa=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(p.a)(this,e),this._data=t,this._isDelta=i,this._id="number"===typeof n?n:n.low}return Object(v.a)(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"isDelta",get:function(){return this._isDelta}},{key:"length",get:function(){return this.data.length}},{key:"nodes",get:function(){return this.data.nodes}},{key:"buffers",get:function(){return this.data.buffers}}]),e}(),Oa=function e(t,n){Object(p.a)(this,e),this.offset="number"===typeof t?t:t.low,this.length="number"===typeof n?n:n.low},Ea=function e(t,n){Object(p.a)(this,e),this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof n?n:n.low};function Ia(e){for(var t,n=[],i=-1,r=-1,o=e.nodesLength();++i<o;)(t=e.nodes(i))&&(n[++r]=Ea.decode(t));return n}function Pa(e,t){for(var n,i=[],r=-1,o=-1,a=e.buffersLength();++r<a;)(n=e.buffers(r))&&(t<Et.V4&&(n.bb_pos+=8*(r+1)),i[++o]=Oa.decode(n));return i}function Ca(e,t){for(var n,i=[],r=-1,o=-1,a=e.fieldsLength();++r<a;)(n=e.fields(r))&&(i[++o]=Dr.decode(n,t));return i}function ja(e,t){for(var n,i=[],r=-1,o=-1,a=e.childrenLength();++r<a;)(n=e.children(r))&&(i[++o]=Dr.decode(n,t));return i}function Ba(e){var t=new Map;if(e)for(var n,i,r=-1,o=0|e.customMetadataLength();++r<o;)(n=e.customMetadata(r))&&null!=(i=n.key())&&t.set(i,n.value());return t}function Ra(e){return new nn(e.isSigned(),e.bitWidth())}function Da(e,t){var n=e.typeType();switch(n){case da.NONE:case da.Null:return new tn;case da.Binary:return new yn;case da.Utf8:return new gn;case da.Bool:return new mn;case da.List:return new On((t||[])[0]);case da.Struct_:return new En(t||[])}switch(n){case da.Int:var i=e.type(new ft.apache.arrow.flatbuf.Int);return new nn(i.isSigned(),i.bitWidth());case da.FloatingPoint:var r=e.type(new ft.apache.arrow.flatbuf.FloatingPoint);return new fn(r.precision());case da.Decimal:var o=e.type(new ft.apache.arrow.flatbuf.Decimal);return new bn(o.scale(),o.precision());case da.Date:var a=e.type(new ft.apache.arrow.flatbuf.Date);return new wn(a.unit());case da.Time:var s=e.type(new ft.apache.arrow.flatbuf.Time);return new xn(s.unit(),s.bitWidth());case da.Timestamp:var u=e.type(new ft.apache.arrow.flatbuf.Timestamp);return new Tn(u.unit(),u.timezone());case da.Interval:var l=e.type(new ft.apache.arrow.flatbuf.Interval);return new Sn(l.unit());case da.Union:var c=e.type(new ft.apache.arrow.flatbuf.Union);return new In(c.mode(),c.typeIdsArray()||[],t||[]);case da.FixedSizeBinary:var h=e.type(new ft.apache.arrow.flatbuf.FixedSizeBinary);return new Pn(h.byteWidth());case da.FixedSizeList:var f=e.type(new ft.apache.arrow.flatbuf.FixedSizeList);return new Cn(f.listSize(),(t||[])[0]);case da.Map:var d=e.type(new ft.apache.arrow.flatbuf.Map);return new jn((t||[])[0],d.keysSorted())}throw new Error('Unrecognized type: "'.concat(da[n],'" (').concat(n,")"))}Dr.encode=function(e,t){var n=-1,i=-1,r=-1,o=t.type,a=t.typeId;en.isDictionary(o)?(a=o.dictionary.typeId,r=ia.visit(o,e),i=ia.visit(o.dictionary,e)):i=ia.visit(o,e);var s=(o.children||[]).map((function(t){return Dr.encode(e,t)})),u=pa.createChildrenVector(e,s),l=t.metadata&&t.metadata.size>0?pa.createCustomMetadataVector(e,Mt(t.metadata).map((function(t){var n=g(t,2),i=n[0],r=n[1],o=e.createString("".concat(i)),a=e.createString("".concat(r));return ma.startKeyValue(e),ma.addKey(e,o),ma.addValue(e,a),ma.endKeyValue(e)}))):-1;t.name&&(n=e.createString(t.name));pa.startField(e),pa.addType(e,i),pa.addTypeType(e,a),pa.addChildren(e,u),pa.addNullable(e,!!t.nullable),-1!==n&&pa.addName(e,n);-1!==r&&pa.addDictionary(e,r);-1!==l&&pa.addCustomMetadata(e,l);return pa.endField(e)},Dr.decode=function(e,t){var n,i,r,o,a,s;t&&(s=e.dictionary())?t.has(n=s.id().low)?(o=(o=s.indexType())?Ra(o):new an,a=new Dn(t.get(n),o,n,s.isOrdered()),i=new Dr(e.name(),a,e.nullable(),Ba(e))):(o=(o=s.indexType())?Ra(o):new an,t.set(n,r=Da(e,ja(e,t))),a=new Dn(r,o,n,s.isOrdered()),i=new Dr(e.name(),a,e.nullable(),Ba(e))):(r=Da(e,ja(e,t)),i=new Dr(e.name(),r,e.nullable(),Ba(e)));return i||null},Dr.fromJSON=function(e,t){var n,i,r,o,a,s;return t&&(o=e.dictionary)?t.has(n=o.id)?(i=(i=o.indexType)?ua(i):new an,s=new Dn(t.get(n),i,n,o.isOrdered),r=new Dr(e.name,s,e.nullable,sa(e.customMetadata))):(i=(i=o.indexType)?ua(i):new an,t.set(n,a=la(e,aa(e,t))),s=new Dn(a,i,n,o.isOrdered),r=new Dr(e.name,s,e.nullable,sa(e.customMetadata))):(a=la(e,aa(e,t)),r=new Dr(e.name,a,e.nullable,sa(e.customMetadata))),r||null},Rr.encode=function(e,t){var n=t.fields.map((function(t){return Dr.encode(e,t)}));va.startFieldsVector(e,n.length);var i=va.createFieldsVector(e,n),r=t.metadata&&t.metadata.size>0?va.createCustomMetadataVector(e,Mt(t.metadata).map((function(t){var n=g(t,2),i=n[0],r=n[1],o=e.createString("".concat(i)),a=e.createString("".concat(r));return ma.startKeyValue(e),ma.addKey(e,o),ma.addValue(e,a),ma.endKeyValue(e)}))):-1;va.startSchema(e),va.addFields(e,i),va.addEndianness(e,Aa?wa.Little:wa.Big),-1!==r&&va.addCustomMetadata(e,r);return va.endSchema(e)},Rr.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=Ca(e,t);return new Rr(n,Ba(e),t)},Rr.fromJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Rr(oa(e,t),sa(e.customMetadata),t)},Ta.encode=function(e,t){var n=t.nodes||[],i=t.buffers||[];ka.startNodesVector(e,n.length),n.slice().reverse().forEach((function(t){return Ea.encode(e,t)}));var r=e.endVector();ka.startBuffersVector(e,i.length),i.slice().reverse().forEach((function(t){return Oa.encode(e,t)}));var o=e.endVector();return ka.startRecordBatch(e),ka.addLength(e,new ca(t.length,0)),ka.addNodes(e,r),ka.addBuffers(e,o),ka.endRecordBatch(e)},Ta.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.V4;return new Ta(e.length(),Ia(e),Pa(e,t))},Ta.fromJSON=ra,Sa.encode=function(e,t){var n=Ta.encode(e,t.data);return _a.startDictionaryBatch(e),_a.addId(e,new ca(t.id,0)),_a.addIsDelta(e,t.isDelta),_a.addData(e,n),_a.endDictionaryBatch(e)},Sa.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et.V4;return new Sa(Ta.decode(e.data(),t),e.id(),e.isDelta())},Sa.fromJSON=function(e){return new Sa(ra(e.data),e.id,e.isDelta)},Ea.encode=function(e,t){return ba.createFieldNode(e,new ca(t.length,0),new ca(t.nullCount,0))},Ea.decode=function(e){return new Ea(e.length(),e.nullCount())},Oa.encode=function(e,t){return ya.createBuffer(e,new ca(t.offset,0),new ca(t.length,0))},Oa.decode=function(e){return new Oa(e.offset(),e.length())};for(var Aa=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),La=T.ByteBuffer,Fa=function(e){return"Expected ".concat(Ot[e]," Message in stream, but was null or length 0.")},Ma=function(e){return"Header pointer of flatbuffer-encoded ".concat(Ot[e]," Message is null or length 0.")},Na=function(e,t){return"Expected to read ".concat(e," metadata bytes, but only read ").concat(t,".")},za=function(e,t){return"Expected to read ".concat(e," bytes for message body, but only read ").concat(t,".")},Ua=function(){function e(t){Object(p.a)(this,e),this.source=t instanceof xo?t:new xo(t)}return Object(v.a)(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?N:e}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(Fa(e));return t.value}},{key:"readMessageBody",value:function(e){if(e<=0)return new Uint8Array(0);var t=ke(this.source.read(e));if(t.byteLength<e)throw new Error(za(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}},{key:"readSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ot.Schema,n=this.readMessage(t),i=n&&n.header();if(e&&!i)throw new Error(Ma(t));return i}},{key:"readMetadataLength",value:function(){var e=this.source.read(Wa),t=e&&new La(e),n=t&&t.readInt32(0)||0;return{done:0===n,value:n}}},{key:"readMetadata",value:function(e){var t=this.source.read(e);if(!t)return N;if(t.byteLength<e)throw new Error(Na(e,t.byteLength));return{done:!1,value:xa.decode(t)}}}]),e}(),Va=function(){function e(t,n){Object(p.a)(this,e),this.source=t instanceof To?t:oe(t)?new Io(t,n):new To(t)}return Object(v.a)(e,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(){var e=d(y.mark((function e(){var t;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readMetadataLength();case 2:if(!(t=e.sent).done){e.next=4;break}return e.abrupt("return",N);case 4:if(e.t0=-1===t.value,!e.t0){e.next=9;break}return e.next=8,this.readMetadataLength();case 8:e.t0=(t=e.sent).done;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",N);case 11:return e.next=13,this.readMetadata(t.value);case 13:if(!(t=e.sent).done){e.next=15;break}return e.abrupt("return",N);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"throw",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.throw(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.return(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readMessage",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:if(!(n=e.sent).done){e.next=4;break}return e.abrupt("return",null);case 4:if(null==t||n.value.headerType===t){e.next=6;break}throw new Error(Fa(t));case 6:return e.abrupt("return",n.value);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readMessageBody",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=0)){e.next=2;break}return e.abrupt("return",new Uint8Array(0));case 2:return e.t0=ke,e.next=5,this.source.read(t);case 5:if(e.t1=e.sent,!((n=(0,e.t0)(e.t1)).byteLength<t)){e.next=9;break}throw new Error(za(t,n.byteLength));case 9:return e.abrupt("return",n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSchema",value:function(){var e=d(y.mark((function e(){var t,n,i,r,o=arguments;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],n=Ot.Schema,e.next=4,this.readMessage(n);case 4:if(i=e.sent,r=i&&i.header(),!t||r){e.next=8;break}throw new Error(Ma(n));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readMetadataLength",value:function(){var e=d(y.mark((function e(){var t,n,i;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.read(Wa);case 2:return t=e.sent,n=t&&new La(t),i=n&&n.readInt32(0)||0,e.abrupt("return",{done:0===i,value:i});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readMetadata",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.read(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",N);case 5:if(!(n.byteLength<t)){e.next=7;break}throw new Error(Na(t,n.byteLength));case 7:return e.abrupt("return",{done:!1,value:xa.decode(n)});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ha=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,new Uint8Array(0)))._schema=!1,i._body=[],i._batchIndex=0,i._dictionaryIndex=0,i._json=e instanceof z?e:new z(e),i}return Object(v.a)(n,[{key:"next",value:function(){var e=this._json;if(!this._schema)return this._schema=!0,{done:!1,value:xa.fromJSON(e.schema,Ot.Schema)};if(this._dictionaryIndex<e.dictionaries.length){var t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:xa.fromJSON(t,Ot.DictionaryBatch)}}if(this._batchIndex<e.batches.length){var n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:xa.fromJSON(n,Ot.RecordBatch)}}return this._body=[],N}},{key:"readMessageBody",value:function(e){return function e(t){return(t||[]).reduce((function(t,n){return[].concat(Mt(t),Mt(n.VALIDITY&&[n.VALIDITY]||[]),Mt(n.TYPE&&[n.TYPE]||[]),Mt(n.OFFSET&&[n.OFFSET]||[]),Mt(n.DATA&&[n.DATA]||[]),Mt(e(n.children)))}),[])}(this._body)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(Fa(e));return t.value}},{key:"readSchema",value:function(){var e=Ot.Schema,t=this.readMessage(e),n=t&&t.header();if(!t||!n)throw new Error(Ma(e));return n}}]),n}(Ua),Wa=4,$a=new Uint8Array("ARROW1".length),Ga=0;Ga<"ARROW1".length;Ga+=1)$a[Ga]="ARROW1".charCodeAt(Ga);function qa(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,i=$a.length;++n<i;)if($a[n]!==e[t+n])return!1;return!0}var Ya=$a.length,Za=Ya+Wa,Ka=2*Ya+Wa,Xa=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._byteLength=0,e._nodes=[],e._buffers=[],e._bufferRegions=[],e}return Object(v.a)(n,[{key:"visit",value:function(e){if(!en.isDictionary(e.type)){var t=e.data,i=e.length,r=e.nullCount;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");en.isNull(e.type)||Qa.call(this,r<=0?new Uint8Array(0):Bt(t.offset,i,t.nullBitmap)),this.nodes.push(new Ea(i,r))}return ht(Object(ct.a)(n.prototype),"visit",this).call(this,e)}},{key:"visitNull",value:function(e){return this}},{key:"visitDictionary",value:function(e){return this.visit(e.indices)}},{key:"nodes",get:function(){return this._nodes}},{key:"buffers",get:function(){return this._buffers}},{key:"byteLength",get:function(){return this._byteLength}},{key:"bufferRegions",get:function(){return this._bufferRegions}}],[{key:"assemble",value:function(){for(var e=new n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=Pr(Ju,i),a=e.visitMany(o),s=g(a,1),u=s[0],l=void 0===u?e:u;return l}}]),n}(Nt);function Qa(e){var t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Oa(this._byteLength,t)),this._byteLength+=t,this}function Ja(e){return Qa.call(this,e.values.subarray(0,e.length*e.stride))}function es(e){var t=e.length,n=e.values,i=e.valueOffsets,r=i[0],o=i[t],a=Math.min(o-r,n.byteLength-r);return Qa.call(this,Ke(-i[0],t,i)),Qa.call(this,n.subarray(r,r+a)),this}function ts(e){var t=e.length,n=e.valueOffsets;return n&&Qa.call(this,Ke(n[0],t,n)),this.visit(e.getChildAt(0))}function ns(e){return this.visitMany(e.type.children.map((function(t,n){return e.getChildAt(n)})).filter(Boolean))[0]}Xa.prototype.visitBool=function(e){var t;return e.nullCount>=e.length?Qa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Qa.call(this,Bt(e.offset,e.length,t)):Qa.call(this,Rt(e))},Xa.prototype.visitInt=Ja,Xa.prototype.visitFloat=Ja,Xa.prototype.visitUtf8=es,Xa.prototype.visitBinary=es,Xa.prototype.visitFixedSizeBinary=Ja,Xa.prototype.visitDate=Ja,Xa.prototype.visitTimestamp=Ja,Xa.prototype.visitTime=Ja,Xa.prototype.visitDecimal=Ja,Xa.prototype.visitList=ts,Xa.prototype.visitStruct=ns,Xa.prototype.visitUnion=function(e){var t=e.type,n=e.length,i=e.typeIds,r=e.valueOffsets;if(Qa.call(this,i),t.mode===Tt.Sparse)return ns.call(this,e);if(t.mode===Tt.Dense){if(e.offset<=0)return Qa.call(this,r),ns.call(this,e);for(var o,a,s=i.reduce((function(e,t){return Math.max(e,t)}),i[0]),u=new Int32Array(s+1),l=new Int32Array(s+1).fill(-1),c=new Int32Array(n),h=Ke(-r[0],n,r),f=-1;++f<n;)-1===(a=l[o=i[f]])&&(a=l[o]=h[o]),c[f]=h[f]-a,++u[o];Qa.call(this,c);for(var d,p=-1,v=t.children.length;++p<v;)if(d=e.getChildAt(p)){var y=t.typeIds[p],g=Math.min(n,u[y]);this.visit(d.slice(l[y],g))}}return this},Xa.prototype.visitInterval=Ja,Xa.prototype.visitFixedSizeList=ts,Xa.prototype.visitMap=ts;var is=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this))._position=0,i._started=!1,i._sink=new _o,i._schema=null,i._dictionaryBlocks=[],i._recordBatchBlocks=[],i._dictionaryDeltaOffsets=new Map,J(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),i._autoDestroy="boolean"!==typeof e.autoDestroy||e.autoDestroy,i._writeLegacyIpcFormat="boolean"===typeof e.writeLegacyIpcFormat&&e.writeLegacyIpcFormat,i}return Object(v.a)(n,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(e)}},{key:"toUint8Array",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(e)}},{key:"writeAll",value:function(e){var t=this;return ee(e)?e.then((function(e){return t.writeAll(e)})):ne(e)?ss(this,e):as(this,e)}},{key:Symbol.asyncIterator,value:function(){return this._sink[Symbol.asyncIterator]()}},{key:"toDOMStream",value:function(e){return this._sink.toDOMStream(e)}},{key:"toNodeStream",value:function(e){return this._sink.toNodeStream(e)}},{key:"close",value:function(){return this.reset()._sink.close()}},{key:"abort",value:function(e){return this.reset()._sink.abort(e)}},{key:"finish",value:function(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e===this._sink||e instanceof _o?this._sink=e:(this._sink=new _o,e&&se(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&le(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,t&&t.compareTo(this._schema)||(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}},{key:"write",value:function(e){var t=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null===e||void 0===e)return this.finish()&&void 0;if(e instanceof Qu&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof Ju&&!(t=e.schema))return this.finish()&&void 0;if(t&&!t.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof Ju?e instanceof el||this._writeRecordBatch(e):e instanceof Qu?this.writeAll(e.chunks):te(e)&&this.writeAll(e)}},{key:"_writeMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=t-1,i=xa.encode(e),r=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=r+o+n&~n,s=a-r-o;return e.headerType===Ot.RecordBatch?this._recordBatchBlocks.push(new ko(a,e.bodyLength,this._position)):e.headerType===Ot.DictionaryBatch&&this._dictionaryBlocks.push(new ko(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),r>0&&this._write(i),this._writePadding(s)}},{key:"_write",value:function(e){if(this._started){var t=ke(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}},{key:"_writeSchema",value:function(e){return this._writeMessage(xa.from(e))}},{key:"_writeFooter",value:function(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}},{key:"_writeMagic",value:function(){return this._write($a)}},{key:"_writePadding",value:function(e){return e>0?this._write(new Uint8Array(e)):this}},{key:"_writeRecordBatch",value:function(e){var t=Xa.assemble(e),n=t.byteLength,i=t.nodes,r=t.bufferRegions,o=t.buffers,a=new Ta(e.length,i,r),s=xa.from(a,n);return this._writeDictionaries(e)._writeMessage(s)._writeBodyBuffers(o)}},{key:"_writeDictionaryBatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));var i=Xa.assemble(e),r=i.byteLength,o=i.nodes,a=i.bufferRegions,s=i.buffers,u=new Ta(e.length,o,a),l=new Sa(u,t,n),c=xa.from(l,r);return this._writeMessage(c)._writeBodyBuffers(s)}},{key:"_writeBodyBuffers",value:function(e){for(var t,n,i,r=-1,o=e.length;++r<o;)(t=e[r])&&(n=t.byteLength)>0&&(this._write(t),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}},{key:"_writeDictionaries",value:function(e){var t,n=h(e.dictionaries);try{for(n.s();!(t=n.n()).done;){var i=g(t.value,2),r=i[0],o=i[1],a=this._dictionaryDeltaOffsets.get(r)||0;if(0===a||(o=o.slice(a)).length>0){var s,u=h("chunks"in o?o.chunks:[o]);try{for(u.s();!(s=u.n()).done;){var l=s.value;this._writeDictionaryBatch(l,r,a>0),a+=l.length}}catch(c){u.e(c)}finally{u.f()}}}}catch(c){n.e(c)}finally{n.f()}return this}},{key:"closed",get:function(){return this._sink.closed}}],[{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e,t){throw new Error('"throughDOM" not available in this environment')}}]),n}(U),rs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,null,[{key:"writeAll",value:function(e,t){var i=new n(t);return ee(e)?e.then((function(e){return i.writeAll(e)})):ne(e)?ss(i,e):as(i,e)}}]),n}(is),os=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this))._autoDestroy=!0,e}return Object(v.a)(n,[{key:"_writeSchema",value:function(e){return this._writeMagic()._writePadding(2)}},{key:"_writeFooter",value:function(e){var t=bo.encode(new bo(e,Et.V4,this._recordBatchBlocks,this._dictionaryBlocks));return ht(Object(ct.a)(n.prototype),"_writeFooter",this).call(this,e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}}],[{key:"writeAll",value:function(e){var t=new n;return ee(e)?e.then((function(e){return t.writeAll(e)})):ne(e)?ss(t,e):as(t,e)}}]),n}(is);function as(e,t){var n=t;t instanceof Qu&&(n=t.chunks,e.reset(void 0,t.schema));var i,r=h(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.write(o)}}catch(a){r.e(a)}finally{r.f()}return e.finish()}function ss(e,t){return us.apply(this,arguments)}function us(){return(us=d(y.mark((function e(t,n){var i,r,o,a,s,u,l;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,r=!1,e.prev=2,a=_(n);case 4:return e.next=6,a.next();case 6:return s=e.sent,i=s.done,e.next=10,s.value;case 10:if(u=e.sent,i){e.next=17;break}l=u,t.write(l);case 14:i=!0,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),r=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,i||null==a.return){e.next=28;break}return e.next=28,a.return();case 28:if(e.prev=28,!r){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return e.abrupt("return",t.finish());case 34:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})))).apply(this,arguments)}var ls=new Uint8Array(0),cs=function(e){return[ls,ls,new Uint8Array(e),ls]};function hs(e,t){for(var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.reduce((function(e,t){return Math.max(e,t.length)}),0),o=-1,a=t.length,s=Mt(e.fields),u=[],l=(r+63&-64)>>3;++o<a;)(n=t[o])&&n.length===r?u[o]=n:((i=s[o]).nullable||(s[o]=s[o].clone({nullable:!0})),u[o]=n?n._changeLengthAndBackfillNullBitmap(r):Ln.new(i.type,0,r,r,cs(l)));return[new Rr(s),r,u]}function fs(e){return ds(new Rr(e.map((function(e){return e.field}))),e)}function ds(e,t){return function(e,t){var n,i=Mt(e.fields),r=[],o={numBatches:t.reduce((function(e,t){return Math.max(e,t.length)}),0)},a=0,s=0,u=-1,l=t.length,c=[];for(;o.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,u=-1;++u<l;)c[u]=n=t[u].shift(),s=Math.min(s,n?n.length:s);isFinite(s)&&(c=ps(i,s,c,t,o),s>0&&(r[a++]=[s,c.slice()]))}return[e=new Rr(i,e.metadata),r.map((function(t){return di(Ju,[e].concat(Mt(t)))}))]}(e,t.map((function(e){return e instanceof mr?e.chunks.map((function(e){return e.data})):[e.data]})))}function ps(e,t,n,i,r){for(var o,a,s=0,u=-1,l=i.length,c=(t+63&-64)>>3;++u<l;)(o=n[u])&&(s=o.length)>=t?s===t?n[u]=o:(n[u]=o.slice(0,t),o=o.slice(t,s-t),r.numBatches=Math.max(r.numBatches,i[u].unshift(o))):((a=e[u]).nullable||(e[u]=a.clone({nullable:!0})),n[u]=o?o._changeLengthAndBackfillNullBitmap(t):Ln.new(a.type,0,t,t,cs(c)));return n}function vs(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ys=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this))._children=i,r.numChildren=e.childData.length,r._bindDataAccessors(r.data=e),r}return Object(v.a)(n,[{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return mt.new(e,t)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mr.concat.apply(mr,[this].concat(t))}},{key:"slice",value:function(e,t){return fr(this,e,t,this._sliceInternal)}},{key:"isValid",value:function(e){if(this.nullCount>0){var t=this.offset+e;return 0!==(this.nullBitmap[t>>3]&1<<t%8)}return!0}},{key:"getChildAt",value:function(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=mt.new(this.data.childData[e]))}},{key:"toJSON",value:function(){return Mt(this)}},{key:"_sliceInternal",value:function(e,t,n){return e.clone(e.data.slice(t,n-t),null)}},{key:"_bindDataAccessors",value:function(e){}},{key:"type",get:function(){return this.data.type}},{key:"typeId",get:function(){return this.data.typeId}},{key:"length",get:function(){return this.data.length}},{key:"offset",get:function(){return this.data.offset}},{key:"stride",get:function(){return this.data.stride}},{key:"nullCount",get:function(){return this.data.nullCount}},{key:"byteLength",get:function(){return this.data.byteLength}},{key:"VectorName",get:function(){return"".concat(bt[this.typeId],"Vector")}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"values",get:function(){return this.data.values}},{key:"typeIds",get:function(){return this.data.typeIds}},{key:"nullBitmap",get:function(){return this.data.nullBitmap}},{key:"valueOffsets",get:function(){return this.data.valueOffsets}},{key:Symbol.toStringTag,get:function(){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}}]),n}(mt);ys.prototype[Symbol.isConcatSpreadable]=!0;var gs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"asUtf8",value:function(){return mt.new(this.data.clone(new gn))}}]),n}(ys),ms=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,null,[{key:"from",value:function(e){return Xu((function(){return new mn}),e)}}]),n}(ys),bs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,null,[{key:"from",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 2===t.length?Xu((function(){return t[1]===kt.DAY?new kn:new _n}),t[0]):Xu((function(){return new _n}),t[0])}}]),n}(ys),ws=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(bs),ks=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(bs),_s=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),xs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e)).indices=mt.new(e.clone(i.type.indices)),i}return Object(v.a)(n,[{key:"reverseLookup",value:function(e){return this.dictionary.indexOf(e)}},{key:"getKey",value:function(e){return this.indices.get(e)}},{key:"getValue",value:function(e){return this.dictionary.get(e)}},{key:"setKey",value:function(e,t){return this.indices.set(e,t)}},{key:"setValue",value:function(e,t){return this.dictionary.set(e,t)}},{key:"dictionary",get:function(){return this.data.dictionary}}],[{key:"from",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(3===t.length){var i=t[0],r=t[1],o=t[2],a=new Dn(i.type,r,null,null);return mt.new(Ln.Dictionary(a,0,o.length,0,null,o,i))}return Xu((function(){return t[0].type}),t[0])}}]),n}(ys);xs.prototype.indices=null;var Ts=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),Ss=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),Os=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,null,[{key:"from",value:function(e){var t=Bs(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var n=js(e.constructor)||t;if(null===t&&(t=n),t&&t===n){var i=new t,r=e.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!Cs(t,e.constructor))return mt.new(Ln.Float(i,0,r,0,null,e))}}if(t)return Xu((function(){return new t}),e);if(e instanceof DataView||e instanceof ArrayBuffer)throw new TypeError("Cannot infer float type from instance of ".concat(e.constructor.name));throw new TypeError("Unrecognized FloatVector input")}}]),n}(ys),Es=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toFloat64Array",value:function(){return new Float64Array(this)}}]),n}(Os),Is=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Os),Ps=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Os),Cs=function(e,t){return e===dn&&t!==Uint16Array},js=function(e){switch(e){case Uint16Array:return dn;case Float32Array:return pn;case Float64Array:return vn;default:return null}},Bs=function(e){switch(e){case Es:return dn;case Is:return pn;case Ps:return vn;default:return null}},Rs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),Ds=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Rs),As=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Rs),Ls=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,null,[{key:"from",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],r=t[1],o=void 0!==r&&r,a=qs(this,o);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)){var s=Gs(i.constructor,o)||a;if(null===a&&(a=s),a&&a===s){var u=new a,l=i.byteLength/u.ArrayType.BYTES_PER_ELEMENT;return $s(a,i.constructor)&&(l*=.5),mt.new(Ln.Int(u,0,l,0,null,i))}}if(a)return Xu((function(){return new a}),i);if(i instanceof DataView||i instanceof ArrayBuffer)throw new TypeError("Cannot infer integer type from instance of ".concat(i.constructor.name));throw new TypeError("Unrecognized IntVector input")}}]),n}(ys),Fs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),Ms=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),Ns=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),zs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"toBigInt64Array",value:function(){return we(this.values)}},{key:"values64",get:function(){return this._values64||(this._values64=this.toBigInt64Array())}}]),n}(Ls),Us=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),Vs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),Hs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Ls),Ws=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"toBigUint64Array",value:function(){return Te(this.values)}},{key:"values64",get:function(){return this._values64||(this._values64=this.toBigUint64Array())}}]),n}(Ls),$s=function(e,t){return(e===sn||e===hn)&&(t===Int32Array||t===Uint32Array)},Gs=function(e,t){switch(e){case Int8Array:return rn;case Int16Array:return on;case Int32Array:return t?sn:an;case q:return sn;case Uint8Array:return un;case Uint16Array:return ln;case Uint32Array:return t?hn:cn;case Z:return hn;default:return null}},qs=function(e,t){switch(e){case Fs:return rn;case Ms:return on;case Ns:return t?sn:an;case zs:return sn;case Us:return un;case Vs:return ln;case Hs:return t?hn:cn;case Ws:return hn;default:return null}},Ys=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),Zs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"asList",value:function(){var e=this.type.children[0];return mt.new(this.data.clone(new On(e)))}},{key:"bind",value:function(e){var t=this.getChildAt(0),n=this.valueOffsets,i=n[e],r=n[e+1];return new ar(t.slice(i,r))}}]),n}(ys),Ks=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),Xs=Symbol.for("rowIndex"),Qs=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"bind",value:function(e){var t=this._row||(this._row=new sr(this)),n=Object.create(t);return n[Xs]=e,n}}]),n}(ys),Js=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),eu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Js),tu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Js),nu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Js),iu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Js),ru=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ys),ou=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ru),au=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ru),su=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ru),uu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(ru),lu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"typeIdToChildIndex",get:function(){return this.data.type.typeIdToChildIndex}}]),n}(ys),cu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"valueOffsets",get:function(){return this.data.valueOffsets}}]),n}(lu),hu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(lu),fu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"asBinary",value:function(){return mt.new(this.data.clone(new yn))}}],[{key:"from",value:function(e){return Xu((function(){return new gn}),e)}}]),n}(ys);function du(e){return function(){return e(this)}}function pu(e){return function(t,n){return e(this,t,n)}}var vu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Nt),yu=function(e,t){return 4294967296*e[t+1]+(e[t]>>>0)},gu=function(e){return new Date(e)},mu=function(e,t,n){var i=t[n],r=t[n+1];return null!=i&&null!=r?e.subarray(i,r):null},bu=function(e,t){return function(e,t){return gu(function(e,t){return 864e5*e[t]}(e,t))}(e.values,t)},wu=function(e,t){return function(e,t){return gu(yu(e,t))}(e.values,2*t)},ku=function(e,t){var n=e.stride;return e.values[n*t]},_u=function(e,t){var n=e.stride;return oi(e.values[n*t])},xu=function(e,t){var n=e.stride,i=e.values,r=e.type;return Ti.new(i.subarray(n*t,n*(t+1)),r.isSigned)},Tu=function(e,t){var n=e.values;return 1e3*yu(n,2*t)},Su=function(e,t){var n=e.values;return yu(n,2*t)},Ou=function(e,t){return function(e,t){return e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3}(e.values,2*t)},Eu=function(e,t){return function(e,t){return e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6}(e.values,2*t)},Iu=function(e,t){return e.values[e.stride*t]},Pu=function(e,t){return e.values[e.stride*t]},Cu=function(e,t){var n=e.values;return Ti.signed(n.subarray(2*t,2*(t+1)))},ju=function(e,t){var n=e.values;return Ti.signed(n.subarray(2*t,2*(t+1)))},Bu=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(n);return i?i.get(e.valueOffsets[t]):null},Ru=function(e,t){var n=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(n);return i?i.get(t):null},Du=function(e,t){return e.values.subarray(2*t,2*(t+1))},Au=function(e,t){var n=e.values[t],i=new Int32Array(2);return i[0]=n/12|0,i[1]=n%12|0,i};vu.prototype.visitNull=function(e,t){return null},vu.prototype.visitBool=function(e,t){var n=e.offset+t;return 0!==(e.values[n>>3]&1<<n%8)},vu.prototype.visitInt=function(e,t){return e.type.bitWidth<64?ku(e,t):xu(e,t)},vu.prototype.visitInt8=ku,vu.prototype.visitInt16=ku,vu.prototype.visitInt32=ku,vu.prototype.visitInt64=xu,vu.prototype.visitUint8=ku,vu.prototype.visitUint16=ku,vu.prototype.visitUint32=ku,vu.prototype.visitUint64=xu,vu.prototype.visitFloat=function(e,t){return e.type.precision!==xt.HALF?ku(e,t):_u(e,t)},vu.prototype.visitFloat16=_u,vu.prototype.visitFloat32=ku,vu.prototype.visitFloat64=ku,vu.prototype.visitUtf8=function(e,t){var n=e.values,i=e.valueOffsets,r=mu(n,i,t);return null!==r?A(r):null},vu.prototype.visitBinary=function(e,t){var n=e.values,i=e.valueOffsets;return mu(n,i,t)},vu.prototype.visitFixedSizeBinary=function(e,t){var n=e.stride;return e.values.subarray(n*t,n*(t+1))},vu.prototype.visitDate=function(e,t){return e.type.unit===kt.DAY?bu(e,t):wu(e,t)},vu.prototype.visitDateDay=bu,vu.prototype.visitDateMillisecond=wu,vu.prototype.visitTimestamp=function(e,t){switch(e.type.unit){case _t.SECOND:return Tu(e,t);case _t.MILLISECOND:return Su(e,t);case _t.MICROSECOND:return Ou(e,t);case _t.NANOSECOND:return Eu(e,t)}},vu.prototype.visitTimestampSecond=Tu,vu.prototype.visitTimestampMillisecond=Su,vu.prototype.visitTimestampMicrosecond=Ou,vu.prototype.visitTimestampNanosecond=Eu,vu.prototype.visitTime=function(e,t){switch(e.type.unit){case _t.SECOND:return Iu(e,t);case _t.MILLISECOND:return Pu(e,t);case _t.MICROSECOND:return Cu(e,t);case _t.NANOSECOND:return ju(e,t)}},vu.prototype.visitTimeSecond=Iu,vu.prototype.visitTimeMillisecond=Pu,vu.prototype.visitTimeMicrosecond=Cu,vu.prototype.visitTimeNanosecond=ju,vu.prototype.visitDecimal=function(e,t){var n=e.values;return Ti.decimal(n.subarray(4*t,4*(t+1)))},vu.prototype.visitList=function(e,t){var n=e.getChildAt(0),i=e.valueOffsets,r=e.stride;return n.slice(i[t*r],i[t*r+1])},vu.prototype.visitStruct=function(e,t){return e.bind(t)},vu.prototype.visitUnion=function(e,t){return e.type.mode===Tt.Dense?Bu(e,t):Ru(e,t)},vu.prototype.visitDenseUnion=Bu,vu.prototype.visitSparseUnion=Ru,vu.prototype.visitDictionary=function(e,t){return e.getValue(e.getKey(t))},vu.prototype.visitInterval=function(e,t){return e.type.unit===St.DAY_TIME?Du(e,t):Au(e,t)},vu.prototype.visitIntervalDayTime=Du,vu.prototype.visitIntervalYearMonth=Au,vu.prototype.visitFixedSizeList=function(e,t){var n=e.getChildAt(0),i=e.stride;return n.slice(t*i,(t+1)*i)},vu.prototype.visitMap=function(e,t){return e.bind(t)};var Lu=new vu,Fu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Nt);function Mu(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){var n=e.nullBitmap;if(!n||e.nullCount<=0)return-1;var i,r=0,o=h(Dt(n,e.data.offset+(t||0),e.length,n,Pt));try{for(o.s();!(i=o.n()).done;){if(!i.value)return r;++r}}catch(a){o.e(a)}finally{o.f()}return-1}(e,n);for(var i=vr(t),r=(n||0)-1,o=e.length;++r<o;)if(i(e.get(r)))return r;return-1}function Nu(e,t,n){for(var i=vr(t),r=(n||0)-1,o=e.length;++r<o;)if(i(e.get(r)))return r;return-1}Fu.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},Fu.prototype.visitBool=Mu,Fu.prototype.visitInt=Mu,Fu.prototype.visitInt8=Mu,Fu.prototype.visitInt16=Mu,Fu.prototype.visitInt32=Mu,Fu.prototype.visitInt64=Mu,Fu.prototype.visitUint8=Mu,Fu.prototype.visitUint16=Mu,Fu.prototype.visitUint32=Mu,Fu.prototype.visitUint64=Mu,Fu.prototype.visitFloat=Mu,Fu.prototype.visitFloat16=Mu,Fu.prototype.visitFloat32=Mu,Fu.prototype.visitFloat64=Mu,Fu.prototype.visitUtf8=Mu,Fu.prototype.visitBinary=Mu,Fu.prototype.visitFixedSizeBinary=Mu,Fu.prototype.visitDate=Mu,Fu.prototype.visitDateDay=Mu,Fu.prototype.visitDateMillisecond=Mu,Fu.prototype.visitTimestamp=Mu,Fu.prototype.visitTimestampSecond=Mu,Fu.prototype.visitTimestampMillisecond=Mu,Fu.prototype.visitTimestampMicrosecond=Mu,Fu.prototype.visitTimestampNanosecond=Mu,Fu.prototype.visitTime=Mu,Fu.prototype.visitTimeSecond=Mu,Fu.prototype.visitTimeMillisecond=Mu,Fu.prototype.visitTimeMicrosecond=Mu,Fu.prototype.visitTimeNanosecond=Mu,Fu.prototype.visitDecimal=Mu,Fu.prototype.visitList=Mu,Fu.prototype.visitStruct=Mu,Fu.prototype.visitUnion=Mu,Fu.prototype.visitDenseUnion=Nu,Fu.prototype.visitSparseUnion=Nu,Fu.prototype.visitDictionary=Mu,Fu.prototype.visitInterval=Mu,Fu.prototype.visitIntervalDayTime=Mu,Fu.prototype.visitIntervalYearMonth=Mu,Fu.prototype.visitFixedSizeList=Mu,Fu.prototype.visitMap=Mu;var zu=new Fu,Uu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Nt);function Vu(e){if(e.nullCount>0)return function(e){var t=Lu.getVisitFn(e);return Dt(e.nullBitmap,e.offset,e.length,e,(function(e,n,i,r){return 0!==(i&1<<r)?t(e,n):null}))}(e);var t=e.type,n=e.typeId,i=e.length;return 1===e.stride&&(n===bt.Timestamp||n===bt.Int&&64!==t.bitWidth||n===bt.Time&&64!==t.bitWidth||n===bt.Float&&t.precision>0)?e.values.subarray(0,i)[Symbol.iterator]():y.mark((function t(n){var r;return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=-1;case 1:if(!(++r<i)){t.next=6;break}return t.next=4,n(e,r);case 4:t.next=1;break;case 6:case"end":return t.stop()}}),t)}))(Lu.getVisitFn(e))}Uu.prototype.visitNull=Vu,Uu.prototype.visitBool=Vu,Uu.prototype.visitInt=Vu,Uu.prototype.visitInt8=Vu,Uu.prototype.visitInt16=Vu,Uu.prototype.visitInt32=Vu,Uu.prototype.visitInt64=Vu,Uu.prototype.visitUint8=Vu,Uu.prototype.visitUint16=Vu,Uu.prototype.visitUint32=Vu,Uu.prototype.visitUint64=Vu,Uu.prototype.visitFloat=Vu,Uu.prototype.visitFloat16=Vu,Uu.prototype.visitFloat32=Vu,Uu.prototype.visitFloat64=Vu,Uu.prototype.visitUtf8=Vu,Uu.prototype.visitBinary=Vu,Uu.prototype.visitFixedSizeBinary=Vu,Uu.prototype.visitDate=Vu,Uu.prototype.visitDateDay=Vu,Uu.prototype.visitDateMillisecond=Vu,Uu.prototype.visitTimestamp=Vu,Uu.prototype.visitTimestampSecond=Vu,Uu.prototype.visitTimestampMillisecond=Vu,Uu.prototype.visitTimestampMicrosecond=Vu,Uu.prototype.visitTimestampNanosecond=Vu,Uu.prototype.visitTime=Vu,Uu.prototype.visitTimeSecond=Vu,Uu.prototype.visitTimeMillisecond=Vu,Uu.prototype.visitTimeMicrosecond=Vu,Uu.prototype.visitTimeNanosecond=Vu,Uu.prototype.visitDecimal=Vu,Uu.prototype.visitList=Vu,Uu.prototype.visitStruct=Vu,Uu.prototype.visitUnion=Vu,Uu.prototype.visitDenseUnion=Vu,Uu.prototype.visitSparseUnion=Vu,Uu.prototype.visitDictionary=Vu,Uu.prototype.visitInterval=Vu,Uu.prototype.visitIntervalDayTime=Vu,Uu.prototype.visitIntervalYearMonth=Vu,Uu.prototype.visitFixedSizeList=Vu,Uu.prototype.visitMap=Vu;var Hu=new Uu,Wu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(Nt);function $u(e){var t=e.type,n=e.length,i=e.stride;switch(t.typeId){case bt.Int:case bt.Float:case bt.Decimal:case bt.Time:case bt.Timestamp:return e.values.subarray(0,n*i)}return Mt(Hu.visit(e))}Wu.prototype.visitNull=$u,Wu.prototype.visitBool=$u,Wu.prototype.visitInt=$u,Wu.prototype.visitInt8=$u,Wu.prototype.visitInt16=$u,Wu.prototype.visitInt32=$u,Wu.prototype.visitInt64=$u,Wu.prototype.visitUint8=$u,Wu.prototype.visitUint16=$u,Wu.prototype.visitUint32=$u,Wu.prototype.visitUint64=$u,Wu.prototype.visitFloat=$u,Wu.prototype.visitFloat16=$u,Wu.prototype.visitFloat32=$u,Wu.prototype.visitFloat64=$u,Wu.prototype.visitUtf8=$u,Wu.prototype.visitBinary=$u,Wu.prototype.visitFixedSizeBinary=$u,Wu.prototype.visitDate=$u,Wu.prototype.visitDateDay=$u,Wu.prototype.visitDateMillisecond=$u,Wu.prototype.visitTimestamp=$u,Wu.prototype.visitTimestampSecond=$u,Wu.prototype.visitTimestampMillisecond=$u,Wu.prototype.visitTimestampMicrosecond=$u,Wu.prototype.visitTimestampNanosecond=$u,Wu.prototype.visitTime=$u,Wu.prototype.visitTimeSecond=$u,Wu.prototype.visitTimeMillisecond=$u,Wu.prototype.visitTimeMicrosecond=$u,Wu.prototype.visitTimeNanosecond=$u,Wu.prototype.visitDecimal=$u,Wu.prototype.visitList=$u,Wu.prototype.visitStruct=$u,Wu.prototype.visitUnion=$u,Wu.prototype.visitDenseUnion=$u,Wu.prototype.visitSparseUnion=$u,Wu.prototype.visitDictionary=$u,Wu.prototype.visitInterval=$u,Wu.prototype.visitIntervalDayTime=$u,Wu.prototype.visitIntervalYearMonth=$u,Wu.prototype.visitFixedSizeList=$u,Wu.prototype.visitMap=$u;var Gu=new Wu,qu=function(e,t){return e+t},Yu=function(e){return"Cannot compute the byte width of variable-width column ".concat(e)},Zu=new(function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"visitNull",value:function(e){return 0}},{key:"visitInt",value:function(e){return e.bitWidth/8}},{key:"visitFloat",value:function(e){return e.ArrayType.BYTES_PER_ELEMENT}},{key:"visitBinary",value:function(e){throw new Error(Yu(e))}},{key:"visitUtf8",value:function(e){throw new Error(Yu(e))}},{key:"visitBool",value:function(e){return 1/8}},{key:"visitDecimal",value:function(e){return 16}},{key:"visitDate",value:function(e){return 4*(e.unit+1)}},{key:"visitTime",value:function(e){return e.bitWidth/8}},{key:"visitTimestamp",value:function(e){return e.unit===_t.SECOND?4:8}},{key:"visitInterval",value:function(e){return 4*(e.unit+1)}},{key:"visitList",value:function(e){throw new Error(Yu(e))}},{key:"visitStruct",value:function(e){return this.visitFields(e.children).reduce(qu,0)}},{key:"visitUnion",value:function(e){return this.visitFields(e.children).reduce(qu,0)}},{key:"visitFixedSizeBinary",value:function(e){return e.byteWidth}},{key:"visitFixedSizeList",value:function(e){return e.listSize*this.visitFields(e.children).reduce(qu,0)}},{key:"visitMap",value:function(e){return this.visitFields(e.children).reduce(qu,0)}},{key:"visitDictionary",value:function(e){return this.visit(e.indices)}},{key:"visitFields",value:function(e){var t=this;return(e||[]).map((function(e){return t.visit(e.type)}))}},{key:"visitSchema",value:function(e){return this.visitFields(e.fields).reduce(qu,0)}}]),n}(Nt)),Ku=new(function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"visitNull",value:function(){return Ks}},{key:"visitBool",value:function(){return ms}},{key:"visitInt",value:function(){return Ls}},{key:"visitInt8",value:function(){return Fs}},{key:"visitInt16",value:function(){return Ms}},{key:"visitInt32",value:function(){return Ns}},{key:"visitInt64",value:function(){return zs}},{key:"visitUint8",value:function(){return Us}},{key:"visitUint16",value:function(){return Vs}},{key:"visitUint32",value:function(){return Hs}},{key:"visitUint64",value:function(){return Ws}},{key:"visitFloat",value:function(){return Os}},{key:"visitFloat16",value:function(){return Es}},{key:"visitFloat32",value:function(){return Is}},{key:"visitFloat64",value:function(){return Ps}},{key:"visitUtf8",value:function(){return fu}},{key:"visitBinary",value:function(){return gs}},{key:"visitFixedSizeBinary",value:function(){return Ts}},{key:"visitDate",value:function(){return bs}},{key:"visitDateDay",value:function(){return ws}},{key:"visitDateMillisecond",value:function(){return ks}},{key:"visitTimestamp",value:function(){return Js}},{key:"visitTimestampSecond",value:function(){return eu}},{key:"visitTimestampMillisecond",value:function(){return tu}},{key:"visitTimestampMicrosecond",value:function(){return nu}},{key:"visitTimestampNanosecond",value:function(){return iu}},{key:"visitTime",value:function(){return ru}},{key:"visitTimeSecond",value:function(){return ou}},{key:"visitTimeMillisecond",value:function(){return au}},{key:"visitTimeMicrosecond",value:function(){return su}},{key:"visitTimeNanosecond",value:function(){return uu}},{key:"visitDecimal",value:function(){return _s}},{key:"visitList",value:function(){return Ys}},{key:"visitStruct",value:function(){return Qs}},{key:"visitUnion",value:function(){return lu}},{key:"visitDenseUnion",value:function(){return cu}},{key:"visitSparseUnion",value:function(){return hu}},{key:"visitDictionary",value:function(){return xs}},{key:"visitInterval",value:function(){return Rs}},{key:"visitIntervalDayTime",value:function(){return Ds}},{key:"visitIntervalYearMonth",value:function(){return As}},{key:"visitFixedSizeList",value:function(){return Ss}},{key:"visitMap",value:function(){return Zs}}]),n}(Nt));function Xu(e,t){if(te(t))return mt.from({nullValues:[null,void 0],type:e(),values:t});if(ne(t))return mt.from({nullValues:[null,void 0],type:e(),values:t});var n=Object(lt.a)({},t),i=n.values,r=void 0===i?[]:i,o=n.type,a=void 0===o?e():o,s=n.nullValues,u=void 0===s?[null,void 0]:s;return te(r),mt.from(Object(lt.a)(Object(lt.a)({nullValues:u},t),{},{type:a}))}mt.new=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return di(Ku.getVisitFn(e)(),[e].concat(n))},mt.from=function(e){var t=Object(lt.a)({nullValues:[null,void 0]},e),n=t.values,i=void 0===n?[]:n,r=vs(t,["values"]);if(te(i)){var o=Mt(Gn.throughIterable(r)(i));return 1===o.length?o[0]:mr.concat(o)}return function(){var e=d(y.mark((function e(t){var n,o,a,s,u,l,c,h;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gn.throughAsyncIterable(r),o=!0,a=!1,e.prev=3,u=_(n(i));case 5:return e.next=7,u.next();case 7:return l=e.sent,o=l.done,e.next=11,l.value;case 11:if(c=e.sent,o){e.next=18;break}h=c,t.push(h);case 15:o=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),a=!0,s=e.t0;case 24:if(e.prev=24,e.prev=25,o||null==u.return){e.next=29;break}return e.next=29,u.return();case 29:if(e.prev=29,!a){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",1===t.length?t[0]:mr.concat(t));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})));return function(t){return e.apply(this,arguments)}}()([])},ys.prototype.get=function(e){return Lu.visit(this,e)},ys.prototype.set=function(e,t){return ho.visit(this,e,t)},ys.prototype.indexOf=function(e,t){return zu.visit(this,e,t)},ys.prototype.toArray=function(){return Gu.visit(this)},ys.prototype.getByteWidth=function(){return Zu.visit(this.type)},ys.prototype[Symbol.iterator]=function(){return Hu.visit(this)},ys.prototype._bindDataAccessors=function(){var e=this.nullBitmap;e&&e.byteLength>0&&(this.get=(t=this.get,function(e){return this.isValid(e)?t.call(this,e):null}),this.set=function(e){return function(t,n){jt(this.nullBitmap,this.offset+t,!(null===n||void 0===n))&&e.call(this,t,n)}}(this.set));var t},Object.keys(bt).map((function(e){return bt[e]})).filter((function(e){return"number"===typeof e})).filter((function(e){return e!==bt.NONE})).forEach((function(e){var t,n=Ku.visit(e);n.prototype.get=(t=Lu.getVisitFn(e),function(e){return t(this,e)}),n.prototype.set=pu(ho.getVisitFn(e)),n.prototype.indexOf=pu(zu.getVisitFn(e)),n.prototype.toArray=du(Gu.getVisitFn(e)),n.prototype.getByteWidth=function(e){return function(){return e(this.type)}}(Zu.getVisitFn(e)),n.prototype[Symbol.iterator]=du(Hu.getVisitFn(e))}));var Qu=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=null,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];o[0]instanceof Rr&&(i=o.shift());var s=Sr(Ju,o);if(!i&&!(i=s[0]&&s[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");return s[0]||(s[0]=new el(i)),(e=t.call(this,new En(i.fields),s))._schema=i,e._chunks=s,e}return Object(v.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._chunks;return new n(this._schema,e)}},{key:"getColumn",value:function(e){return this.getColumnAt(this.getColumnIndex(e))}},{key:"getColumnAt",value:function(e){return this.getChildAt(e)}},{key:"getColumnIndex",value:function(e){return this._schema.fields.findIndex((function(t){return t.name===e}))}},{key:"getChildAt",value:function(e){if(e<0||e>=this.numChildren)return null;var t,n,i=this._schema.fields,r=this._children||(this._children=[]);if(n=r[e])return n;if(t=i[e]){var o=this._chunks.map((function(t){return t.getChildAt(e)})).filter((function(e){return null!=e}));if(o.length>0)return r[e]=new _r(t,o)}return null}},{key:"serialize",value:function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=e?rs:os;return t.writeAll(this).toUint8Array(!0)}},{key:"count",value:function(){return this._length}},{key:"select",value:function(){for(var e=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map),t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.selectAt.apply(this,Mt(n.map((function(t){return e.get(t)})).filter((function(e){return e>-1}))))}},{key:"selectAt",value:function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=(e=this._schema).selectAt.apply(e,i);return new n(o,this._chunks.map((function(e){var t=e.length,n=e.data.childData;return new Ju(o,t,i.map((function(e){return n[e]})).filter(Boolean))})))}},{key:"assign",value:function(e){var t=this,i=this._schema.fields,r=e.schema.fields.reduce((function(e,t,n){var r=g(e,2),o=r[0],a=r[1],s=i.findIndex((function(e){return e.name===t.name}));return~s?a[s]=n:o.push(n),e}),[[],[]]),o=g(r,2),a=o[0],s=o[1],u=this._schema.assign(e.schema),l=[].concat(Mt(i.map((function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s[i];return void 0===o?t.getColumnAt(i):e.getColumnAt(o)}))),Mt(a.map((function(t){return e.getColumnAt(t)})))).filter(Boolean);return di(n,Mt(ds(u,l)))}},{key:"schema",get:function(){return this._schema}},{key:"length",get:function(){return this._length}},{key:"chunks",get:function(){return this._chunks}},{key:"numCols",get:function(){return this._numChildren}}],[{key:"empty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rr([]);return new n(e,[])}},{key:"from",value:function(e){if(!e)return n.empty();if("object"===typeof e){var t=te(e.values)?function(e){if(e.type instanceof En)return Qu.fromStruct(Qs.from(e));return null}(e):ne(e.values)?function(e){if(e.type instanceof En)return Qs.from(e).then((function(e){return Qu.fromStruct(e)}));return null}(e):null;if(null!==t)return t}var i=il.from(e);return ee(i)?d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,i;case 3:return e.t1=e.sent,e.next=6,e.t0.from.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))():i.isSync()&&(i=i.open())?i.schema?new n(i.schema,Mt(i)):n.empty():function(){var e=d(y.mark((function e(t){var i,r,o,a,s,u,l,c,h,f;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(i=e.sent,r=i.schema,o=[],!r){e.next=40;break}a=!0,s=!1,e.prev=8,l=_(i);case 10:return e.next=12,l.next();case 12:return c=e.sent,a=c.done,e.next=16,c.value;case 16:if(h=e.sent,a){e.next=23;break}f=h,o.push(f);case 20:a=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(8),s=!0,u=e.t0;case 29:if(e.prev=29,e.prev=30,a||null==l.return){e.next=34;break}return e.next=34,l.return();case 34:if(e.prev=34,!s){e.next=37;break}throw u;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",new n(r,o));case 40:return e.abrupt("return",n.empty());case 41:case"end":return e.stop()}}),e,null,[[8,25,29,39],[30,,34,38]])})));return function(t){return e.apply(this,arguments)}}()(i.open())}},{key:"fromAsync",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.from(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromStruct",value:function(e){return n.new(e.data.childData,e.type.children)}},{key:"new",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return di(n,Mt(fs(Or(t))))}}]),n}(mr);var Ju=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e,i;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var s,u=o[0];if(o[1]instanceof Ln)i=o[1],s=o[2];else{var l=u.fields,c=o[1],h=o[2];i=Ln.Struct(new En(l),0,c,0,null,h)}return(e=t.call(this,i,s))._schema=u,e}return Object(v.a)(n,[{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children;return new n(this._schema,e,t)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=this._schema,o=mr.flatten.apply(mr,[this].concat(t));return new Qu(r,o.map((function(e){var t=e.data;return new n(r,t)})))}},{key:"select",value:function(){for(var e=this._schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map),t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.selectAt.apply(this,Mt(n.map((function(t){return e.get(t)})).filter((function(e){return e>-1}))))}},{key:"selectAt",value:function(){for(var e,t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=(e=this._schema).selectAt.apply(e,r),s=r.map((function(e){return t.data.childData[e]})).filter(Boolean);return new n(a,this.length,s)}},{key:"schema",get:function(){return this._schema}},{key:"numCols",get:function(){return this._schema.fields.length}},{key:"dictionaries",get:function(){return this._dictionaries||(this._dictionaries=tl.collect(this))}}],[{key:"from",value:function(e){return te(e.values),Qu.from(e)}},{key:"new",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=Er(t),o=g(r,2),a=o[0],s=o[1],u=s.filter((function(e){return e instanceof mt}));return di(n,Mt(hs(new Rr(a),u.map((function(e){return e.data})))))}}]),n}(Qs),el=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e,0,e.fields.map((function(e){return Ln.new(e.type,0,0,0)})))}return n}(Ju),tl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.apply(this,arguments)).dictionaries=new Map,e}return Object(v.a)(n,[{key:"visit",value:function(e,t){var n=this;return en.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((function(e,i){return n.visit(e,t.children[i].type)})),this)}},{key:"visitDictionary",value:function(e,t){var n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(t.id,n),this}}],[{key:"collect",value:function(e){return(new n).visit(e.data,new En(e.schema.fields)).dictionaries}}]),n}(Nt),nl=y.mark(vl),il=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this))._impl=e,i}return Object(v.a)(n,[{key:"isSync",value:function(){return this._impl.isSync()}},{key:"isAsync",value:function(){return this._impl.isAsync()}},{key:"isFile",value:function(){return this._impl.isFile()}},{key:"isStream",value:function(){return this._impl.isStream()}},{key:"next",value:function(){return this._impl.next()}},{key:"throw",value:function(e){return this._impl.throw(e)}},{key:"return",value:function(e){return this._impl.return(e)}},{key:"cancel",value:function(){return this._impl.cancel()}},{key:"reset",value:function(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}},{key:"open",value:function(e){var t=this,n=this._impl.open(e);return ee(n)?n.then((function(){return t})):this}},{key:"readRecordBatch",value:function(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}},{key:Symbol.iterator,value:function(){return this._impl[Symbol.iterator]()}},{key:Symbol.asyncIterator,value:function(){return this._impl[Symbol.asyncIterator]()}},{key:"toDOMStream",value:function(){var e=this;return Je.toDOMStream(this.isSync()?Object(Ji.a)({},Symbol.iterator,(function(){return e})):Object(Ji.a)({},Symbol.asyncIterator,(function(){return e})))}},{key:"toNodeStream",value:function(){var e=this;return Je.toNodeStream(this.isSync()?Object(Ji.a)({},Symbol.iterator,(function(){return e})):Object(Ji.a)({},Symbol.asyncIterator,(function(){return e})),{objectMode:!0})}},{key:"closed",get:function(){return this._impl.closed}},{key:"schema",get:function(){return this._impl.schema}},{key:"autoDestroy",get:function(){return this._impl.autoDestroy}},{key:"dictionaries",get:function(){return this._impl.dictionaries}},{key:"numDictionaries",get:function(){return this._impl.numDictionaries}},{key:"numRecordBatches",get:function(){return this._impl.numRecordBatches}},{key:"footer",get:function(){return this._impl.isFile()?this._impl.footer:null}}],[{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e,t){throw new Error('"throughDOM" not available in this environment')}},{key:"from",value:function(e){return e instanceof n?e:ie(e)?function(e){return new rl(new dl(e))}(e):oe(e)?function(e){return bl.apply(this,arguments)}(e):ee(e)?d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.next=3,e;case 3:return t.t1=t.sent,t.next=6,t.t0.from.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))():ae(e)||ue(e)||ce(e)||ne(e)?function(e){return ml.apply(this,arguments)}(new To(e)):function(e){var t=e.peek(Ya+7&-8);return t&&t.byteLength>=4?qa(t)?new al(new hl(e.read())):new rl(new ll(e)):new rl(new ll(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))()))}(new xo(e))}},{key:"readAll",value:function(e){return e instanceof n?e.isSync()?vl(e):yl(e):ie(e)||ArrayBuffer.isView(e)||te(e)||re(e)?vl(e):yl(e)}}]),n}(U),rl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._impl=e,i}return Object(v.a)(n,[{key:Symbol.iterator,value:function(){return this._impl[Symbol.iterator]()}},{key:Symbol.asyncIterator,value:function(){var e=this;return k(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(x(_(e[Symbol.iterator]()),b),"t0",1);case 1:case"end":return t.stop()}}),t)})))()}}]),n}(il),ol=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._impl=e,i}return Object(v.a)(n,[{key:Symbol.iterator,value:function(){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}},{key:Symbol.asyncIterator,value:function(){return this._impl[Symbol.asyncIterator]()}}]),n}(il),al=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._impl=e,i}return n}(rl),sl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e))._impl=e,i}return n}(ol),ul=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;Object(p.a)(this,e),this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}return Object(v.a)(e,[{key:"isSync",value:function(){return!1}},{key:"isAsync",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isStream",value:function(){return!1}},{key:"reset",value:function(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}},{key:"_loadRecordBatch",value:function(e,t){return new Ju(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}},{key:"_loadDictionaryBatch",value:function(e,t){var n=e.id,i=e.isDelta,r=e.data,o=this.dictionaries,a=this.schema,s=o.get(n);if(i||!s){var u=a.dictionaries.get(n);return s&&i?s.concat(mt.new(this._loadVectors(r,t,[u])[0])):mt.new(this._loadVectors(r,t,[u])[0])}return s}},{key:"_loadVectors",value:function(e,t,n){return new Ao(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}},{key:"numDictionaries",get:function(){return this._dictionaryIndex}},{key:"numRecordBatches",get:function(){return this._recordBatchIndex}}]),e}(),ll=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this,i))._reader=ie(e)?new Ha(r._handle=e):new Ua(r._handle=e),r}return Object(v.a)(n,[{key:"isSync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:Symbol.iterator,value:function(){return this}},{key:"cancel",value:function(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}},{key:"open",value:function(e){return this.closed||(this.autoDestroy=pl(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}},{key:"throw",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):N}},{key:"return",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):N}},{key:"next",value:function(){if(this.closed)return N;for(var e,t=this._reader;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;var n=e.header(),i=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;var r=e.header(),o=t.readMessageBody(e.bodyLength),a=this._loadDictionaryBatch(r,o);this.dictionaries.set(r.id,a)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new el(this.schema)}):this.return()}},{key:"_readNextMessageAndValidate",value:function(e){return this._reader.readMessage(e)}}]),n}(ul),cl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this,i))._reader=new Va(r._handle=e),r}return Object(v.a)(n,[{key:"isAsync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:Symbol.asyncIterator,value:function(){return this}},{key:"cancel",value:function(){var e=d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||!(this.closed=!0)){e.next=5;break}return e.next=3,this.reset()._reader.return();case 3:this._reader=null,this.dictionaries=null;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"open",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed){e.next=10;break}if(this.autoDestroy=pl(this,t),e.t0=this.schema,e.t0){e.next=7;break}return e.next=6,this._reader.readSchema();case 6:e.t0=this.schema=e.sent;case 7:if(e.t0){e.next=10;break}return e.next=10,this.cancel();case 10:return e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"throw",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){e.next=4;break}return e.next=3,this.reset()._reader.throw(t);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",N);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"return",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){e.next=4;break}return e.next=3,this.reset()._reader.return(t);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",N);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=d(y.mark((function e(){var t,n,i,r,o,a,s,u;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",N);case 2:n=this._reader;case 3:return e.next=5,this._readNextMessageAndValidate();case 5:if(!(t=e.sent)){e.next=31;break}if(!t.isSchema()){e.next=11;break}return e.next=9,this.reset(t.header());case 9:e.next=29;break;case 11:if(!t.isRecordBatch()){e.next=21;break}return this._recordBatchIndex++,i=t.header(),e.next=16,n.readMessageBody(t.bodyLength);case 16:return r=e.sent,o=this._loadRecordBatch(i,r),e.abrupt("return",{done:!1,value:o});case 21:if(!t.isDictionaryBatch()){e.next=29;break}return this._dictionaryIndex++,a=t.header(),e.next=26,n.readMessageBody(t.bodyLength);case 26:s=e.sent,u=this._loadDictionaryBatch(a,s),this.dictionaries.set(a.id,u);case 29:e.next=3;break;case 31:if(!this.schema||0!==this._recordBatchIndex){e.next=34;break}return this._recordBatchIndex++,e.abrupt("return",{done:!1,value:new el(this.schema)});case 34:return e.next=36,this.return();case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_readNextMessageAndValidate",value:function(){var e=d(y.mark((function e(t){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.readMessage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ul),hl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){return Object(p.a)(this,n),t.call(this,e instanceof Eo?e:new Eo(e),i)}return Object(v.a)(n,[{key:"isSync",value:function(){return!0}},{key:"isFile",value:function(){return!0}},{key:"open",value:function(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;var t,i=h(this._footer.dictionaryBatches());try{for(i.s();!(t=i.n()).done;){t.value&&this._readDictionaryBatch(this._dictionaryIndex++)}}catch(r){i.e(r)}finally{i.f()}}return ht(Object(ct.a)(n.prototype),"open",this).call(this,e)}},{key:"readRecordBatch",value:function(e){if(this.closed)return null;this._footer||this.open();var t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(Ot.RecordBatch);if(n&&n.isRecordBatch()){var i=n.header(),r=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(i,r)}}return null}},{key:"_readDictionaryBatch",value:function(e){var t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){var n=this._reader.readMessage(Ot.DictionaryBatch);if(n&&n.isDictionaryBatch()){var i=n.header(),r=this._reader.readMessageBody(n.bodyLength),o=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,o)}}}},{key:"_readFooter",value:function(){var e=this._handle,t=e.size-Za,n=e.readInt32(t),i=e.readAt(t-n,n);return bo.decode(i)}},{key:"_readNextMessageAndValidate",value:function(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){var t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}}]),n}(ll),fl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){Object(p.a)(this,n);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a="number"!==typeof r[0]?r.shift():void 0,s=r[0]instanceof Map?r.shift():void 0;return t.call(this,e instanceof Io?e:new Io(e,a),s)}return Object(v.a)(n,[{key:"isFile",value:function(){return!0}},{key:"isAsync",value:function(){return!0}},{key:"open",value:function(){var e=d(y.mark((function e(t){var i,r,o;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||this._footer){e.next=23;break}return e.next=3,this._readFooter();case 3:this.schema=(this._footer=e.sent).schema,i=h(this._footer.dictionaryBatches()),e.prev=5,i.s();case 7:if((r=i.n()).done){e.next=15;break}if(o=r.value,e.t0=o,!e.t0){e.next=13;break}return e.next=13,this._readDictionaryBatch(this._dictionaryIndex++);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(5),i.e(e.t1);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.next=25,ht(Object(ct.a)(n.prototype),"open",this).call(this,t);case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e,this,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"readRecordBatch",value:function(){var e=d(y.mark((function e(t){var n,i,r,o,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",null);case 2:if(this._footer){e.next=5;break}return e.next=5,this.open();case 5:if(n=this._footer&&this._footer.getRecordBatch(t),e.t0=n,!e.t0){e.next=11;break}return e.next=10,this._handle.seek(n.offset);case 10:e.t0=e.sent;case 11:if(!e.t0){e.next=22;break}return e.next=14,this._reader.readMessage(Ot.RecordBatch);case 14:if(!(i=e.sent)||!i.isRecordBatch()){e.next=22;break}return r=i.header(),e.next=19,this._reader.readMessageBody(i.bodyLength);case 19:return o=e.sent,a=this._loadRecordBatch(r,o),e.abrupt("return",a);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_readDictionaryBatch",value:function(){var e=d(y.mark((function e(t){var n,i,r,o,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._footer&&this._footer.getDictionaryBatch(t),e.t0=n,!e.t0){e.next=6;break}return e.next=5,this._handle.seek(n.offset);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=17;break}return e.next=9,this._reader.readMessage(Ot.DictionaryBatch);case 9:if(!(i=e.sent)||!i.isDictionaryBatch()){e.next=17;break}return r=i.header(),e.next=14,this._reader.readMessageBody(i.bodyLength);case 14:o=e.sent,a=this._loadDictionaryBatch(r,o),this.dictionaries.set(r.id,a);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_readFooter",value:function(){var e=d(y.mark((function e(){var t,n,i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,e.t0=t._pending,!e.t0){e.next=5;break}return e.next=5,t._pending;case 5:return n=t.size-Za,e.next=8,t.readInt32(n);case 8:return i=e.sent,e.next=11,t.readAt(n-i,i);case 11:return r=e.sent,e.abrupt("return",bo.decode(r));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_readNextMessageAndValidate",value:function(){var e=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._footer){e.next=3;break}return e.next=3,this.open();case 3:if(!(this._footer&&this._recordBatchIndex<this.numRecordBatches)){e.next=14;break}if(n=this._footer.getRecordBatch(this._recordBatchIndex),e.t0=n,!e.t0){e.next=10;break}return e.next=9,this._handle.seek(n.offset);case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=14;break}return e.next=13,this._reader.readMessage(t);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}}]),n}(cl),dl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){return Object(p.a)(this,n),t.call(this,e,i)}return Object(v.a)(n,[{key:"_loadVectors",value:function(e,t,n){return new Lo(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}]),n}(ll);function pl(e,t){return t&&"boolean"===typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function vl(e){var t;return y.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=il.from(e),n.prev=1,t.open({autoDestroy:!1}).closed){n.next=6;break}case 3:return n.next=5,t;case 5:if(!t.reset().open().closed){n.next=3;break}case 6:return n.prev=6,t.cancel(),n.finish(6);case 9:case"end":return n.stop()}}),nl,null,[[1,,6,9]])}function yl(e){return gl.apply(this,arguments)}function gl(){return(gl=k(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(il.from(t));case 2:return n=e.sent,e.prev=3,e.next=6,b(n.open({autoDestroy:!1}));case 6:if(e.sent.closed){e.next=12;break}case 7:return e.next=9,n;case 9:return e.next=11,b(n.reset().open());case 11:if(!e.sent.closed){e.next=7;break}case 12:return e.prev=12,e.next=15,b(n.cancel());case 15:return e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[3,,12,16]])})))).apply(this,arguments)}function ml(){return(ml=d(y.mark((function e(t){var n;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peek(Ya+7&-8);case 2:if(!((n=e.sent)&&n.byteLength>=4)){e.next=18;break}if(qa(n)){e.next=8;break}e.t1=new ol(new cl(t)),e.next=15;break;case 8:return e.t2=al,e.t3=hl,e.next=12,t.read();case 12:e.t4=e.sent,e.t5=new e.t3(e.t4),e.t1=new e.t2(e.t5);case 15:e.t0=e.t1,e.next=19;break;case 18:e.t0=new ol(new cl(k(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()));case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(){return(bl=d(y.mark((function e(t){var n,i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stat();case 2:if(n=e.sent,i=n.size,r=new Io(t,i),!(i>=Ka)){e.next=12;break}return e.t0=qa,e.next=9,r.readAt(0,Ya+7&-8);case 9:if(e.t1=e.sent,!(0,e.t0)(e.t1)){e.next=12;break}return e.abrupt("return",new sl(new fl(r)));case 12:return e.abrupt("return",new ol(new cl(r)));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wl=function(){function e(t){var n,i,r=this;Object(p.a)(this,e),this._numChunks=0,this._finished=!1,this._bufferedSize=0;var o=t.readableStrategy,a=t.writableStrategy,s=t.queueingStrategy,u=void 0===s?"count":s,l=vs(t,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=Gn.new(l),this._getSize="bytes"!==u?kl:_l;var c=Object(lt.a)({},o).highWaterMark,h=void 0===c?"bytes"===u?Math.pow(2,14):1e3:c,f=Object(lt.a)({},a).highWaterMark,d=void 0===f?"bytes"===u?Math.pow(2,14):1e3:f;this.readable=new ReadableStream((n={},Object(Ji.a)(n,"cancel",(function(){r._builder.clear()})),Object(Ji.a)(n,"pull",(function(e){r._maybeFlush(r._builder,r._controller=e)})),Object(Ji.a)(n,"start",(function(e){r._maybeFlush(r._builder,r._controller=e)})),n),{highWaterMark:h,size:"bytes"!==u?kl:_l}),this.writable=new WritableStream((i={},Object(Ji.a)(i,"abort",(function(){r._builder.clear()})),Object(Ji.a)(i,"write",(function(){r._maybeFlush(r._builder,r._controller)})),Object(Ji.a)(i,"close",(function(){r._maybeFlush(r._builder.finish(),r._controller)})),i),{highWaterMark:d,size:function(e){return r._writeValueAndReturnChunkSize(e)}})}return Object(v.a)(e,[{key:"_writeValueAndReturnChunkSize",value:function(e){var t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}},{key:"_maybeFlush",value:function(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}},{key:"_enqueue",value:function(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)}}]),e}(),kl=function(e){return e.length},_l=function(e){return e.byteLength};var xl=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"eq",value:function(t){return t instanceof e||(t=new Tl(t)),new jl(this,t)}},{key:"le",value:function(t){return t instanceof e||(t=new Tl(t)),new Bl(this,t)}},{key:"ge",value:function(t){return t instanceof e||(t=new Tl(t)),new Rl(this,t)}},{key:"lt",value:function(e){return new Dl(this.ge(e))}},{key:"gt",value:function(e){return new Dl(this.le(e))}},{key:"ne",value:function(e){return new Dl(this.eq(e))}}]),e}(),Tl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).v=e,i}return n}(xl),Sl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).name=e,i}return Object(v.a)(n,[{key:"bind",value:function(e){if(!this.colidx){this.colidx=-1;for(var t=e.schema.fields,n=-1;++n<t.length;)if(t[n].name===this.name){this.colidx=n;break}if(this.colidx<0)throw new Error('Failed to bind Col "'.concat(this.name,'"'))}var i=this.vector=e.getChildAt(this.colidx);return function(e){return i.get(e)}}}]),n}(xl),Ol=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"and",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return di(Pl,[this].concat(t))}},{key:"or",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return di(Cl,[this].concat(t))}},{key:"not",value:function(){return new Dl(this)}}]),e}(),El=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this)).left=e,r.right=i,r}return Object(v.a)(n,[{key:"bind",value:function(e){return this.left instanceof Tl?this.right instanceof Tl?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof Tl?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}}]),n}(Ol),Il=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(p.a)(this,n),e=t.call(this);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.children=r,e}return n}(Ol);Il.prototype.children=Object.freeze([]);var Pl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return Object(p.a)(this,n),i=i.reduce((function(e,t){return e.concat(t instanceof n?t.children:t)}),[]),t.call.apply(t,[this].concat(Mt(i)))}return Object(v.a)(n,[{key:"bind",value:function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.every((function(t){return t(e,n)}))}}}]),n}(Il),Cl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return Object(p.a)(this,n),i=i.reduce((function(e,t){return e.concat(t instanceof n?t.children:t)}),[]),t.call.apply(t,[this].concat(Mt(i)))}return Object(v.a)(n,[{key:"bind",value:function(e){var t=this.children.map((function(t){return t.bind(e)}));return function(e,n){return t.some((function(t){return t(e,n)}))}}}]),n}(Il),jl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_bindLitLit",value:function(e,t,n){var i=t.v==n.v;return function(){return i}}},{key:"_bindColCol",value:function(e,t,n){var i=t.bind(e),r=n.bind(e);return function(e,t){return i(e,t)==r(e,t)}}},{key:"_bindColLit",value:function(e,t,n){var i=t.bind(e);if(t.vector instanceof xs){var r,o=t.vector;return o.dictionary!==this.lastDictionary?(r=o.reverseLookup(n.v),this.lastDictionary=o.dictionary,this.lastKey=r):r=this.lastKey,-1===r?function(){return!1}:function(e){return o.getKey(e)===r}}return function(e,t){return i(e,t)==n.v}}},{key:"_bindLitCol",value:function(e,t,n){return this._bindColLit(e,n,t)}}]),n}(El),Bl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_bindLitLit",value:function(e,t,n){var i=t.v<=n.v;return function(){return i}}},{key:"_bindColCol",value:function(e,t,n){var i=t.bind(e),r=n.bind(e);return function(e,t){return i(e,t)<=r(e,t)}}},{key:"_bindColLit",value:function(e,t,n){var i=t.bind(e);return function(e,t){return i(e,t)<=n.v}}},{key:"_bindLitCol",value:function(e,t,n){var i=n.bind(e);return function(e,n){return t.v<=i(e,n)}}}]),n}(El),Rl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_bindLitLit",value:function(e,t,n){var i=t.v>=n.v;return function(){return i}}},{key:"_bindColCol",value:function(e,t,n){var i=t.bind(e),r=n.bind(e);return function(e,t){return i(e,t)>=r(e,t)}}},{key:"_bindColLit",value:function(e,t,n){var i=t.bind(e);return function(e,t){return i(e,t)>=n.v}}},{key:"_bindLitCol",value:function(e,t,n){var i=n.bind(e);return function(e,n){return t.v>=i(e,n)}}}]),n}(El),Dl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this)).child=e,i}return Object(v.a)(n,[{key:"bind",value:function(e){var t=this.child.bind(e);return function(e,n){return!t(e,n)}}}]),n}(Ol);Qu.prototype.countBy=function(e){return new Al(this.chunks).countBy(e)},Qu.prototype.scan=function(e,t){return new Al(this.chunks).scan(e,t)},Qu.prototype.scanReverse=function(e,t){return new Al(this.chunks).scanReverse(e,t)},Qu.prototype.filter=function(e){return new Al(this.chunks).filter(e)};var Al=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"filter",value:function(e){return new Fl(this.chunks,e)}},{key:"scan",value:function(e,t){for(var n=this.chunks,i=n.length,r=-1;++r<i;){var o=n[r];t&&t(o);for(var a=-1,s=o.length;++a<s;)e(a,o)}}},{key:"scanReverse",value:function(e,t){for(var n=this.chunks,i=n.length;--i>=0;){var r=n[i];t&&t(r);for(var o=r.length;--o>=0;)e(o,r)}}},{key:"countBy",value:function(e){var t=this.chunks,n=t.length,i="string"===typeof e?new Sl(e):e;i.bind(t[n-1]);var r=i.vector;if(!en.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var o=Math.ceil(Math.log(r.length)/Math.log(256)),a=new(4==o?Uint32Array:o>=2?Uint16Array:Uint8Array)(r.dictionary.length),s=-1;++s<n;){var u=t[s];i.bind(u);for(var l=i.vector.indices,c=-1,h=u.length;++c<h;){var f=l.get(c);null!==f&&a[f]++}}return new Ll(r.dictionary,Ls.from(a))}}]),n}(Qu),Ll=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){Object(p.a)(this,n);var r=new Rr([new Dr("values",e.type),new Dr("counts",i.type)]);return t.call(this,new Ju(r,i.length,[e,i]))}return Object(v.a)(n,[{key:"toJSON",value:function(){for(var e=this.getColumnAt(0),t=this.getColumnAt(1),n={},i=-1;++i<this.length;)n[e.get(i)]=t.get(i);return n}}]),n}(Qu),Fl=function(e){Object(F.a)(n,e);var t=Object(M.a)(n);function n(e,i){var r;return Object(p.a)(this,n),(r=t.call(this,e))._predicate=i,r}return Object(v.a)(n,[{key:"scan",value:function(e,t){for(var n=this._chunks,i=n.length,r=-1;++r<i;)for(var o=n[r],a=this._predicate.bind(o),s=!1,u=-1,l=o.length;++u<l;)a(u,o)&&(t&&!s&&(t(o),s=!0),e(u,o))}},{key:"scanReverse",value:function(e,t){for(var n=this._chunks,i=n.length;--i>=0;)for(var r=n[i],o=this._predicate.bind(r),a=!1,s=r.length;--s>=0;)o(s,r)&&(t&&!a&&(t(r),a=!0),e(s,r))}},{key:"count",value:function(){for(var e=0,t=this._chunks,n=t.length,i=-1;++i<n;)for(var r=t[i],o=this._predicate.bind(r),a=-1,s=r.length;++a<s;)o(a,r)&&++e;return e}},{key:Symbol.iterator,value:y.mark((function e(){var t,n,i,r,o,a,s;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._chunks,n=t.length,i=-1;case 3:if(!(++i<n)){e.next=15;break}r=t[i],o=this._predicate.bind(r),a=-1,s=r.length;case 7:if(!(++a<s)){e.next=13;break}if(!o(a,r)){e.next=11;break}return e.next=11,r.get(a);case 11:e.next=7;break;case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e,this)}))},{key:"filter",value:function(e){return new n(this._chunks,this._predicate.and(e))}},{key:"countBy",value:function(e){var t=this._chunks,n=t.length,i="string"===typeof e?new Sl(e):e;i.bind(t[n-1]);var r=i.vector;if(!en.isDictionary(r.type))throw new Error("countBy currently only supports dictionary-encoded columns");for(var o=Math.ceil(Math.log(r.length)/Math.log(256)),a=new(4==o?Uint32Array:o>=2?Uint16Array:Uint8Array)(r.dictionary.length),s=-1;++s<n;){var u=t[s],l=this._predicate.bind(u);i.bind(u);for(var c=i.vector.indices,h=-1,f=u.length;++h<f;){var d=c.get(h);null!==d&&l(h,u)&&a[d]++}}return new Ll(r.dictionary,Ls.from(a))}}]),n}(Al);Object(lt.a)(Object(lt.a)(Object(lt.a)(Object(lt.a)(Object(lt.a)(Object(lt.a)({},a),u),r),o),i),s);Je.toDOMStream=function(e,t){if(ne(e))return function(e,t){var n=null,i=t&&"bytes"===t.type||!1,r=t&&t.highWaterMark||Math.pow(2,24);return new ReadableStream(Object(lt.a)(Object(lt.a)({},t),{},{start:function(t){return d(y.mark((function i(){return y.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o(t,n||(n=e[Symbol.asyncIterator]()));case 2:case"end":return i.stop()}}),i)})))()},pull:function(e){return d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,o(e,n);case 3:t.next=6;break;case 5:e.close();case 6:case"end":return t.stop()}}),t)})))()},cancel:function(){return d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t1=n,!e.t1){e.next=8;break}if(e.t2=n.return,!e.t2){e.next=7;break}return e.next=6,n.return();case 6:e.t2=e.sent;case 7:e.t1=e.t2;case 8:if(e.t0=e.t1,e.t0){e.next=11;break}e.t0=!0;case 11:if(e.t3=e.t0,!e.t3){e.next=14;break}n=null;case 14:case"end":return e.stop()}}),e)})))()}}),Object(lt.a)({highWaterMark:i?r:void 0},t));function o(e,t){return a.apply(this,arguments)}function a(){return(a=d(y.mark((function e(t,n){var r,o,a;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null,a=t.desiredSize||null;case 2:return e.next=4,n.next(i?a:null);case 4:if((o=e.sent).done){e.next=11;break}if(ArrayBuffer.isView(o.value)&&(r=ke(o.value))&&(null!=a&&i&&(a=a-r.byteLength+1),o.value=r),t.enqueue(o.value),!(null!=a&&--a<=0)){e.next=9;break}return e.abrupt("return");case 9:e.next=2;break;case 11:t.close();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}(e,t);if(te(e))return function(e,t){var n=null,i=t&&"bytes"===t.type||!1,r=t&&t.highWaterMark||Math.pow(2,24);return new ReadableStream(Object(lt.a)(Object(lt.a)({},t),{},{start:function(t){o(t,n||(n=e[Symbol.iterator]()))},pull:function(e){n?o(e,n):e.close()},cancel:function(){n&&n.return&&n.return(),n=null}}),Object(lt.a)({highWaterMark:i?r:void 0},t));function o(e,t){for(var n,r=null,o=e.desiredSize||null;!(r=t.next(i?o:null)).done;)if(ArrayBuffer.isView(r.value)&&(n=ke(r.value))&&(null!=o&&i&&(o=o-n.byteLength+1),r.value=n),e.enqueue(r.value),null!=o&&--o<=0)return;e.close()}}(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")},Gn.throughDOM=function(e){return new wl(e)},il.throughDOM=function(e,t){var n=new _o,i=null,r=new ReadableStream({cancel:function(){return d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.close();case 2:case"end":return e.stop()}}),e)})))()},start:function(e){return d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=s,t.t1=e,t.t2=i,t.t2){t.next=7;break}return t.next=6,o();case 6:t.t2=i=t.sent;case 7:return t.t3=t.t2,t.next=10,(0,t.t0)(t.t1,t.t3);case 10:case"end":return t.stop()}}),t)})))()},pull:function(e){return d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=5;break}return t.next=3,s(e,i);case 3:t.next=6;break;case 5:e.close();case 6:case"end":return t.stop()}}),t)})))()}});return{writable:new WritableStream(n,Object(lt.a)({highWaterMark:Math.pow(2,14)},e)),readable:r};function o(){return a.apply(this,arguments)}function a(){return(a=d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il.from(n);case 2:return e.next=4,e.sent.open(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t){return u.apply(this,arguments)}function u(){return(u=d(y.mark((function e(t,n){var i,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.desiredSize,r=null;case 2:return e.next=4,n.next();case 4:if((r=e.sent).done){e.next=10;break}if(t.enqueue(r.value),!(null!=i&&--i<=0)){e.next=8;break}return e.abrupt("return");case 8:e.next=2;break;case 10:t.close();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},is.throughDOM=function(e,t){var n=new this(e),i=new To(n),r=new ReadableStream({type:"bytes",cancel:function(){return d(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.cancel();case 2:case"end":return e.stop()}}),e)})))()},pull:function(e){return d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:case"end":return t.stop()}}),t)})))()},start:function(e){return d(y.mark((function t(){return y.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:case"end":return t.stop()}}),t)})))()}},Object(lt.a)({highWaterMark:Math.pow(2,14)},t));return{writable:new WritableStream(n,e),readable:r};function o(e){return a.apply(this,arguments)}function a(){return(a=d(y.mark((function e(t){var n,r;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,r=t.desiredSize;case 2:return e.next=4,i.read(r||null);case 4:if(!(n=e.sent)){e.next=10;break}if(t.enqueue(n),!(null!=r&&(r-=n.byteLength)<=0)){e.next=8;break}return e.abrupt("return");case 8:e.next=2;break;case 10:t.close();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return i}))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,$;function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e){e.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"===typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):t[n.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in t)n=r;return void 0===n||i.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=function(){var t=document.createElement("canvas");return!(!e.isFunction(t.getContext)||!t.getContext("2d"))}(),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(n){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()}(OpenSeadragon),function($){$.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=arguments.length,u=!1,l=1;for("boolean"===typeof a&&(u=a,a=arguments[1]||{},l=2),"object"===typeof a||OpenSeadragon.isFunction(a)||(a={}),s===l&&(a=this,--l);l<s;l++)if(null!==(e=arguments[l])||void 0!==e)for(t in e)n=a[t],a!==(i=e[t])&&(u&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(u,o,i)):void 0!==i&&(a[t]=i));return a};var isIOSDevice=function(){if("object"!==typeof navigator)return!1;var e=navigator.userAgent;return"string"===typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,i=new $.Point;for(n=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);n;)i.x+=e.offsetLeft,i.y+=e.offsetTop,t&&(i=i.plus($.getPageScroll())),n=getOffsetParent(e=n,t="fixed"==$.getElementStyle(e).position);return i},getElementOffset:function(e){var t,n,i=(e=$.getElement(e))&&e.ownerDocument,r={top:0,left:0};return i?(t=i.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,i=null;if(void 0!==n[e])i=e;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<r.length;a++){var s=r[a]+o;if(void 0!==n[s]){i=s;break}}return t[e]=i,i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),i=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+i.x&&t.y<n.y+i.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if("undefined"!==typeof window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(n=$.getPageScroll()).x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var i;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(i="alpha(opacity="+Math.round(100*t)+")",e.style.filter=i):e.style.filter=""},setElementTouchActionNone:function(e){"undefined"!==typeof(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":"undefined"!==typeof e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var i,r,o=n||0;if(!e)throw new TypeError;if(0===(r=e.length)||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(e[i]===t)return i;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,i,r=[];for(n=(e=$.getElement(e)).className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==t&&r.push(n[i]);e.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,i){(e=$.getElement(e)).addEventListener(t,n,i)};if(window.attachEvent)return function(e,t,n,i){(e=$.getElement(e)).attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,i){(e=$.getElement(e)).removeEventListener(t,n,i)};if(window.detachEvent)return function(e,t,n,i){(e=$.getElement(e)).detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return t.apply(e,r)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(n){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var i,r,o;$.isPlainObject(e)&&(t=e.success,n=e.error,i=e.withCredentials,r=e.headers,o=e.responseType||null,e=e.url);var a=$.getUrlProtocol(e),s=$.createAjaxRequest("file:"===a);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},s.status>=200&&s.status<300||0===s.status&&"http:"!==a&&"https:"!==a?t(s):($.console.log("AJAX request returned %d: %s",s.status,e),$.isFunction(n)&&n(s)))};try{if(s.open("GET",e,!0),o&&(s.responseType=o),r)for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&s.setRequestHeader(u,r[u]);i&&(s.withCredentials=!0),s.send(null)}catch(h){var l=h.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&"undefined"!=typeof h.number&&-2147024891==h.number&&(l+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",h.name,l),s.onreadystatechange=function(){},window.XDomainRequest){var c=new window.XDomainRequest;if(c){c.onload=function(e){$.isFunction(t)&&t({responseText:c.responseText,status:200,statusText:"OK"})},c.onerror=function(e){$.isFunction(n)&&n({responseText:c.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{c.open("GET",e),c.send()}catch(f){$.isFunction(n)&&n(s,h)}}}else $.isFunction(n)&&n(s,h)}return s},jsonp:function(e){var t,n=e.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=e.callbackName||"openseadragon"+$.now(),o=window[r],a="$1"+r+"$2",s=e.param||"callback",u=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+r,window[r]=function(e){if(o)window[r]=o;else try{delete window[r]}catch(t){}u&&$.isFunction(u)&&u(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0)},i.insertBefore(t,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function parseJSON(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}});var nullfunction=function(e){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var n,i,r,o=window.location.search.substring(1).split("&");for(r=0;r<o.length;r++)if((i=(n=o[r]).indexOf("="))>0){var a=n.substring(0,i),s=n.substring(i+1);try{URLPARAMS[a]=decodeURIComponent(s)}catch(u){$.console.error("Ignoring malformed URL parameter: %s=%s",a,s)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}(),function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var i,r=[],o=[],a=0;$.requestAnimationFrame=function(e){return r.push([++a,e]),i||(i=setInterval((function(){if(r.length){var e=$.now(),t=o;for(o=r,r=t;o.length;)o.shift()[1](e)}else clearInterval(i),i=void 0}),20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=r.length;t<n;t+=1)if(r[t][0]===e)return void r.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),$=OpenSeadragon,$.EventSource=function(){this.events={}},$.EventSource.prototype={addOnceHandler:function(e,t,n,i){var r=this;i=i||1;var o=0;this.addHandler(e,(function n(a){++o===i&&r.removeHandler(e,n),t(a)}),n)},addHandler:function(e,t,n){var i=this.events[e];i||(this.events[e]=i=[]),t&&$.isFunction(t)&&(i[i.length]={handler:t,userData:n||null})},removeHandler:function(e,t){var n,i=this.events[e],r=[];if(i&&$.isArray(i)){for(n=0;n<i.length;n++)i[n].handler!==t&&r.push(i[n]);this.events[e]=r}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var i,r=t.length;for(i=0;i<r;i++)t[i]&&(n.eventSource=e,n.userData=t[i].userData,t[i].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}},function(e){var t=[],n={};function i(t){var i,r=n[t.hash],o=r.activePointersLists.length;for(i=0;i<o;i++)r.activePointersLists[i].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[i].captureCount=0);for(i=0;i<o;i++)r.activePointersLists.pop()}function r(t){var r,o,a=n[t.hash];if(a.tracking){for(o=0;o<e.MouseTracker.subscribeEvents.length;o++)r=e.MouseTracker.subscribeEvents[o],e.removeEvent(t.element,r,a[r],!1);i(t),a.tracking=!1}}function o(t,i){var r=n[t.hash];if("pointerevent"===i)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===i)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===i)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function a(t,n,i){var r,a=t.getActivePointersListByType(n);a.captureCount+=i||1,1===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(r=o(t,e.MouseTracker.havePointerEvents?"pointerevent":n),fe&&de(window.top)&&e.addEvent(window.top,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function s(t,n,i){var r,a=t.getActivePointersListByType(n);a.captureCount-=i||1,0===a.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(r=o(t,e.MouseTracker.havePointerEvents?"pointerevent":n),fe&&de(window.top)&&e.removeEvent(window.top,r.upName,r.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function u(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function l(t){return e.getMousePosition(t)}function c(e,t){return h(l(e),t)}function h(t,n){var i=e.getElementOffset(n);return t.minus(i)}function f(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function d(t,n){t.clickHandler&&e.cancelEvent(n)}function p(t,n){t.dblClickHandler&&e.cancelEvent(n)}function v(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function y(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function g(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function m(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function b(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function w(e,t){_(e,t,t)}function k(t,n){var i={target:(n=e.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,_(t,i,n)}function _(t,n,i){var r;r=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:c(n,t.element),scroll:r,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}function x(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function T(t,n){O(t,n=e.getEvent(n))}function S(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||x(n.currentTarget,n.relatedTarget)||O(t,n)}function O(t,n){se(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(n),currentTime:e.now()}])}function E(t,n){P(t,n=e.getEvent(n))}function I(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||x(n.currentTarget,n.relatedTarget)||P(t,n)}function P(t,n){ue(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(n),currentTime:e.now()}])}function C(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function j(t,n){le(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(n),currentTime:e.now()}],C(n.button))&&(e.stopEvent(n),a(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}function B(e,t){D(e,t)}function R(t,n){D(t,n),e.stopEvent(n)}function D(t,n){ce(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(n),currentTime:e.now()}],C(n.button))&&s(t,"mouse")}function A(e,t){F(e,t)}function L(t,n){F(t,n),e.stopEvent(n)}function F(t,n){he(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:l(n),currentTime:e.now()}])}function M(e,t,n){var i,r=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)o.push(n.getByIndex(i));o.length>0&&(ce(e,t,o,0),n.captureCount=1,s(e,n.type),ue(e,t,o))}}function N(n,i){var r,o,s,u,c=i.changedTouches.length,h=[],f=n.getActivePointersListByType("touch");for(r=e.now(),f.getLength()>i.touches.length-c&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),M(n,i,f)),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:l(i.changedTouches[o]),currentTime:r});for(se(n,i,h),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&x(t[o].element,n.element)){for(u=[],s=0;s<c;s++)u.push({id:i.changedTouches[s].identifier,type:"touch",currentPos:l(i.changedTouches[s]),currentTime:r});se(t[o],i,u)}le(n,i,h,0)&&(e.stopEvent(i),a(n,"touch",c)),e.cancelEvent(i)}function z(e,t){V(e,t)}function U(t,n){V(t,n),e.stopEvent(n)}function V(n,i){var r,o,a,u,c=i.changedTouches.length,h=[];for(r=e.now(),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:l(i.changedTouches[o]),currentTime:r});for(ce(n,i,h,0)&&s(n,"touch",c),ue(n,i,h),o=0;o<t.length;o++)if(t[o]!==n&&t[o].isTracking()&&x(t[o].element,n.element)){for(u=[],a=0;a<c;a++)u.push({id:i.changedTouches[a].identifier,type:"touch",currentPos:l(i.changedTouches[a]),currentTime:r});ue(t[o],i,u)}e.cancelEvent(i)}function H(e,t){$(e,t)}function W(t,n){$(t,n),e.stopEvent(n)}function $(t,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:l(n.changedTouches[i]),currentTime:e.now()});he(t,n,o),e.cancelEvent(n)}function G(e,t){var n=e.getActivePointersListByType("touch");M(e,t,n)}function q(e,t){return t.stopPropagation(),t.preventDefault(),!1}function Y(e,t){return t.stopPropagation(),t.preventDefault(),!1}function Z(t,n){n.currentTarget===n.relatedTarget||x(n.currentTarget,n.relatedTarget)||se(t,n,[{id:n.pointerId,type:u(n),isPrimary:n.isPrimary,currentPos:l(n),currentTime:e.now()}])}function K(t,n){n.currentTarget===n.relatedTarget||x(n.currentTarget,n.relatedTarget)||ue(t,n,[{id:n.pointerId,type:u(n),isPrimary:n.isPrimary,currentPos:l(n),currentTime:e.now()}])}function X(t,n){var i;le(t,n,[i={id:n.pointerId,type:u(n),isPrimary:n.isPrimary,currentPos:l(n),currentTime:e.now()}],n.button)&&(e.stopEvent(n),a(t,i.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function Q(e,t){ee(e,t)}function J(t,n){t.getActivePointersListByType(u(n)).getById(n.pointerId)&&ee(t,n),e.stopEvent(n)}function ee(t,n){var i;ce(t,n,[i={id:n.pointerId,type:u(n),isPrimary:n.isPrimary,currentPos:l(n),currentTime:e.now()}],n.button)&&s(t,i.type)}function te(e,t){ie(e,t)}function ne(t,n){t.getActivePointersListByType(u(n)).getById(n.pointerId)&&ie(t,n),e.stopEvent(n)}function ie(t,n){he(t,n,[{id:n.pointerId,type:u(n),isPrimary:n.isPrimary,currentPos:l(n),currentTime:e.now()}])}function re(e,t){!function(e,t,n){ce(e,t,n,0),ue(e,t,n)}(e,t,[{id:t.pointerId,type:u(t)}])}function oe(e,t){return Object.prototype.hasOwnProperty.call(t,"isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function ae(e,t){var n,i;return e.getById(t.id)?(n=e.removeById(t.id),Object.prototype.hasOwnProperty.call(t,"isPrimary")||(i=e.getPrimary())||(i=e.getByIndex(0))&&(i.isPrimary=!0)):n=e.getLength(),n}function se(t,n,i){var r,o,a,s=t.getActivePointersListByType(i[0].type),u=i.length;for(r=0;r<u;r++)o=i[r],(a=s.getById(o.id))?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,oe(s,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:h(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function ue(t,n,i){var r,o,a,s=t.getActivePointersListByType(i[0].type),u=i.length;for(r=0;r<u;r++)o=i[r],(a=s.getById(o.id))&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):ae(s,a),o=a),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:o.currentPos&&h(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function le(t,i,r,o){var a,s,u,l=n[t.hash],c=t.getActivePointersListByType(r[0].type),d=r.length;"undefined"!==typeof i.buttons?c.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?c.buttons+=1:1===o?c.buttons+=4:2===o?c.buttons+=2:3===o?c.buttons+=8:4===o?c.buttons+=16:5===o&&(c.buttons+=32):0===o?c.buttons|=1:1===o?c.buttons|=4:2===o?c.buttons|=2:3===o?c.buttons|=8:4===o?c.buttons|=16:5===o&&(c.buttons|=32);var p=t.getActivePointersListsExceptType(r[0].type);for(a=0;a<p.length;a++)M(t,i,p[a]);if(0!==o)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:r[0].type,position:h(r[0].currentPos,t.element),button:o,buttons:c.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),!1;for(a=0;a<d;a++)s=r[a],(u=c.getById(s.id))?(u.captured=!0,u.insideElementPressed=!0,u.insideElement=!0,u.contactPos=s.currentPos,u.contactTime=s.currentTime,u.lastPos=u.currentPos,u.lastTime=u.currentTime,u.currentPos=s.currentPos,u.currentTime=s.currentTime,s=u):(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,oe(c,s)),c.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,s),1===c.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:s.type,position:h(s.contactPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i):2===c.contacts&&t.pinchHandler&&"touch"===s.type&&(l.pinchGPoints=c.asArray(),l.lastPinchDist=l.currentPinchDist=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos),l.lastPinchCenter=l.currentPinchCenter=f(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos));return!0}function ce(t,i,r,o){var a,s,u,l,c,d,p=n[t.hash],v=t.getActivePointersListByType(r[0].type),y=r.length,g=!1,m=!1;if("undefined"!==typeof i.buttons?v.buttons=i.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===o?v.buttons-=1:1===o?v.buttons-=4:2===o?v.buttons-=2:3===o?v.buttons-=8:4===o?v.buttons-=16:5===o&&(v.buttons-=32):0===o?v.buttons^=-2:1===o?v.buttons^=-5:2===o?v.buttons^=-3:3===o?v.buttons^=-9:4===o?v.buttons^=-17:5===o&&(v.buttons^=-33),0!==o){t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:r[0].type,position:h(r[0].currentPos,t.element),button:o,buttons:v.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i);var b=t.getActivePointersListByType("mouse");return M(t,i,b),!1}if("undefined"===typeof r[0].currentPos)return M(t,i,v),!1;for(u=0;u<y;u++)l=r[u],(c=v.getById(l.id))&&(c.captured&&(c.captured=!1,g=!0,m=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=l.currentPos,c.currentTime=l.currentTime,c.insideElement||ae(v,c),a=c.currentPos,s=c.currentTime,m?(v.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c),0===v.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:h(a,t.element),buttons:v.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:h(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),(t.clickHandler||t.dblClickHandler)&&c.insideElement&&(d=s-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(a)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:h(c.currentPos,t.element),quick:d,shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),t.dblClickHandler&&d&&(v.clicks++,1===v.clicks?(p.lastClickPos=a,p.dblClickTimeOut=setTimeout((function(){v.clicks=0}),t.dblClickTimeThreshold)):2===v.clicks&&(clearTimeout(p.dblClickTimeOut),v.clicks=0,p.lastClickPos.distanceTo(a)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:h(c.currentPos,t.element),shift:i.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i),p.lastClickPos=null)))):2===v.contacts&&t.pinchHandler&&"touch"===c.type&&(p.pinchGPoints=v.asArray(),p.lastPinchDist=p.currentPinchDist=p.pinchGPoints[0].currentPos.distanceTo(p.pinchGPoints[1].currentPos),p.lastPinchCenter=p.currentPinchCenter=f(p.pinchGPoints[0].currentPos,p.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:h(a,t.element),buttons:v.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i));return g}function he(t,i,r){var o,a,s,u,l,d=n[t.hash],p=t.getActivePointersListByType(r[0].type),v=r.length;for("undefined"!==typeof i.buttons&&(p.buttons=i.buttons),o=0;o<v;o++)a=r[o],(s=p.getById(a.id))?(Object.prototype.hasOwnProperty.call(a,"isPrimary")&&(s.isPrimary=a.isPrimary),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime):(a.captured=!1,a.insideElementPressed=!1,a.insideElement=!0,oe(p,a));t.stopHandler&&"mouse"===r[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout((function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:c(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}(t,i,r[0].type)}),t.stopDelay)),0===p.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:r[0].type,position:h(r[0].currentPos,t.element),buttons:p.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i):1===p.contacts?(t.moveHandler&&(s=p.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:s.type,position:h(s.currentPos,t.element),buttons:p.buttons,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)),t.dragHandler&&(l=(s=p.asArray()[0]).currentPos.minus(s.lastPos),!1===t.dragHandler({eventSource:t,pointerType:s.type,position:h(s.currentPos,t.element),buttons:p.buttons,delta:l,speed:s.speed,direction:s.direction,shift:i.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i))):2===p.contacts&&(t.moveHandler&&(u=p.asArray(),!1===t.moveHandler({eventSource:t,pointerType:u[0].type,position:h(f(u[0].currentPos,u[1].currentPos),t.element),buttons:p.buttons,isTouchEvent:"touch"===u[0].type,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)),t.pinchHandler&&"touch"===r[0].type&&(l=d.pinchGPoints[0].currentPos.distanceTo(d.pinchGPoints[1].currentPos))!=d.currentPinchDist&&(d.lastPinchDist=d.currentPinchDist,d.currentPinchDist=l,d.lastPinchCenter=d.currentPinchCenter,d.currentPinchCenter=f(d.pinchGPoints[0].currentPos,d.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:d.pinchGPoints,lastCenter:h(d.lastPinchCenter,t.element),center:h(d.currentPinchCenter,t.element),lastDistance:d.lastPinchDist,distance:d.currentPinchDist,shift:i.shiftKey,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)))}e.MouseTracker=function(i){t.push(this);var r=arguments;e.isPlainObject(i)||(i={element:r[0],clickTimeThreshold:r[1],clickDistThreshold:r[2]}),this.hash=Math.random(),this.element=e.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.enterHandler=i.enterHandler||null,this.exitHandler=i.exitHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var o=this;n[this.hash]={click:function(e){d(o,e)},dblclick:function(e){p(o,e)},keydown:function(e){v(o,e)},keyup:function(e){y(o,e)},keypress:function(e){g(o,e)},focus:function(e){m(o,e)},blur:function(e){b(o,e)},wheel:function(e){w(o,e)},mousewheel:function(e){k(o,e)},DOMMouseScroll:function(e){k(o,e)},MozMousePixelScroll:function(e){k(o,e)},mouseenter:function(e){T(o,e)},mouseleave:function(e){E(o,e)},mouseover:function(e){S(o,e)},mouseout:function(e){I(o,e)},mousedown:function(e){j(o,e)},mouseup:function(e){B(o,e)},mouseupcaptured:function(e){R(o,e)},mousemove:function(e){A(o,e)},mousemovecaptured:function(e){L(o,e)},touchstart:function(e){N(o,e)},touchend:function(e){z(o,e)},touchendcaptured:function(e){U(o,e)},touchmove:function(e){H(o,e)},touchmovecaptured:function(e){W(o,e)},touchcancel:function(e){G(o,e)},gesturestart:function(e){q(o,e)},gesturechange:function(e){Y(o,e)},pointerover:function(e){Z(o,e)},MSPointerOver:function(e){Z(o,e)},pointerout:function(e){K(o,e)},MSPointerOut:function(e){K(o,e)},pointerdown:function(e){X(o,e)},MSPointerDown:function(e){X(o,e)},pointerup:function(e){Q(o,e)},MSPointerUp:function(e){Q(o,e)},pointermove:function(e){te(o,e)},MSPointerMove:function(e){te(o,e)},pointercancel:function(e){re(o,e)},MSPointerCancel:function(e){re(o,e)},pointerupcaptured:function(e){J(o,e)},pointermovecaptured:function(e){ne(o,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},i.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(r(this),this.element=null,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(t){return t?function(t){var r,o,a=n[t.hash];if(!a.tracking){for(o=0;o<e.MouseTracker.subscribeEvents.length;o++)r=e.MouseTracker.subscribeEvents[o],e.addEvent(t.element,r,a[r],!1);i(t),a.tracking=!0}}(this):r(this),this},getActivePointersListsExceptType:function(e){for(var t=n[this.hash],i=[],r=0;r<t.activePointersLists.length;++r)t.activePointersLists[r].type!==e&&i.push(t.activePointersLists[r]);return i},getActivePointersListByType:function(t){var i,r,o=n[this.hash],a=o.activePointersLists.length;for(i=0;i<a;i++)if(o.activePointersLists[i].type===t)return o.activePointersLists[i];return r=new e.MouseTracker.GesturePointList(t),o.activePointersLists.push(r),r},getActivePointerCount:function(){var e,t=n[this.hash],i=t.activePointersLists.length,r=0;for(e=0;e<i;e++)r+=t.activePointersLists[e].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<t.length;e++)t[e].isTracking()&&(t[e].setTracking(!1),t[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=function(){var t=[],n=0,i=0,r=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,r,o,a,s,u,l=t.length,c=e.now();for(a=c-i,i=c,n=0;n<l;n++)(o=(r=t[n]).gPoint).direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),s=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,u=1e3*s/(a+1),o.speed=.75*u+.25*o.speed};return{addPoint:function(a,s){var u=r(a,s);t.push({guid:u,gPoint:s,lastPos:s.currentPos}),1===t.length&&(i=e.now(),n=window.setInterval(o,50))},removePoint:function(e,i){var o,a=r(e,i),s=t.length;for(o=0;o<s;o++)if(t[o].guid===a){t.splice(o,1),0===--s&&window.clearInterval(n);break}}}}(),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var fe=function(){try{return window.self!==window.top}catch(e){return!0}}();function de(e){try{return e.addEventListener&&e.removeEventListener}catch(t){return!1}}}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,i){var r=t.parentNode;"number"===typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer="undefined"===typeof n.attachToViewer||n.attachToViewer,this.autoFade="undefined"===typeof n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=i,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var n,i=e.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==t)return n;return-1}e.ControlDock=function(t){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,i){var r=null;if(!(t(this,n=e.getElement(n))>=0)){switch(i.anchor){case e.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case e.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){var i=t(this,n=e.getElement(n));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){var t={},n=1;function i(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function r(t,n){if(n instanceof e.Overlay)return n;var i=null;if(n.element)i=e.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=e.getElement(n.id))||((i=document.createElement("a")).href="#/overlay/"+r),i.id=r,e.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var u=n.x,l=n.y;if(void 0!==n.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));u=c.x,l=c.y,a=void 0!==a?c.width:void 0,s=void 0!==s?c.height:void 0}o=new e.Point(u,l)}var h=n.placement;return h&&"string"===e.type(h)&&(h=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:i,location:o,placement:h,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function o(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function a(t,n){return e.requestAnimationFrame((function(){n(t)}))}function s(t){e.requestAnimationFrame((function(){!function(t){var n,i,r,o;if(t.controlsShouldFade){for(n=e.now(),i=n-t.controlsFadeBeginTime,r=1-i/t.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(r);r>0&&s(t)}}(t)}))}function u(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){s(t)}),t.controlsFadeDelay))}function l(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){l(this)}function h(){u(this)}function f(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function d(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function p(e){var t;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function v(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function y(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(e.delta.x=0),r.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function g(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*t.speed*Math.cos(t.direction));var r=0;this.panVertical&&(r=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-i,o.y-r));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function m(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function w(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function k(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function x(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function T(e){var t,n,i;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),i=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),t.zoomToRefPoint&&this.viewport.panBy(i,!0),this.viewport.applyConstraints()),t.pinchRotate)){var r=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(r-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function S(t){var n,i,r;if((r=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=r,this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function O(e){t[this.hash].mouseInside=!0,l(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function E(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||u(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function I(e){!function(e){if(e._opening)return;if(e.autoResize){var n=i(e.container),r=t[e.hash].prevContainerSize;if(!n.equals(r)){var o=e.viewport;if(e.preserveImageSizeOnResize){var a=r.x/n.x,s=o.getZoom()*a,c=o.getCenter();o.resize(n,!1),o.zoomTo(s,null,!0),o.panTo(c,!0)}else{var h=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(h,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var f=e.viewport.update(),d=e.world.update()||f;f&&e.raiseEvent("viewport-change");e.referenceStrip&&(d=e.referenceStrip.update(e.viewport)||d);!t[e.hash].animating&&d&&(e.raiseEvent("animation-start"),l(e));(d||t[e.hash].forceRedraw||e.world.needsDraw())&&(!function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,d&&e.raiseEvent("animation"));t[e.hash].animating&&!d&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||u(e));t[e.hash].animating=d}(e),e.isOpen()?e._updateRequestId=a(e,I):e._updateRequestId=!1}function P(e,t){return e?e+t:t}function C(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,R(this)}function j(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,R(this)}function B(){t[this.hash].zooming=!1}function R(t){e.requestAnimationFrame(e.delegate(t,D))}function D(){var n,i,r;t[this.hash].zooming&&this.viewport&&(i=(n=e.now())-t[this.hash].lastZoomTime,r=Math.pow(t[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,R(this))}function A(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function L(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function F(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function M(){this.viewport&&this.viewport.goHome()}function N(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function z(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+this.rotationIncrement,360):e.positiveModulo(t-this.rotationIncrement,360),this.viewport.setRotation(t)}}function U(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-this.rotationIncrement,360):e.positiveModulo(t+this.rotationIncrement,360),this.viewport.setRotation(t)}}function V(){this.viewport.toggleFlip()}function H(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function W(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}e.Viewer=function(r){var o,s,l=arguments,c=this;if(e.isPlainObject(r)||(r={id:l[0],xmlPath:l.length>1?l[1]:void 0,prefixUrl:l.length>2?l[2]:void 0,controls:l.length>3?l[3]:void 0,overlays:l.length>4?l[4]:void 0}),r.config&&(e.extend(!0,r,r.config),delete r.config),e.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,r),"undefined"===typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!==typeof t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(n)})),e.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(s=this.canvas.style).width="100%",s.height="100%",s.overflow="hidden",s.position="absolute",s.top="0px",s.left="0px",e.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,f),keyHandler:e.delegate(this,d),clickHandler:e.delegate(this,p),dblClickHandler:e.delegate(this,v),dragHandler:e.delegate(this,y),dragEndHandler:e.delegate(this,g),enterHandler:e.delegate(this,m),exitHandler:e.delegate(this,b),pressHandler:e.delegate(this,w),releaseHandler:e.delegate(this,k),nonPrimaryPressHandler:e.delegate(this,_),nonPrimaryReleaseHandler:e.delegate(this,x),scrollHandler:e.delegate(this,S),pinchHandler:e.delegate(this,T)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,O),exitHandler:e.delegate(this,E)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=i(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=a(c,I))})),this.world.addHandler("remove-item",(function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){c.source=c.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame((function(){u(c)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var i=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),"undefined"==typeof n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var o,a=t.length,s=0,u=0,l=function(){if(s+u===a)if(s){!i._firstOpen&&i.preserveViewport||(i.viewport.goHome(!0),i.viewport.update()),i._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),i.overlays&&!i.preserveOverlays)for(var n=0;n<i.overlays.length;n++)i.currentOverlays[n]=r(i,i.overlays[n]);i._drawOverlays(),i._opening=!1,i.raiseEvent("open",{source:e})}else i._opening=!1,i.raiseEvent("open-failed",o)},c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var r=0;r<t.tileSource.overlays.length;r++)i.addOverlay(t.tileSource.overlays[r]);n&&n(e),l()};var r=t.error;t.error=function(e){u++,o||(o=e),r&&r(e),l()},i.addTiledImage(t)},h=0;h<t.length;h++)c(t[h]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?l(this):u(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var i,r,o=document.body,a=o.style,s=document.documentElement.style,u=this;if(n==this.isFullPage())return this;var l={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",l),l.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,i=o.childNodes.length,r=0;r<i;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,O)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,o.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var c=0;e.requestAnimationFrame((function t(){e.setPageScroll(u.pageScroll);var n=e.getPageScroll();++c<10&&(n.x!==u.pageScroll.x||n.y!==u.pageScroll.y)&&e.requestAnimationFrame(t)})),t[this.hash].fullPage=!1,e.delegate(this,E)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var i={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function t(){var i=e.isFullScreen();i||(e.removeEvent(document,e.fullScreenEventName,t),e.removeEvent(document,e.fullScreenErrorEventName,t),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout((function(){n.navigator.update(n.viewport)})),n.raiseEvent("full-screen",{fullScreen:i})};e.addEvent(document,e.fullScreenEventName,r),e.addEvent(document,e.fullScreenErrorEventName,r),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var i={options:t};function r(e){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&o(i),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function a(){for(var t,i,r;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var a=n.world.getIndexOfItem(t.options.replaceItem);-1!=a&&(t.options.index=a),n.world.removeItem(t.options.replaceItem)}i=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(i,{index:t.options.index}),0===n._loadQueue.length&&o(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(r=e.extend({},t.options,{replace:!1,originalTiledImage:i,tileSource:t.tileSource}),n.navigator.addTiledImage(r)),t.options.success&&t.options.success({item:i})}}e.isArray(t.tileSource)?setTimeout((function(){r({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(i),function(t,n,i,r,o){var a=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var s=e.parseJSON(n);n=s}catch(l){}function u(e,t){e.ready?r(e):(e.addHandler("ready",(function(){r(e)})),e.addHandler("open-failed",(function(e){o({message:e.message,source:t})})))}setTimeout((function(){if("string"==e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){r(e.tileSource)}})).addHandler("open-failed",(function(e){o(e)}));else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var s=new e.TileSource(n);s.getTileUrl=n.getTileUrl,r(s)}else{var l=e.TileSource.determineType(a,n);if(!l)return void o({message:"Unable to load TileSource",source:n});var c=l.prototype.configure.apply(a,[n]);u(new l(c),n)}else u(n,n)}))}(this,t.tileSource,t,(function(e){i.tileSource=e,a()}),(function(e){e.options=t,r(e),a()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(i),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,c),n=e.delegate(this,h),i=e.delegate(this,W),r=e.delegate(this,H),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:P(this.prefixUrl,o.previous.REST),srcGroup:P(this.prefixUrl,o.previous.GROUP),srcHover:P(this.prefixUrl,o.previous.HOVER),srcDown:P(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:P(this.prefixUrl,o.next.REST),srcGroup:P(this.prefixUrl,o.next.GROUP),srcHover:P(this.prefixUrl,o.next.HOVER),srcDown:P(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,C),n=e.delegate(this,B),i=e.delegate(this,A),r=e.delegate(this,j),o=e.delegate(this,L),a=e.delegate(this,M),s=e.delegate(this,N),u=e.delegate(this,z),l=e.delegate(this,U),f=e.delegate(this,V),d=e.delegate(this,c),p=e.delegate(this,h),v=this.navImages,y=[],g=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(g=!1),this.showZoomControl&&(y.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:P(this.prefixUrl,v.zoomIn.REST),srcGroup:P(this.prefixUrl,v.zoomIn.GROUP),srcHover:P(this.prefixUrl,v.zoomIn.HOVER),srcDown:P(this.prefixUrl,v.zoomIn.DOWN),onPress:t,onRelease:n,onClick:i,onEnter:t,onExit:n,onFocus:d,onBlur:p})),y.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:P(this.prefixUrl,v.zoomOut.REST),srcGroup:P(this.prefixUrl,v.zoomOut.GROUP),srcHover:P(this.prefixUrl,v.zoomOut.HOVER),srcDown:P(this.prefixUrl,v.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:d,onBlur:p}))),this.showHomeControl&&y.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:P(this.prefixUrl,v.home.REST),srcGroup:P(this.prefixUrl,v.home.GROUP),srcHover:P(this.prefixUrl,v.home.HOVER),srcDown:P(this.prefixUrl,v.home.DOWN),onRelease:a,onFocus:d,onBlur:p})),this.showFullPageControl&&y.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:P(this.prefixUrl,v.fullpage.REST),srcGroup:P(this.prefixUrl,v.fullpage.GROUP),srcHover:P(this.prefixUrl,v.fullpage.HOVER),srcDown:P(this.prefixUrl,v.fullpage.DOWN),onRelease:s,onFocus:d,onBlur:p})),this.showRotationControl&&(y.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:P(this.prefixUrl,v.rotateleft.REST),srcGroup:P(this.prefixUrl,v.rotateleft.GROUP),srcHover:P(this.prefixUrl,v.rotateleft.HOVER),srcDown:P(this.prefixUrl,v.rotateleft.DOWN),onRelease:u,onFocus:d,onBlur:p})),y.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:P(this.prefixUrl,v.rotateright.REST),srcGroup:P(this.prefixUrl,v.rotateright.GROUP),srcHover:P(this.prefixUrl,v.rotateright.HOVER),srcDown:P(this.prefixUrl,v.rotateright.DOWN),onRelease:l,onFocus:d,onBlur:p}))),this.showFlipControl&&y.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:P(this.prefixUrl,v.flip.REST),srcGroup:P(this.prefixUrl,v.flip.GROUP),srcHover:P(this.prefixUrl,v.flip.HOVER),srcDown:P(this.prefixUrl,v.flip.DOWN),onRelease:f,onFocus:d,onBlur:p})),g&&(this.buttons=new e.ButtonGroup({buttons:y,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,F)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,i,a){var s;if(s=e.isPlainObject(t)?t:{element:t,location:n,placement:i,onDraw:a},t=e.getElement(s.element),o(this.currentOverlays,t)>=0)return this;var u=r(this,s);return this.currentOverlays.push(u),u.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(n,i,r){var a;return n=e.getElement(n),(a=o(this.currentOverlays,n))>=0&&(this.currentOverlays[a].update(i,r),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=e.getElement(n),(i=o(this.currentOverlays,n))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=o(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var s,u,l,c,h=a.viewer,f=this;function d(e){o(f.displayRegionContainer,e),o(f.displayRegion,-e),f.viewport.setRotation(e)}(a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=h.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!=e.ControlAnchor.NONE&&(l=this.element.style,c=this.borderWidth,l.margin="0px",l.border=c+"px solid "+a.borderColor,l.padding="0px",l.background=a.background,l.opacity=a.opacity,l.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",h.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!=e.ControlAnchor.NONE,a.width&&a.height?(this.setWidth(a.width),this.setHeight(a.height)):this._resizeWithViewer&&(s=e.getElementSize(h.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s,u=e.getElementSize(this.element),this.elementArea=u.x*u.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate)&&(d(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",(function(e){d(e.degrees)})));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,i),scrollHandler:e.delegate(this,r)}),this.addHandler("reset-size",(function(){f.viewport&&f.viewport.goHome(!0)})),h.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=f.world.getItemAt(e.previousIndex);f.world.setItemIndex(t,e.newIndex)}),1)})),h.world.addHandler("remove-item",(function(e){var t=e.item,n=f._getMatchingItem(t);n&&f.world.removeItem(n)})),this.update(h.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var n,i,r,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var u=this.displayRegion.style;u.display=this.world.getItemCount()?"block":"none",u.top=Math.round(a.y)+"px",u.left=Math.round(a.x)+"px";var l=Math.abs(a.x-s.x),c=Math.abs(a.y-s.y);u.width=Math.round(Math.max(l,0))+"px",u.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(t){var n=this,i=t.originalTiledImage;delete t.original;var r=e.extend({},t,{success:function(e){var t=e.item;function r(){n._matchBounds(t,i)}t._originalForNavigator=i,n._matchBounds(t,i,!0),i.addHandler("bounds-change",r),i.addHandler("clip-change",r),i.addHandler("opacity-change",(function(){n._matchOpacity(t,i)})),i.addHandler("composite-operation-change",(function(){n._matchCompositeOperation(t,i)}))}});return e.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),i=0;i<n;i++)if((t=this.world.getItemAt(i))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var i=t.getBoundsNoRotate();e.setPosition(i.getTopLeft(),n),e.setWidth(i.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var i,r=n.split("."),o=null,a=arguments,s=t;for(i=0;i<r.length-1;i++)s=s[r[i]]||{};return"string"!=typeof(o=s[r[i]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""}))},setString:function(e,n){var i,r=e.split("."),o=t;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var i,r;if(n=n||new e.Point(0,0),t%90===0){switch(e.positiveModulo(t,360)){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1}}else{var o=t*Math.PI/180;i=Math.cos(o),r=Math.sin(o)}var a=i*(this.x-n.x)-r*(this.y-n.y)+n.x,s=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){e.TileSource=function(t,n,i,r,o,a){var s,u,l=this,c=arguments;if(s=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(u=0;u<arguments.length;u++)if(e.isFunction(arguments[u])){this.success=arguments[u];break}this.success&&this.addHandler("ready",(function(e){l.success(e)})),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(i,r)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),i=1/n.x,r=1/n.y;return new e.Point(i,r)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(t),o=n.x*r,a=n.y*r,s=Math.floor(o/this.getTileWidth(t)),u=Math.floor(a/this.getTileHeight(t));n.x>=1&&(s=this.getNumTiles(t).x-1);return n.y>=1/this.aspectRatio-1e-15&&(u=this.getNumTiles(t).y-1),new e.Point(s,u)},getTileBounds:function(t,n,i,r){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),s=this.getTileHeight(t),u=0===n?0:a*n-this.tileOverlap,l=0===i?0:s*i-this.tileOverlap,c=a+(0===n?1:2)*this.tileOverlap,h=s+(0===i?1:2)*this.tileOverlap,f=1/o.x;return c=Math.min(c,o.x-u),h=Math.min(h,o.y-l),r?new e.Rect(0,0,c,h):new e.Rect(u*f,l*f,c*f,h*f)},getImageInfo:function(t){var n,i,r,o,a,s,u,l=this;t&&(u=(s=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,u)),i=function(n){"string"===typeof n&&(n=e.parseXml(n));var i=e.TileSource.determineType(l,n,t);i?(void 0===(o=i.prototype.configure.apply(l,[n,t])).ajaxWithCredentials&&(o.ajaxWithCredentials=l.ajaxWithCredentials),r=new i(o),l.ready=!0,l.raiseEvent("ready",{tileSource:r})):l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,i,r=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(r)}catch(a){i=t.responseText}else if(r.match(/\s*[\{\[].*/))try{i=e.parseJSON(r)}catch(a){i=r}else i=r;return i}(t);i(n)},error:function(e,n){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(r){i=("undefined"!=typeof n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}l.raiseEvent("open-failed",{message:i,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var i=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<i.x&&n<i.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[r])&&e.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(t,n,i))return OpenSeadragon[r];e.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(e){function t(t,n){var i,r,o=n.Image,a=o.Url,s=o.Format,u=o.Size,l=o.DisplayRect||[],c=parseInt(u.Width,10),h=parseInt(u.Height,10),f=parseInt(o.TileSize,10),d=parseInt(o.Overlap,10),p=[];for(r=0;r<l.length;r++)i=l[r].Rect,p.push(new e.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return e.extend(!0,{width:c,height:h,tileSize:f,tileOverlap:d,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:p},n)}e.DziTileSource=function(t,n,i,r,o,a,s,u,l){var c,h,f,d;if(d=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=d.tilesUrl,this.fileFormat=d.fileFormat,this.displayRects=d.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(f=(h=this.displayRects[c]).minLevel;f<=h.maxLevel;f++)this._levelRects[f]||(this._levelRects[f]=[]),this._levelRects[f].push(h);e.TileSource.apply(this,[d])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i){var r;return r=e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a,s,u,l=i.documentElement,c=l.localName||l.tagName,h=i.documentElement.namespaceURI,f=null,d=[];if("Image"==c)try{if(void 0===(s=l.getElementsByTagName("Size")[0])&&(s=l.getElementsByTagNameNS(h,"Size")[0]),f={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:l.getAttribute("Url"),Format:l.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(l.getAttribute("Overlap"),10),TileSize:parseInt(l.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(f.Image.Format))throw new Error(e.getString("Errors.ImageFormat",f.Image.Format.toUpperCase()));for(void 0===(r=l.getElementsByTagName("DisplayRect"))&&(r=l.getElementsByTagNameNS(h,"DisplayRect")[0]),u=0;u<r.length;u++)o=r[u],void 0===(a=o.getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(h,"Rect")[0]),d.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return d.length&&(f.Image.DisplayRect=d),t(n,f)}catch(v){throw v instanceof Error?v:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var p=l.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(p)}}throw new Error(e.getString("Errors.Dzi"))}(this,n),i&&!r.tilesUrl&&(r.tilesUrl=i.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=i.search(/\.(dzi|xml|js)\?/)?r.queryParams=i.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var i,r,o,a,s,u,l,c=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!c||!c.length)return!0;for(l=c.length-1;l>=0;l--)if(!(e<(i=c[l]).minLevel||e>i.maxLevel)&&(r=this.getLevelScale(e),o=i.x*r,a=i.y*r,s=o+i.width*r,u=a+i.height*r,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),u=Math.ceil(u/this._tileWidth),o<=t&&t<s&&a<=n&&n<u))return!0;return!1}})}(OpenSeadragon),function(e){function t(e){var t=Array.isArray(e.profile)?e.profile[0]:e.profile,n=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(t),i=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(i=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(i=-1!==e.extraFeatures.indexOf("sizeByWh")),!n||i}function n(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+","+(3===e.version?e.sizes[n].height:"")+"/0/default."+e.tileFormat,width:e.sizes[n].width,height:e.sizes[n].height});return t.sort((function(e,t){return e.width-t.width}))}e.IIIFTileSource=function(i){if(e.extend(!0,this,i),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(i.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=i.version,this.tile_width&&this.tile_height)i.tileWidth=this.tile_width,i.tileHeight=this.tile_height;else if(this.tile_width)i.tileSize=this.tile_width;else if(this.tile_height)i.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)i.tileWidth=this.tiles[0].width,i.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var r=0;r<this.tiles.length;r++)for(var o=0;o<this.tiles[r].scaleFactors.length;o++){var a=this.tiles[r].scaleFactors[o];this.scale_factors.push(a),i.tileSizePerScaleFactor[a]={width:this.tiles[r].width,height:this.tiles[r].height||this.tiles[r].width}}}else if(t(i)){for(var s=Math.min(this.height,this.width),u=[256,512,1024],l=[],c=0;c<u.length;c++)u[c]<=s&&l.push(u[c]);l.length>0?i.tileSize=Math.max.apply(null,l):i.tileSize=s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,i.levels=n(this),e.extend(!0,i,{width:i.levels[i.levels.length-1].width,height:i.levels[i.levels.length-1].height,tileSize:Math.max(i.height,i.width),tileOverlap:0,minLevel:0,maxLevel:i.levels.length-1}),this.levels=i.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!i.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var h=Math.max.apply(null,this.scale_factors);i.maxLevel=Math.round(Math.log(h)*Math.LOG2E)}else i.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[i])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t)){if(t["@context"]){var i=t["@context"];if(Array.isArray(i))for(var r=0;r<i.length;r++)if("string"===typeof i[r]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(i[r])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===i[r])){i=i[r];break}switch(i){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t.version=1;if(!t["@id"]&&t.id&&(t["@id"]=t.id),t.preferredFormats)for(var o=0;o<t.preferredFormats.length;o++)if(OpenSeadragon.imageFormatSupported(t.preferredFormats[o])){t.tileFormat=t.preferredFormats[o];break}return t}var a=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,i=n.tagName,r=null;if("info"==i)try{return function t(n,i,r){var o,a;if(3==n.nodeType&&r)(a=n.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),i[r]?(e.isArray(i[r])||(i[r]=[i[r]]),i[r].push(a)):i[r]=a;else if(1==n.nodeType)for(o=0;o<n.childNodes.length;o++)t(n.childNodes[o],i,n.nodeName)}(n,r={}),r}catch(o){throw o instanceof Error?o:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return a["@context"]="http://iiif.io/api/image/1.0/context.json",a["@id"]=n.replace("/info.xml",""),a.version=1,a},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}var r,o,a,s,u,l,c,h,f,d,p,v,y,g=Math.pow(.5,this.maxLevel-e),m=Math.ceil(this.width*g),b=Math.ceil(this.height*g);return r=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(r/g),s=Math.ceil(o/g),y=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,m<r&&b<o?(d=2===this.version&&m===this.width||3===this.version&&m===this.width&&b===this.height?"max":3===this.version?m+","+b:m+",",u="full"):(l=t*a,c=n*s,h=Math.min(a,this.width-l),f=Math.min(s,this.height-c),u=0===t&&0===n&&h===this.width&&f===this.height?"full":[l,c,h,f].join(","),p=Math.ceil(h*g),v=Math.ceil(f*g),d=2===this.version&&p===this.width||3===this.version&&p===this.width&&v===this.height?"max":3===this.version?p+","+v:p+","),[this["@id"],u,d,"0",y].join("/")},__testonly__:{canBeTiled:t,constructLevels:n}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,i,r,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,i,r,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,u=256*Math.ceil(a.width/256),l=256*Math.ceil(a.height/256);s=u>l?u/256:l/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=u,a.height=l,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(i-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var i=0,r={},o=0;o<e;o++)i+=(r=this.gridSize[o]).x*r.y;return i+=(r=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i,r=this._calculateAbsoluteTileNumber(e,t,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,i,r;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,i,r=[];for(i=0;i<t.length;i++)(n=t[i]).height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort((function(e,t){return e.height-t.height}))}(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(i=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:r,tileSize:Math.max(r,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(n,i){return e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,a=i.documentElement,s=a.tagName,u=null,l=[];if("image"==s)try{for(u={type:a.getAttribute("type"),levels:[]},l=a.getElementsByTagName("level"),o=0;o<l.length;o++)r=l[o],u.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return t(n,u)}catch(c){throw c instanceof Error?c:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==s)throw new Error("Error: "+i)}throw new Error("Unknown element "+s)}(this,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",(function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new e.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})})),e.addEvent(n,"error",(function(){i.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i},getContext2D:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].context2D),i},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),t[0].context2D=o,delete this._image,e.isCanvasTainted(r))return t;for(;n>=2&&i>=2;){n=Math.floor(n/2),i=Math.floor(i/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=i,s.drawImage(r,0,0,n,i),t.splice(0,0,{context2D:s,width:n,height:i}),r=a,o=s}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,i,r){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(n){e.requestAnimationFrame((function(){!function(n){var i,r,o;n.shouldFade&&(i=e.now(),r=i-n.fadeBeginTime,o=1-r/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&e.setElementOpacity(n.imgGroup,o,!0),o>0&&t(n))}(n)}))}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(!function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function i(n,i){n.element.disabled||(i<=e.ButtonState.HOVER&&n.currentState==e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),i<=e.ButtonState.GROUP&&n.currentState==e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),i<=e.ButtonState.REST&&n.currentState==e.ButtonState.GROUP&&(!function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout((function(){t(n)}),n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(r,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){i(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(i(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?i(r,e.ButtonState.GROUP):n(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),i(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){i(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,i=this.buttons.concat([]),r=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",n=0;n<i.length;n++)this.element.appendChild(i[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,i,r,o){var a,s;this.x="number"===typeof t?t:0,this.y="number"===typeof n?n:0,this.width="number"===typeof i?i:0,this.height="number"===typeof r?r:0,this.degrees="number"===typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,i){var r=t.distanceTo(n),o=t.distanceTo(i),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,r,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),i=t.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),a=Math.max(n.x+n.width,i.x+i.width),s=Math.max(n.y+n.height,i.y+i.height);return new e.Rect(r,o,a-r,s-o)},intersection:function(t){var n=[],i=this.getTopLeft();t.containsPoint(i,1e-10)&&n.push(i);var r=this.getTopRight();t.containsPoint(r,1e-10)&&n.push(r);var o=this.getBottomLeft();t.containsPoint(o,1e-10)&&n.push(o);var a=this.getBottomRight();t.containsPoint(a,1e-10)&&n.push(a);var s=t.getTopLeft();this.containsPoint(s,1e-10)&&n.push(s);var u=t.getTopRight();this.containsPoint(u,1e-10)&&n.push(u);var l=t.getBottomLeft();this.containsPoint(l,1e-10)&&n.push(l);var c=t.getBottomRight();this.containsPoint(c,1e-10)&&n.push(c);for(var h=this._getSegments(),f=t._getSegments(),d=0;d<h.length;d++)for(var p=h[d],v=0;v<f.length;v++){var y=f[v],g=m(p[0],p[1],y[0],y[1]);g&&n.push(g)}function m(t,n,i,r){var o=n.minus(t),a=r.minus(i),s=-a.x*o.y+o.x*a.y;if(0===s)return null;var u=(o.x*(t.y-i.y)-o.y*(t.x-i.x))/s,l=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/s;return-1e-10<=u&&u<=1-1e-10&&-1e-10<=l&&l<=1-1e-10?new e.Point(t.x+l*o.x,t.y+l*o.y):null}if(0===n.length)return null;for(var b=n[0].x,w=n[0].x,k=n[0].y,_=n[0].y,x=1;x<n.length;x++){var T=n[x];T.x<b&&(b=T.x),T.x>w&&(w=T.x),T.y<k&&(k=T.y),T.y>_&&(_=T.y)}return new e.Rect(b,k,w-b,_-k)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[e,t],[t,i],[i,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(t,n),r=this.getTopRight().rotate(t,n).minus(i);r=r.apply((function(e){return Math.abs(e)<1e-15?0:e}));var o=Math.atan(r.y/r.x);return r.x<0?o+=Math.PI:r.y<0&&(o+=2*Math.PI),new e.Rect(i.x,i.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(t.x,n.x,i.x,r.x),a=Math.max(t.x,n.x,i.x,r.x),s=Math.min(t.y,n.y,i.y,r.y),u=Math.max(t.y,n.y,i.y,r.y);return new e.Rect(o,s,a-o,u-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),i=Math.floor(t.y),r=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-i);return new e.Rect(n,i,r,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),a=r.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-r.x)*a.x+(e.y-r.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){var t={};function n(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(o-s.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",r(this,s.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",r(this,s.x,n+2*t.delta.x)):-t.delta.y>0?i>-(a-s.y)&&(this.element.style.marginTop=i+2*t.delta.y+"px",r(this,s.y,i+2*t.delta.y)):-t.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*t.delta.y+"px",r(this,s.y,i+2*t.delta.y))),!1}function i(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(o-s.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",r(this,s.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",r(this,s.x,n-60*t.scroll)):t.scroll<0?i>s.y-a&&(this.element.style.marginTop=i+60*t.scroll+"px",r(this,s.y,i+60*t.scroll)):t.scroll>0&&i<0&&(this.element.style.marginTop=i+60*t.scroll+"px",r(this,s.y,i+60*t.scroll))),!1}function r(t,n,i){var r,o,a,s,u,l,c;for(r="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/r)+5,l=o=(o=(a=Math.ceil((Math.abs(i)+n)/r)+1)-o)<0?0:o;l<a&&l<t.panels.length;l++)if(!(c=t.panels[l]).activePanel){var h,f=t.viewer.tileSources[l];h=f.referenceStripThumbnailUrl?{type:"image",url:f.referenceStripThumbnailUrl}:f,(s=new e.Viewer({id:c.id,tileSources:[h],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,useCanvas:t.useCanvas})).displayRegion=e.makeNeutralElement("div"),s.displayRegion.id=c.id+"-displayregion",s.displayRegion.className="displayregion",(u=s.displayRegion.style).position="relative",u.top="0px",u.left="0px",u.fontSize="0px",u.overflow="hidden",u.float="left",u.cssFloat="left",u.styleFloat="left",u.zIndex=999999999,u.cursor="default",u.width=t.panelWidth-4+"px",u.height=t.panelHeight-4+"px",s.displayRegion.innerTracker=new e.MouseTracker({element:s.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(s.displayRegion),t.miniViewers[c.id]=s,c.activePanel=!0}}function o(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function a(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function s(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function u(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}e.ReferenceStrip=function(l){var c,h,f,d=l.viewer,p=e.getElementSize(d.element);for(l.id||(l.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=l.id,this.element.className="referencestrip"),l=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},l,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,l),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(h=this.element.style).marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=d,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,o),exitHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,s),keyHandler:e.delegate(this,u)}),l.width&&l.height?(this.element.style.width=l.width+"px",this.element.style.height=l.height+"px",d.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==l.scroll?(this.element.style.width=p.x*l.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.height=p.y*l.sizeRatio+"px",d.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=p.y*l.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.width=p.x*l.sizeRatio+"px",d.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=p.x*this.sizeRatio+8,this.panelHeight=p.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},f=0;f<d.tileSources.length;f++)(c=e.makeNeutralElement("div")).id=this.element.id+"-"+f,c.style.width=this.panelWidth+"px",c.style.height=this.panelHeight+"px",c.style.display="inline",c.style.float="left",c.style.cssFloat="left",c.style.styleFloat="left",c.style.padding="2px",e.setElementTouchActionNone(c),c.innerTracker=new e.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,d.goToPage(r))}}),this.element.appendChild(c),c.activePanel=!1,this.panels.push(c);r(this,"vertical"==this.scroll?p.y:p.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,i=this.element.querySelector("#"+this.element.id+"-"+t),a=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),u=Number(this.element.style.height.replace("px","")),l=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3))>l+a.x-this.panelWidth?(n=Math.min(n,s-a.x),this.element.style.marginLeft=-n+"px",r(this,a.x,-n)):n<l&&(n=Math.max(0,n-a.x/2),this.element.style.marginLeft=-n+"px",r(this,a.x,-n)):(n=Number(t)*(this.panelHeight+3))>c+a.y-this.panelHeight?(n=Math.min(n,u-a.y),this.element.style.marginTop=-n+"px",r(this,a.y,-n)):n<c&&(n=Math.max(0,n-a.y/2),this.element.style.marginTop=-n+"px",r(this,a.y,-n)),this.currentPage=t,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,i,r,o,a){e.Rect.apply(this,[t,n,i,r]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"===typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"===typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n;this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var i,r,o=this.current.time>=this.target.time?n:t+(n-t)*(i=this.springStiffness,r=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(i*-r))/(1-Math.exp(-i))),a=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,a!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout((function(){t.errorMsg="Image load exceeded timeout ("+t.timeout+" ms)",t.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(a){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===a.name&&i){var r=new i;r.append(e.response),n=r.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"===typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,i=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++);n(t.image,t.errorMsg,t.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(i.start(),this.jobsInProgress++):this.jobQueue.push(i)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"===typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,i,r,o,a,s,u,l){this.level=e,this.x=t,this.y=n,this.bounds=i,this.sourceBounds=l,this.exists=r,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=u,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,i,r){var o,a,s,u=this.position.times(e.pixelDensityRatio),l=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"===typeof i&&1!==i&&(u=u.times(i),l=l.times(i)),r instanceof e.Point&&(u=u.plus(r)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(u.x,u.y,l.x,l.y),n({context:t,tile:this,rendered:o}),this.sourceBounds?(a=Math.min(this.sourceBounds.width,o.canvas.width),s=Math.min(this.sourceBounds.height,o.canvas.height)):(a=o.canvas.width,s=o.canvas.height),t.drawImage(o.canvas,0,0,a,s,u.x,u.y,l.x,l.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new e.Point(r,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,i){var r;r=e.isPlainObject(t)?t:{element:t,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var i=e.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?t.x-=n.x/2:i.isRight&&(t.x-=n.x),i.isVerticallyCentered?t.y-=n.y/2:i.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=e.getCssPropertyWithVendorPrefix("transformOrigin"),r=e.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(t,n){var i=this.element;i.parentNode!==t&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,t.appendChild(i),this.style.position="absolute",this.size=e.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,a=this.size=r.size,s=r.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var u=this.style;u.left=o.x+"px",u.top=o.y+"px",null!==this.width&&(u.width=a.x+"px"),null!==this.height&&(u.height=a.y+"px");var l=e.getCssPropertyWithVendorPrefix("transformOrigin"),c=e.getCssPropertyWithVendorPrefix("transform");l&&c&&(s?(u[l]=this._getTransformOrigin(),u[c]="rotate("+s+"deg)"):(u[l]="",u[c]="")),"none"!==u.display&&(u.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(t);this.adjust(n,i);var r=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,i.x,i.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),i=a.getSize()}else r=t.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(t){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new e.Point(n,i)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),i=e.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=t.width/2:i.isRight&&(n.x+=t.width),i.isVerticallyCentered?n.y+=t.height/2:i.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var i=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,i)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"===typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,n,i,r){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,i,r),this},updateOverlay:function(t,n,i){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,i),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(t){var n=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio)},clipWithPolygons:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),e.forEach((function(e){e.forEach((function(e,t){n[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),n.clip()}},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,i=0;i<t.getItemCount();i++){var r=t.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},drawTile:function(t,n,i,r,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(i);r=r||1,t.drawCanvas(a,n,r,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",(function e(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",e);var t=i._calculateSketchCanvasSize();i.sketchCanvas.width=t.x,i.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=t,i.fillRect(e.x,e.y,e.width,e.height),i.restore()}},blendSketch:function(t,n,i,r){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){t=o.opacity,r=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,r&&(this.context.globalCompositeOperation=r),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var s=(i=o.translate)instanceof e.Point?i:new e.Point(0,0),u=0,l=0;if(i){var c=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;u=Math.round(c/2),l=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,s.x-u*n,s.y-l*n,(this.canvas.width+2*u)*n,(this.canvas.height+2*l)*n,-u,-l,this.canvas.width+2*u,this.canvas.height+2*l)}this.context.restore()}},drawDebugInfo:function(t,n,i,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),0===r.viewport.degrees&&r.getRotation(!0)%360===0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,u=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,u),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-u),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!==0&&this._restoreRotationChanges(),0===r.viewport.degrees&&r.getRotation(!0)%360===0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},setImageSmoothingEnabled:function(e){this.useCanvas&&(this._imageSmoothingEnabled=e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(t.useSketch);i.save(),i.translate(n.x,n.y),this.viewer.viewport.flipped?(i.rotate(Math.PI/180*-t.degrees),i.scale(-1,1)):i.rotate(Math.PI/180*t.degrees),i.translate(-n.x,-n.y)},_flip:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(t.useSketch);i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*t),y:Math.round(n.y*t)}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-i/2,n,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),i=1/this.getZoom(t),r=i/this.getAspectRatio();return new e.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,i,r,o,a,s,u=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?u:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(r=1/(i=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(u.x-r/2,u.y-o/2,r,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(n).divide(this._containerInnerSize.x*i),l.plus(s)):l},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-r+i,s=o-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(this.wrapVertical);else{var u=this.visibilityRatio*n.height,l=n.y+n.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-l+u,f=c-n.y-u;u>this._contentBoundsNoRotate.height?n.y+=(h+f)/2:f<0?n.y+=f:h>0&&(n.y+=h)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(e),(i.x!==r.x||i.y!==r.y||e)&&this.fitBounds(r.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var i=(n=n||{}).immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var u=1/s.width;if(r){var l=s.getAspectRatio(),c=this._applyZoomConstraints(u);u!==c&&(u=c,s.width=1/u,s.x=a.x-s.width/2,s.height=s.width/l,s.y=a.y-s.height/2),a=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(a,!0),this.zoomTo(u,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),f=this.getZoom();if(0===f||Math.abs(u/f-1)<1e-8)return this.zoomTo(u,!0),this.panTo(a,i);var d=(s=s.rotate(-this.getRotation())).getTopLeft().times(u).minus(h.getTopLeft().times(f)).divide(u-f);return this.zoomTo(u,d,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var i=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,i){var r=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint((function(){r.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:i}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var i=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}}var r=this._imageToViewportDelta(t,n);return r.x+=this._contentBoundsNoRotate.x,r.y+=this._contentBoundsNoRotate.y,r},imageToViewportRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,i,r,!0)}}var s=this.imageToViewportCoordinates(o.x,o.y),u=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,u.x,u.y,o.degrees)},viewportToImageRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,i,r,!0)}}var s=this.viewportToImageCoordinates(o.x,o.y),u=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,u.x,u.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var i=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this}}}(OpenSeadragon),function(e){function t(e,t,i,r,o,a,u,l,c){var h=u.getBoundingBox().getTopLeft(),f=u.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:r,opacity:o,visibility:a,drawArea:u,topleft:h,bottomright:f,currenttime:l,best:c}),s(e.coverage,r),s(e.loadingCoverage,r);for(var d=e._getCornerTiles(r,h,f),p=d.topLeft,v=d.bottomRight,y=e.source.getNumTiles(r),g=e.viewport.pixelFromPoint(e.viewport.getCenter()),m=p.x;m<=v.x;m++)for(var b=p.y;b<=v.y;b++){if(!e.wrapHorizontal&&!e.wrapVertical){var w=e.source.getTileBounds(r,m,b);if(null===u.intersection(w))continue}c=n(e,i,t,m,b,r,o,a,g,y,l,c)}return c}function n(t,n,r,s,u,l,c,h,f,d,p,v){var y=function(t,n,i,r,o,a,s,u,l,c){var h,f,d,p,v,y,g,m,b;a[i]||(a[i]={});a[i][t]||(a[i][t]={});a[i][t][n]||(h=(u.x+t%u.x)%u.x,f=(u.y+n%u.y)%u.y,d=o.getTileBounds(i,h,f),p=o.getTileBounds(i,h,f,!0),v=o.tileExists(i,h,f),y=o.getTileUrl(i,h,f),r.loadTilesWithAjax?(g=o.getTileAjaxHeaders(i,h,f),e.isPlainObject(r.ajaxHeaders)&&(g=e.extend({},r.ajaxHeaders,g))):g=null,m=o.getContext2D?o.getContext2D(i,h,f):void 0,d.x+=(t-h)/u.x,d.y+=c/l*((n-f)/u.y),b=new e.Tile(i,t,n,d,v,y,m,r.loadTilesWithAjax,g,p),h===u.x-1&&(b.isRightMost=!0),f===u.y-1&&(b.isBottomMost=!0),a[i][t][n]=b);return(b=a[i][t][n]).lastTouchTime=s,b}(s,u,l,t,t.source,t.tilesMatrix,p,d,t._worldWidthCurrent,t._worldHeightCurrent),g=r;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:y}),a(t.coverage,l,s,u,!1);var m=y.loaded||y.loading||o(t.loadingCoverage,l,s,u);if(a(t.loadingCoverage,l,s,u,m),!y.exists)return v;if(n&&!g&&(o(t.coverage,l,s,u)?a(t.coverage,l,s,u,!0):g=!0),!g)return v;if(function(t,n,i,r,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var u=t.bounds.getSize();u.x*=a._scaleSpring.current.value,u.y*=a._scaleSpring.current.value;var l=i.pixelFromPointNoRotate(s,!0),c=i.pixelFromPointNoRotate(s,!1),h=i.deltaPixelsFromPointsNoRotate(u,!0),f=i.deltaPixelsFromPointsNoRotate(u,!1),d=c.plus(f.divide(2)),p=r.squaredDistanceTo(d);n||(h=h.plus(new e.Point(1,1)));t.isRightMost&&a.wrapHorizontal&&(h.x+=.75);t.isBottomMost&&a.wrapVertical&&(h.y+=.75);t.position=l,t.size=h,t.squaredDistance=p,t.visibility=o}(y,t.source.tileOverlap,t.viewport,f,h,t),!y.loaded)if(y.context2D)i(t,y);else{var b=t._tileCache.getImageRecord(y.cacheKey);if(b)i(t,y,b.getImage())}y.loaded?function(e,t,n,i,r,o,s){var u,l,c=1e3*e.blendTime;t.blendStart||(t.blendStart=s);u=s-t.blendStart,l=c?Math.min(1,u/c):1,e.alwaysBlend&&(l*=o);if(t.opacity=l,e.lastDrawn.push(t),1===l)a(e.coverage,r,n,i,!0),e._hasOpaqueTile=!0;else if(u<c)return!0;return!1}(t,y,s,u,l,c,p)&&(t._needsDraw=!0):y.loading?t._tilesLoading++:m||(v=function(e,t){if(!e)return t;if(t.visibility>e.visibility)return t;if(t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance)return t;return e}(v,y));return v}function i(e,t,n,i,r){var o=0;function a(){return o++,s}function s(){0===--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:i,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:r,image:n,getCompletionCallback:a}),a()()}function r(e,t,n,i){var r,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===i){for(a in r=e[t])if(Object.prototype.hasOwnProperty.call(r,a))for(s in o=r[a])if(Object.prototype.hasOwnProperty.call(o,s)&&!o[s])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][i]||!0===e[t][n][i]}function o(e,t,n,i){return void 0===n||void 0===i?r(e,t+1):r(e,t+1,2*n,2*i)&&r(e,t+1,2*n,2*i+1)&&r(e,t+1,2*n+1,2*i)&&r(e,t+1,2*n+1,2*i+1)}function a(t,n,i,r,o){t[n]?(t[n][i]||(t[n][i]={}),t[n][i][r]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function s(e,t){e[t]={}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var i=t.x||0;delete t.x;var r=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var u=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:u,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(e||t||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var i=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,r=this._clip.times(i);n=new e.Rect(n.x+r.x,n.y+r.y,r.width,r.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(t,n,i){var r;return t instanceof e.Point?(i=n,r=t):r=new e.Point(t,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(t,n,i){t instanceof e.Point&&(i=n,n=t.y,t=t.x);var r=this._imageToViewportDelta(t,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(t,n,i,r,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),u=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,u.x,u.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,i,r,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,i,r);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),u=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,u.x,u.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var n=function(t){return t.map((function(t){try{if(function(t){return t instanceof e.Point||"number"===typeof t.x&&"number"===typeof t.y}(t))return{x:t.x,y:t.y};throw new Error}catch(n){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return n(e)}))}catch(i){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(i),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(t,n,i){n=n||e.Placement.CENTER;var r=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,u=1,l=1;if(this._clip&&(o=this._clip.getAspectRatio(),u=this._clip.width/this.source.dimensions.x,l=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var c=t.height/l,h=0;r.isHorizontallyCentered?h=(t.width-t.height*o)/2:r.isRight&&(h=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+h,t.y-s),i),this.setHeight(c,i)}else{var f=t.width/u,d=0;r.isVerticallyCentered?d=(t.height-t.width/o)/2:r.isBottom&&(d=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+d),i),this.setWidth(f,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var n=this.viewport,o=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var a=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(o=o.intersection(a)))return}for(var s=this._getLevelsInterval(),u=s.lowestLevel,l=s.highestLevel,c=null,h=!1,f=e.now(),d=l;d>=u;d--){var p=!1,v=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(d),!0).x*this._scaleSpring.current.value;if(d===u||!h&&v>=this.minPixelRatio)p=!0,h=!0;else if(!h)continue;var y=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(d),!1).x*this._scaleSpring.current.value,g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,m=this.immediateRender?1:g;if(c=t(this,h,p,d,Math.min(1,(v-.5)/.5),m/Math.abs(m-y),o,f,c),r(this.coverage,d))break}!function(t,n){if(0===t.opacity||0===n.length&&!t.placeholderFillStyle)return;var i,r,o,a=n[0];a&&(i=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&a._hasTransparencyChannel());var s,u=t.viewport.getZoom(!0),l=t.viewportToImageZoom(u);n.length>1&&l>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360===0&&e.supportsCanvas&&(i=!0,r=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(r,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));i&&(r||(s=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox(),t._drawer.viewer.viewport.getFlip()&&(0===t.viewport.degrees&&t.getRotation(!0)%360===0||(s.x=t._drawer.viewer.container.clientWidth-(s.x+s.width))),s=s.times(e.pixelDensityRatio)),t._drawer._clear(!0,s));r||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:i}),t.getRotation(!0)%360!==0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:i}),0===t.viewport.degrees&&t.getRotation(!0)%360===0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip());var c=!1;if(t._clip){t._drawer.saveContext(i);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var f=t._drawer.viewportToDrawerRectangle(h);r&&(f=f.times(r)),o&&(f=f.translate(o)),t._drawer.setClip(f,i),c=!0}if(t._croppingPolygons){t._drawer.saveContext(i);try{var d=t._croppingPolygons.map((function(e){return e.map((function(e){var n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),i=t._drawer.viewportCoordToDrawerCoord(n);return r&&(i=i.times(r)),i}))}));t._drawer.clipWithPolygons(d,i)}catch(g){e.console.error(g)}c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var p=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));r&&(p=p.times(r)),o&&(p=p.translate(o));var v=null;v="function"===typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(p,v,i)}for(var y=n.length-1;y>=0;y--)a=n[y],t._drawer.drawTile(a,t._drawingHandler,i,r,o),a.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});c&&t._drawer.restoreContext(i);r||(t.getRotation(!0)%360!==0&&t._drawer._restoreRotationChanges(i),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(i));i&&(r&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!==0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:r,translate:o,compositeOperation:t.compositeOperation,bounds:s}),r&&(t.getRotation(!0)%360!==0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1)));r||0===t.viewport.degrees&&t.getRotation(!0)%360===0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip();!function(t,n){if(t.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{t._drawer.drawDebugInfo(r,n.length,i,t)}catch(g){e.console.error(g)}}}(t,n)}(this,this.lastDrawn),c&&!c.context2D?(!function(t,n,r){n.loading=!0,t._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(o,a,s){!function(t,n,r,o,a,s){if(!o)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,a),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:r,message:a,tileRequest:s}),n.loading=!1,void(n.exists=!1);if(r<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var u=function(){var e=t.source.getClosestLevel();i(t,n,o,e,s)};t._midDraw?window.setTimeout(u,1):u()}(t,n,r,o,a,s)},abort:function(){n.loading=!1}})}(this,c,f),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,i){var r,o,a,s;this.wrapHorizontal?(r=e.positiveModulo(n.x,1),o=e.positiveModulo(i.x,1)):(r=Math.max(0,n.x),o=Math.min(1,i.x));var u=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,u),s=e.positiveModulo(i.y,u)):(a=Math.max(0,n.y),s=Math.min(u,i.y));var l=this.source.getTileAtPoint(t,new e.Point(r,a)),c=this.source.getTileAtPoint(t,new e.Point(o,s)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(l.x+=h.x*Math.floor(n.x),c.x+=h.x*Math.floor(i.x)),this.wrapVertical&&(l.y+=h.y*Math.floor(n.y/u),c.y+=h.y*Math.floor(i.y/u)),{topLeft:l,bottomRight:c}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){e.console.assert(i,"[TileCache.cacheTile] options is required"),e.console.assert(i.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(i.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(i.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=i.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[i.tile.cacheKey];if(a||(e.console.assert(i.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[i.tile.cacheKey]=new n({image:i.image}),this._imagesLoadedCount++),a.addTile(i.tile),i.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,u,l,c,h,f,d=null,p=-1,v=null,y=this._tilesLoaded.length-1;y>=0;y--)(s=(f=this._tilesLoaded[y]).tile).level<=r||s.beingDrawn||(d?(c=s.lastTouchTime,u=d.lastTouchTime,h=s.level,l=d.level,(c<u||c==u&&h>l)&&(d=s,p=y,v=f)):(d=s,p=y,v=f));d&&p>=0&&(this._unloadTile(v),o=p)}this._tilesLoaded[o]=new t({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(n=this._tilesLoaded[i]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,i=t.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:i,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,i=(t=t||{}).immediately||!1,r=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,u=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var l,c,h,f,d,p=0,v=0;this.setAutoRefigureSizes(!1);for(var y=0;y<this._items.length;y++)y&&y%n===0&&("horizontal"===r?(v+=u,p=0):(p+=u,v=0)),f=(h=(c=(l=this._items[y]).getBounds()).width>c.height?s:s*(c.width/c.height))*(c.height/c.width),d=new e.Point(p+(s-h)/2,v+(s-f)/2),l.setPosition(d,i),l.setWidth(h,i),"horizontal"===r?p+=u:v+=u;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var a=r.getClippedBounds().getBoundingBox(),s=a.x,u=a.y,l=a.x+a.width,c=a.y+a.height,h=1;h<this._items.length;h++)o=(r=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),a=r.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),u=Math.min(u,a.y),l=Math.max(l,a.x+a.width),c=Math.max(c,a.y+a.height);this._homeBounds=new e.Rect(s,u,l-s,c-u),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(21)},function(e,t,n){"use strict";var i=n(24),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=d(n);r&&r!==p&&e(t,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!i||!i[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{l(t,g,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=new WeakMap,r=new WeakMap;function o(e){var t=i.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function a(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"===typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function s(e,t){i.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var n=Object.keys(t),r=0;r<n.length;++r){var o=n[r];o in this||Object.defineProperty(this,o,u(o))}}function u(e){return{get:function(){return o(this).event[e]},set:function(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e){return{value:function(){var t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function c(e){if(null==e||e===Object.prototype)return s;var t=r.get(e);return null==t&&(t=function(e,t){var n=Object.keys(t);if(0===n.length)return e;function i(t,n){e.call(this,t,n)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var r=0;r<n.length;++r){var o=n[r];if(!(o in e.prototype)){var a="function"===typeof Object.getOwnPropertyDescriptor(t,o).value;Object.defineProperty(i.prototype,o,a?l(o):u(o))}}return i}(c(Object.getPrototypeOf(e)),e),r.set(e,t)),t}function h(e){return o(e).immediateStopped}function f(e,t){o(e).passiveListener=t}s.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var e=o(this);e.stopped=!0,"function"===typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation:function(){var e=o(this);e.stopped=!0,e.immediateStopped=!0,"function"===typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){a(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(e){if(e){var t=o(this);t.stopped=!0,"boolean"===typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(e){e||a(o(this))},initEvent:function(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),r.set(window.Event.prototype,s));var d=new WeakMap;function p(e){return null!==e&&"object"===typeof e}function v(e){var t=d.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function y(e,t){Object.defineProperty(e,"on".concat(t),function(e){return{get:function(){for(var t=v(this).get(e);null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set:function(t){"function"===typeof t||p(t)||(t=null);for(var n=v(this),i=null,r=n.get(e);null!=r;)3===r.listenerType?null!==i?i.next=r.next:null!==r.next?n.set(e,r.next):n.delete(e):i=r,r=r.next;if(null!==t){var o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===i?n.set(e,o):i.next=o}},configurable:!0,enumerable:!0}}(t))}function g(e){function t(){m.call(this)}t.prototype=Object.create(m.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(var n=0;n<e.length;++n)y(t.prototype,e[n]);return t}function m(){if(!(this instanceof m)){if(1===arguments.length&&Array.isArray(arguments[0]))return g(arguments[0]);if(arguments.length>0){for(var e=new Array(arguments.length),t=0;t<arguments.length;++t)e[t]=arguments[t];return g(e)}throw new TypeError("Cannot call a class as a function")}d.set(this,new Map)}m.prototype={addEventListener:function(e,t,n){if(null!=t){if("function"!==typeof t&&!p(t))throw new TypeError("'listener' should be a function or an object.");var i=v(this),r=p(n),o=(r?Boolean(n.capture):Boolean(n))?1:2,a={listener:t,listenerType:o,passive:r&&Boolean(n.passive),once:r&&Boolean(n.once),next:null},s=i.get(e);if(void 0!==s){for(var u=null;null!=s;){if(s.listener===t&&s.listenerType===o)return;u=s,s=s.next}u.next=a}else i.set(e,a)}},removeEventListener:function(e,t,n){if(null!=t)for(var i=v(this),r=(p(n)?Boolean(n.capture):Boolean(n))?1:2,o=null,a=i.get(e);null!=a;){if(a.listener===t&&a.listenerType===r)return void(null!==o?o.next=a.next:null!==a.next?i.set(e,a.next):i.delete(e));o=a,a=a.next}},dispatchEvent:function(e){if(null==e||"string"!==typeof e.type)throw new TypeError('"event.type" should be a string.');var t=v(this),n=e.type,i=t.get(n);if(null==i)return!0;for(var r=function(e,t){return new(c(Object.getPrototypeOf(t)))(e,t)}(this,e),a=null;null!=i;){if(i.once?null!==a?a.next=i.next:null!==i.next?t.set(n,i.next):t.delete(n):a=i,f(r,i.passive?i.listener:null),"function"===typeof i.listener)try{i.listener.call(this,r)}catch(s){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(s)}else 3!==i.listenerType&&"function"===typeof i.listener.handleEvent&&i.listener.handleEvent(r);if(h(r))break;i=i.next}return f(r,null),function(e,t){o(e).eventPhase=t}(r,0),function(e,t){o(e).currentTarget=t}(r,null),!r.defaultPrevented}},Object.defineProperty(m.prototype,"constructor",{value:m,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(m.prototype,window.EventTarget.prototype)},,function(e,t,n){"use strict";var i=n(15),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}function k(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var x=_.prototype=new k;x.constructor=_,i(x,w.prototype),x.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!O.hasOwnProperty(i)&&(r[i]=t[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:T.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,C=[];function j(e,t,n,i){if(C.length){var r=C.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function B(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function R(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return i(r,t,""===n?"."+D(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+D(s=t[l],l);u+=e(s,c,i,r)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+D(s,l++),i,r);else if("object"===s)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return u}(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,i,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),i.push(e))}function F(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),R(e,L,t=j(t,o,i,r)),B(t)}var M={current:null};function N(){var e=M.current;if(null===e)throw Error(g(321));return e}var z={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return F(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;R(e,A,t=j(null,null,t,n)),B(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=l,t.PureComponent=_,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var r=i({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!O.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var i=n(8),r=n(15),o=n(22);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,h=null,f={onError:function(e){u=!0,l=e}};function d(e,t,n,i,r,o,a,c,h){u=!1,l=null,s.apply(f,arguments)}var p=null,v=null,y=null;function g(e,t,n){var i=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,i,r,o,s,f,p){if(d.apply(this,arguments),u){if(!u)throw Error(a(198));var v=l;u=!1,l=null,c||(c=!0,h=v)}}(i,t,void 0,e),e.currentTarget=null}var m=null,b={};function w(){if(m)for(var e in b){var t=b[e],n=m.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!_[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in _[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,u=i;if(x.hasOwnProperty(u))throw Error(a(99,u));x[u]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&k(l[r],s,u);r=!0}else o.registrationName?(k(o.registrationName,s,u),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function k(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,S[e]=t.eventTypes[n].dependencies}var _=[],x={},T={},S={};function O(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&w()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=null,P=null,C=null;function j(e){if(e=v(e)){if("function"!==typeof I)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),I(e.stateNode,e.type,t))}}function B(e){P?C?C.push(e):C=[e]:P=e}function R(){if(P){var e=P,t=C;if(C=P=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function D(e,t){return e(t)}function A(e,t,n,i,r){return e(t,n,i,r)}function L(){}var F=D,M=!1,N=!1;function z(){null===P&&null===C||(L(),R())}function U(e,t,n){if(N)return e(t,n);N=!0;try{return F(e,t,n)}finally{N=!1,z()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},$={};function G(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,Z);q[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,Z);q[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,Z);q[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,i){var r=q.hasOwnProperty(t)?q[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!H.call($,e)||!H.call(W,e)&&(V.test(e)?$[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,ie=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,ue=J?Symbol.for("react.forward_ref"):60112,le=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,he=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,de=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ye(e.type);case de:return ye(e.render);case fe:if(e=1===e._status?e._result:null)return ye(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ye(e.type);n=null,i&&(n=ye(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function me(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function _e(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=me(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Se(e,t){Te(e,t);var n=me(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,me(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function Be(e,t){var n=me(t.value),i=me(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Ae="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Me,Ne=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ae||"innerHTML"in e)e.innerHTML=t;else{for((Me=Me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},He={},We={};function $e(e){if(He[e])return He[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}E&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var Ge=$e("animationend"),qe=$e("animationiteration"),Ye=$e("animationstart"),Ze=$e("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)g(e,t[i],n[i]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(c)throw e=h,c=!1,h=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,i){if(ct.length){var r=ct.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=En(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=ut(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<_.length;u++){var l=_[u];l&&(l=l.extractEvents(i,t,o,r,a))&&(s=it(s,l))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&qt(e,t)}n.set(e,null)}}var vt,yt,gt,mt=!1,bt=[],wt=null,kt=null,_t=null,xt=new Map,Tt=new Map,St=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Et="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Pt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Ct(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=It(t,n,i,r,o),null!==t&&(null!==(t=In(t))&&yt(t)),e):(e.eventSystemFlags|=i,e)}function jt(e){var t=En(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=In(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Bt(e)&&n.delete(t)}function Dt(){for(mt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=In(e.blockedOn))&&vt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Bt(wt)&&(wt=null),null!==kt&&Bt(kt)&&(kt=null),null!==_t&&Bt(_t)&&(_t=null),xt.forEach(Rt),Tt.forEach(Rt)}function At(e,t){e.blockedOn===t&&(e.blockedOn=null,mt||(mt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function Lt(e){function t(t){return At(t,e)}if(0<bt.length){At(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==wt&&At(wt,e),null!==kt&&At(kt,e),null!==_t&&At(_t,e),xt.forEach(t),Tt.forEach(t),n=0;n<St.length;n++)(i=St[n]).blockedOn===e&&(i.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)jt(n),null===n.blockedOn&&St.shift()}var Ft={},Mt=new Map,Nt=new Map,zt=["abort","abort",Ge,"animationEnd",qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ze,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Nt.set(i,t),Mt.set(i,o),Ft[r]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(zt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Vt.length;Ht++)Nt.set(Vt[Ht],0);var Wt=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Gt=!0;function qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Zt.bind(null,t,1,e);break;case 1:i=Kt.bind(null,t,1,e);break;default:i=Xt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Zt(e,t,n,i){M||L();var r=Xt,o=M;M=!0;try{A(r,e,t,n,i)}finally{(M=o)||z()}}function Kt(e,t,n,i){$t(Wt,Xt.bind(null,e,t,n,i))}function Xt(e,t,n,i){if(Gt)if(0<bt.length&&-1<Ot.indexOf(e))e=It(null,e,t,n,i),bt.push(e);else{var r=Qt(e,t,n,i);if(null===r)Pt(e,i);else if(-1<Ot.indexOf(e))e=It(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return wt=Ct(wt,e,t,n,i,r),!0;case"dragenter":return kt=Ct(kt,e,t,n,i,r),!0;case"mouseover":return _t=Ct(_t,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return xt.set(o,Ct(xt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Tt.set(o,Ct(Tt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Pt(e,i),e=ft(e,i,null,t);try{U(dt,e)}finally{ht(e)}}}}function Qt(e,t,n,i){if(null!==(n=En(n=ut(i)))){var r=Je(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ft(e,i,n,t);try{U(dt,e)}finally{ht(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function un(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var i=0;i<t.length;i++)pt(t[i],e,n)}function ln(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,i=hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hn(i)}}function dn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=null,yn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function mn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+xn,Sn="__reactEventHandlers$"+xn,On="__reactContainere$"+xn;function En(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_n(e);null!==e;){if(n=e[Tn])return n;e=_n(e)}return t}n=(e=n).parentNode}return null}function In(e){return!(e=e[Tn]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Cn(e){return e[Sn]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Bn(e,t){var n=e.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Rn(e,t,n){(t=Bn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function An(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Bn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&An(e._targetInst,null,e)}function Fn(e){rt(e,Dn)}var Mn=null,Nn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Nn,i=n.length,r="value"in Mn?Mn.value:Mn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return zn=r.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Hn(){return!1}function Wn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Hn,this.isPropagationStopped=Hn,this}function $n(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=$n,e.release=Gn}r(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,qn(n),n},qn(Wn);var Yn=Wn.extend({data:null}),Zn=Wn.extend({data:null}),Kn=[9,13,27,32],Xn=E&&"CompositionEvent"in window,Qn=null;E&&"documentMode"in document&&(Qn=document.documentMode);var Jn=E&&"TextEvent"in window&&!Qn,ei=E&&(!Xn||Qn&&8<Qn&&11>=Qn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Xn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Un()):(Nn="value"in(Mn=i)?Mn.value:Mn.textContent,ai=!0)),o=Yn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Fn(o),r=o):r=null,(e=Jn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Xn&&ri(e,t)?(e=Un(),zn=Nn=Mn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Zn.getPooled(ni.beforeInput,t,n,i)).data=e,Fn(t)):t=null,null===r?t:null===t?r:[r,t]}},ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ui[e.type]:"textarea"===t}var ci={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(e,t,n){return(e=Wn.getPooled(ci.change,e,t,n)).type="change",B(n),Fn(e),e}var fi=null,di=null;function pi(e){st(e)}function vi(e){if(ke(Pn(e)))return e}function yi(e,t){if("change"===e)return t}var gi=!1;function mi(){fi&&(fi.detachEvent("onpropertychange",bi),di=fi=null)}function bi(e){if("value"===e.propertyName&&vi(di))if(e=hi(di,e,ut(e)),M)st(e);else{M=!0;try{D(pi,e)}finally{M=!1,z()}}}function wi(e,t,n){"focus"===e?(mi(),di=n,(fi=t).attachEvent("onpropertychange",bi)):"blur"===e&&mi()}function ki(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vi(di)}function _i(e,t){if("click"===e)return vi(t)}function xi(e,t){if("input"===e||"change"===e)return vi(t)}E&&(gi=lt("input")&&(!document.documentMode||9<document.documentMode));var Ti={eventTypes:ci,_isInputEventSupported:gi,extractEvents:function(e,t,n,i){var r=t?Pn(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=yi;else if(li(r))if(gi)a=xi;else{a=ki;var s=wi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=_i);if(a&&(a=a(e,t)))return hi(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ee(r,"number",r.value)}},Si=Wn.extend({view:null,detail:null}),Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Oi[e])&&!!t[e]}function Ii(){return Ei}var Pi=0,Ci=0,ji=!1,Bi=!1,Ri=Si.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ii,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pi;return Pi=e.screenX,ji?"mousemove"===e.type?e.screenX-t:0:(ji=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ci;return Ci=e.screenY,Bi?"mousemove"===e.type?e.screenY-t:0:(Bi=!0,0)}}),Di=Ri.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ai={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Li={eventTypes:Ai,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?En(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ri,u=Ai.mouseLeave,l=Ai.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Di,u=Ai.pointerLeave,l=Ai.pointerEnter,c="pointer");if(e=null==a?o:Pn(a),o=null==t?o:Pn(t),(u=s.getPooled(u,a,n,i)).type=c+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(l,t,n,i)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(i=a)&&c)e:{for(l=c,a=0,e=s=i;e;e=jn(e))a++;for(e=0,t=l;t;t=jn(t))e++;for(;0<a-e;)s=jn(s),a--;for(;0<e-a;)l=jn(l),e--;for(;a--;){if(s===l||s===l.alternate)break e;s=jn(s),l=jn(l)}s=null}else s=null;for(l=s,s=[];i&&i!==l&&(null===(a=i.alternate)||a!==l);)s.push(i),i=jn(i);for(i=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)i.push(c),c=jn(c);for(c=0;c<s.length;c++)An(s[c],"bubbled",u);for(c=i.length;0<c--;)An(i[c],"captured",n);return 0===(64&r)?[u]:[u,n]}};var Fi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Mi=Object.prototype.hasOwnProperty;function Ni(e,t){if(Fi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Mi.call(t,n[i])||!Fi(e[n[i]],t[n[i]]))return!1;return!0}var zi=E&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Hi=null,Wi=null,$i=!1;function Gi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $i||null==Vi||Vi!==cn(n)?null:("selectionStart"in(n=Vi)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wi&&Ni(Wi,n)?null:(Wi=n,(e=Wn.getPooled(Ui.select,Hi,e,t)).type="select",e.target=Vi,Fn(e),e))}var qi={eventTypes:Ui,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),o=S.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Pn(t):window,e){case"focus":(li(r)||"true"===r.contentEditable)&&(Vi=r,Hi=t,Wi=null);break;case"blur":Wi=Hi=Vi=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":return $i=!1,Gi(n,i);case"selectionchange":if(zi)break;case"keydown":case"keyup":return Gi(n,i)}return null}},Yi=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zi=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ki=Si.extend({relatedTarget:null});function Xi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Si.extend({key:function(e){if(e.key){var t=Qi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ji[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ii,charCode:function(e){return"keypress"===e.type?Xi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Ri.extend({dataTransfer:null}),nr=Si.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ii}),ir=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Ri.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Ft,extractEvents:function(e,t,n,i){var r=Mt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Xi(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Ki;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case Ge:case qe:case Ye:e=Yi;break;case Ze:e=ir;break;case"scroll":e=Si;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Di;break;default:e=Wn}return Fn(t=e.getPooled(r,t,n,i)),t}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Cn,v=In,y=Pn,O({SimpleEventPlugin:or,EnterLeaveEventPlugin:Li,ChangeEventPlugin:Ti,SelectEventPlugin:qi,BeforeInputEventPlugin:si});var ar=[],sr=-1;function ur(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function lr(e,t){sr++,ar[sr]=e.current,e.current=t}var cr={},hr={current:cr},fr={current:!1},dr=cr;function pr(e,t){var n=e.type.contextTypes;if(!n)return cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yr(){ur(fr),ur(hr)}function gr(e,t,n){if(hr.current!==cr)throw Error(a(168));lr(hr,t),lr(fr,n)}function mr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,ye(t)||"Unknown",o));return r({},n,{},i)}function br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,dr=hr.current,lr(hr,e),lr(fr,fr.current),!0}function wr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=mr(e,t,dr),i.__reactInternalMemoizedMergedChildContext=e,ur(fr),ur(hr),lr(hr,e)):ur(fr),lr(fr,n)}var kr=o.unstable_runWithPriority,_r=o.unstable_scheduleCallback,xr=o.unstable_cancelCallback,Tr=o.unstable_requestPaint,Sr=o.unstable_now,Or=o.unstable_getCurrentPriorityLevel,Er=o.unstable_ImmediatePriority,Ir=o.unstable_UserBlockingPriority,Pr=o.unstable_NormalPriority,Cr=o.unstable_LowPriority,jr=o.unstable_IdlePriority,Br={},Rr=o.unstable_shouldYield,Dr=void 0!==Tr?Tr:function(){},Ar=null,Lr=null,Fr=!1,Mr=Sr(),Nr=1e4>Mr?Sr:function(){return Sr()-Mr};function zr(){switch(Or()){case Er:return 99;case Ir:return 98;case Pr:return 97;case Cr:return 96;case jr:return 95;default:throw Error(a(332))}}function Ur(e){switch(e){case 99:return Er;case 98:return Ir;case 97:return Pr;case 96:return Cr;case 95:return jr;default:throw Error(a(332))}}function Vr(e,t){return e=Ur(e),kr(e,t)}function Hr(e,t,n){return e=Ur(e),_r(e,t,n)}function Wr(e){return null===Ar?(Ar=[e],Lr=_r(Er,Gr)):Ar.push(e),Br}function $r(){if(null!==Lr){var e=Lr;Lr=null,xr(e)}Gr()}function Gr(){if(!Fr&&null!==Ar){Fr=!0;var e=0;try{var t=Ar;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ar=null}catch(n){throw null!==Ar&&(Ar=Ar.slice(e+1)),_r(Er,$r),n}finally{Fr=!1}}}function qr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zr={current:null},Kr=null,Xr=null,Qr=null;function Jr(){Qr=Xr=Kr=null}function eo(e){var t=Zr.current;ur(Zr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Kr=e,Qr=Xr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ca=!0),e.firstContext=null)}function io(e,t){if(Qr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xr){if(null===Kr)throw Error(a(308));Xr=t,Kr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xr=Xr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,h=null,f=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<i){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=v,h=l):d=d.next=v,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(s,p.suspenseConfig);e:{var y=e,g=p;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(y=g.payload)){l=y.call(v,l,s);break e}l=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=g.payload)?y.call(v,l,s):y)||void 0===s)break e;l=r({},l,s);break e;case 2:ro=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?h=l:d.next=f,o.baseState=h,o.baseQueue=d,au(c),e.expirationTime=c,e.memoizedState=l}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=K.ReactCurrentBatchConfig,po=(new i.Component).refs;function vo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Gs(),r=fo.suspense;(r=so(i=qs(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),uo(e,r),Ys(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Gs(),r=fo.suspense;(r=so(i=qs(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),uo(e,r),Ys(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gs(),i=fo.suspense;(i=so(n=qs(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),Ys(e,n)}};function go(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ni(n,i)||!Ni(r,o))}function mo(e,t,n){var i=!1,r=cr,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=vr(t)?dr:hr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?pr(e,r):cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=vr(t)?dr:hr.current,r.context=pr(e,o)),co(e,n,r,i),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&yo.enqueueReplaceState(r,r.state,null),co(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var ko=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===po&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=Pu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=_o(e,t,n),i.return=e,i):((i=Eu(n.type,n.key,n.props,null,e.mode,i)).ref=_o(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Iu(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Pu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Eu(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case te:return(t=Cu(t,e.mode,n)).return=e,t}if(ko(t)||ve(t))return(t=Iu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?h(e,t,n.props.children,i,r):l(e,t,n,i):null;case te:return n.key===r?c(e,t,n,i):null}if(ko(n)||ve(n))return null!==r?null:h(e,t,n,i,null);xo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return u(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?h(t,e,i.props.children,r,i.key):l(t,e,i,r);case te:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(ko(i)||ve(i))return h(t,e=e.get(n)||null,i,r,null);xo(t,i)}return null}function v(r,a,s,u){for(var l=null,c=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=d(r,h,s[v],u);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(r,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=y}if(v===s.length)return n(r,h),l;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);v<s.length;v++)null!==(y=p(h,r,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(r,e)})),l}function y(r,s,u,l){var c=ve(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(r,v,m.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(r,v),s=o(b,s,y),null===h?c=b:h.sibling=b,h=b,v=g}if(m.done)return n(r,v),c;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(r,m.value,l))&&(s=o(m,s,y),null===h?c=m:h.sibling=m,h=m);return c}for(v=i(r,v);!m.done;y++,m=u.next())null!==(m=p(v,r,y,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?c=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(r,e)})),c}return function(e,i,o,u){var l="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=i;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(i=r(l,o.props.children)).return=e,e=i;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(i=r(l,o.props)).ref=_o(e,l,o),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((i=Iu(o.props.children,e.mode,u,o.key)).return=e,e=i):((u=Eu(o.type,o.key,o.props,null,e.mode,u)).ref=_o(e,i,o),u.return=e,e=u)}return s(e);case te:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Cu(o,e.mode,u)).return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Pu(o,e.mode,u)).return=e,e=i),s(e);if(ko(o))return v(e,i,o,u);if(ve(o))return y(e,i,o,u);if(c&&xo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var So=To(!0),Oo=To(!1),Eo={},Io={current:Eo},Po={current:Eo},Co={current:Eo};function jo(e){if(e===Eo)throw Error(a(174));return e}function Bo(e,t){switch(lr(Co,t),lr(Po,e),lr(Io,Eo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ur(Io),lr(Io,t)}function Ro(){ur(Io),ur(Po),ur(Co)}function Do(e){jo(Co.current);var t=jo(Io.current),n=Fe(t,e.type);t!==n&&(lr(Po,e),lr(Io,n))}function Ao(e){Po.current===e&&(ur(Io),ur(Po))}var Lo={current:0};function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mo(e,t){return{responder:e,props:t}}var No=K.ReactCurrentDispatcher,zo=K.ReactCurrentBatchConfig,Uo=0,Vo=null,Ho=null,Wo=null,$o=!1;function Go(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function Yo(e,t,n,i,r,o){if(Uo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,No.current=null===e||null===e.memoizedState?ga:ma,e=n(i,r),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Ho=null,t.updateQueue=null,No.current=ba,e=n(i,r)}while(t.expirationTime===Uo)}if(No.current=ya,t=null!==Ho&&null!==Ho.next,Uo=0,Wo=Ho=Vo=null,$o=!1,t)throw Error(a(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Ko(){if(null===Ho){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Wo?Vo.memoizedState:Wo.next;if(null!==t)Wo=t,Ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Wo?Vo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Xo(e,t){return"function"===typeof t?t(e):t}function Qo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Ho,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var u=s=o=null,l=r;do{var c=l.expirationTime;if(c<Uo){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=i):u=u.next=h,c>Vo.expirationTime&&(Vo.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),i=l.eagerReducer===e?l.eagerState:e(i,l.action);l=l.next}while(null!==l&&l!==r);null===u?o=i:u.next=s,Fi(i,t.memoizedState)||(Ca=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Fi(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=va.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Ko().memoizedState}function ia(e,t,n,i){var r=Zo();Vo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Ko();i=void 0===i?null:i;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==i&&qo(i,a.deps))return void ta(t,n,o,i)}Vo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)}function ca(){}function ha(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Ko();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&qo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Ko();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&qo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var i=zr();Vr(98>i?98:i,(function(){e(!0)})),Vr(97<i?97:i,(function(){var i=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=i}}))}function va(e,t,n){var i=Gs(),r=fo.suspense;r={expirationTime:i=qs(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Vo||null!==o&&o===Vo)$o=!0,r.expirationTime=Uo,Vo.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Fi(s,a))return}catch(u){}Ys(e,i)}}var ya={readContext:io,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useResponder:Go,useDeferredValue:Go,useTransition:Go},ga={readContext:io,useCallback:ha,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Zo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=va.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Mo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ma={readContext:io,useCallback:fa,useContext:io,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:da,useReducer:Qo,useRef:na,useState:function(){return Qo(Xo)},useDebugValue:ca,useResponder:Mo,useDeferredValue:function(e,t){var n=Qo(Xo),i=n[0],r=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qo(Xo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:io,useCallback:fa,useContext:io,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:da,useReducer:Jo,useRef:na,useState:function(){return Jo(Xo)},useDebugValue:ca,useResponder:Mo,useDeferredValue:function(e,t){var n=Jo(Xo),i=n[0],r=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{r(e)}finally{zo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jo(Xo),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},wa=null,ka=null,_a=!1;function xa(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(_a){var t=ka;if(t){var n=t;if(!Ta(e,t)){if(!(t=kn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,_a=!1,void(wa=e);xa(wa,n)}wa=e,ka=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,_a=!1,wa=e}}function Oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Ea(e){if(e!==wa)return!1;if(!_a)return Oa(e),_a=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!mn(t,e.memoizedProps))for(t=ka;t;)xa(e,t),t=kn(t.nextSibling);if(Oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ka=kn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ka=null}}else ka=wa?kn(e.stateNode.nextSibling):null;return!0}function Ia(){ka=wa=null,_a=!1}var Pa=K.ReactCurrentOwner,Ca=!1;function ja(e,t,n,i){t.child=null===e?Oo(t,null,n,i):So(t,e.child,n,i)}function Ba(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Yo(e,t,n,i,o,r),null===e||Ca?(t.effectTag|=1,ja(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ya(e,t,r))}function Ra(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Su(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Eu(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Da(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Ni)(r,i)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=Ou(a,i)).ref=t.ref,e.return=t,t.child=e)}function Da(e,t,n,i,r,o){return null!==e&&Ni(e.memoizedProps,i)&&e.ref===t.ref&&(Ca=!1,r<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):La(e,t,n,i,o)}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,i,r){var o=vr(n)?dr:hr.current;return o=pr(t,o),no(t,r),n=Yo(e,t,n,i,o,r),null===e||Ca?(t.effectTag|=1,ja(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ya(e,t,r))}function Fa(e,t,n,i,r){if(vr(n)){var o=!0;br(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),mo(t,n,i),wo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=io(l):l=pr(t,l=vr(n)?dr:hr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&bo(t,a,i,l),ro=!1;var f=t.memoizedState;a.state=f,co(t,i,a,r),u=t.memoizedState,s!==i||f!==u||fr.current||ro?("function"===typeof c&&(vo(t,n,c,i),u=t.memoizedState),(s=ro||go(t,n,s,i,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=l,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yr(t.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=io(l):l=pr(t,l=vr(n)?dr:hr.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&bo(t,a,i,l),ro=!1,u=t.memoizedState,a.state=u,co(t,i,a,r),f=t.memoizedState,s!==i||u!==f||fr.current||ro?("function"===typeof c&&(vo(t,n,c,i),f=t.memoizedState),(c=ro||go(t,n,s,i,u,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),i=!1);return Ma(e,t,n,i,o,r)}function Ma(e,t,n,i,r,o){Aa(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&wr(t,n,!1),Ya(e,t,o);i=t.stateNode,Pa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):ja(e,t,s,o),t.memoizedState=i.state,r&&wr(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?gr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gr(0,t.context,!1),Bo(e,t.containerInfo)}var za,Ua,Va,Ha={dehydrated:null,retryTime:0};function Wa(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((i=0!==(64&t.effectTag))||(i=0!==(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),lr(Lo,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Iu(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Iu(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ha,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Oo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Ou(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Ou(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,r}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Iu(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Iu(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ha,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function $a(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ga(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function qa(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ja(e,t,i.children,n),0!==(2&(i=Lo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(lr(Lo,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ga(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Fo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ga(t,!0,n,null,o,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&au(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ka(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vr(t.type)&&yr(),null;case 3:return Ro(),ur(fr),ur(hr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ea(t)||(t.effectTag|=4),null;case 5:Ao(t),n=jo(Co.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=jo(Io.current),Ea(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[Tn]=t,i[Sn]=s,o){case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(e=0;e<Ke.length;e++)qt(Ke[e],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"form":qt("reset",i),qt("submit",i);break;case"details":qt("toggle",i);break;case"input":xe(i,s),qt("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qt("invalid",i),un(n,"onChange");break;case"textarea":je(i,s),qt("invalid",i),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?i.textContent!==l&&(e=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(e=["children",""+l]):T.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":we(i),Oe(i,s,!0);break;case"textarea":we(i),Re(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=u.createElement(o,{is:i.is}):(e=u.createElement(o),"select"===o&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,o),e[Tn]=t,e[Sn]=i,za(e,t),t.stateNode=e,u=an(o,i),o){case"iframe":case"object":case"embed":qt("load",e),l=i;break;case"video":case"audio":for(l=0;l<Ke.length;l++)qt(Ke[l],e);l=i;break;case"source":qt("error",e),l=i;break;case"img":case"image":case"link":qt("error",e),qt("load",e),l=i;break;case"form":qt("reset",e),qt("submit",e),l=i;break;case"details":qt("toggle",e),l=i;break;case"input":xe(e,i),l=_e(e,i),qt("invalid",e),un(n,"onChange");break;case"option":l=Ie(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=r({},i,{value:void 0}),qt("invalid",e),un(n,"onChange");break;case"textarea":je(e,i),l=Ce(e,i),qt("invalid",e),un(n,"onChange");break;default:l=i}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Ne(e,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&ze(e,h):"number"===typeof h&&ze(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&X(e,s,h,u))}switch(o){case"input":we(e),Oe(e,i,!1);break;case"textarea":we(e),Re(e);break;case"option":null!=i.value&&e.setAttribute("value",""+me(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Pe(e,!!i.multiple,n,!1):null!=i.defaultValue&&Pe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=ln)}gn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=jo(Co.current),jo(Io.current),Ea(t)?(n=t.stateNode,i=t.memoizedProps,n[Tn]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Tn]=t,t.stateNode=n)}return null;case 13:return ur(Lo),i=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ea(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Es===ws&&(Es=ks):(Es!==ws&&Es!==ks||(Es=_s),0!==Bs&&null!==Ts&&(Ru(Ts,Os),Du(Ts,Bs)))),(n||i)&&(t.effectTag|=4),null);case 4:return Ro(),null;case 10:return eo(t),null;case 17:return vr(t.type)&&yr(),null;case 19:if(ur(Lo),null===(i=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=i.rendering)){if(o)Za(i,!1);else if(Es!==ws||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Fo(s))){for(t.effectTag|=64,Za(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return lr(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Fo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Za(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Nr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Za(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Nr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Nr(),n.sibling=null,t=Lo.current,lr(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:vr(e.type)&&yr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ro(),ur(fr),ur(hr),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ao(e),null;case 13:return ur(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ur(Lo),null;case 4:return Ro(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ge(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,u,l=t.stateNode;switch(jo(Io.current),e=null,n){case"input":a=_e(l,a),i=_e(l,i),e=[];break;case"option":a=Ie(l,a),i=Ie(l,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Ce(l,a),i=Ce(l,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(l.onclick=ln)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var c=i[s];if(l=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&un(o,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ge(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){mu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Yr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof _u&&_u(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Vr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(o){mu(r,o)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){mu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=ln));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,h=l;;)if(as(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(u=i,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Te(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],u=o[r+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Ne(n,u):"children"===s?ze(n,u):X(n,s,u,t)}switch(e){case"input":Se(n,i);break;case"textarea":Be(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Pe(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Pe(n,!!i.multiple,i.defaultValue,!0):Pe(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ds=Nr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(a(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var i=wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ls||(Ls=!0,Fs=i),es(e,t)},n}function vs(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Ms?Ms=new Set([this]):Ms.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ys,gs=Math.ceil,ms=K.ReactCurrentDispatcher,bs=K.ReactCurrentOwner,ws=0,ks=3,_s=4,xs=0,Ts=null,Ss=null,Os=0,Es=ws,Is=null,Ps=1073741823,Cs=1073741823,js=null,Bs=0,Rs=!1,Ds=0,As=null,Ls=!1,Fs=null,Ms=null,Ns=!1,zs=null,Us=90,Vs=null,Hs=0,Ws=null,$s=0;function Gs(){return 0!==(48&xs)?1073741821-(Nr()/10|0):0!==$s?$s:$s=1073741821-(Nr()/10|0)}function qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=zr();if(0===(4&t))return 99===i?1073741823:1073741822;if(0!==(16&xs))return Os;if(null!==n)e=qr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=qr(e,150,100);break;case 97:case 96:e=qr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===Os&&--e,e}function Ys(e,t){if(50<Hs)throw Hs=0,Ws=null,Error(a(185));if(null!==(e=Zs(e,t))){var n=zr();1073741823===t?0!==(8&xs)&&0===(48&xs)?Js(e):(Xs(e),0===xs&&$r()):Xs(e),0===(4&xs)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Zs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ts===r&&(au(t),Es===_s&&Ru(r,Os)),Du(r,t)),r}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Bu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wr(Js.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=Gs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Br&&xr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Wr(Js.bind(null,e)):Hr(i,Qs.bind(null,e),{timeout:10*(1073741821-t)-Nr()}),e.callbackNode=t}}}function Qs(e,t){if($s=0,t)return Au(e,t=Gs()),Xs(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!==(48&xs))throw Error(a(327));if(vu(),e===Ts&&n===Os||nu(e,n),null!==Ss){var i=xs;xs|=16;for(var r=ru();;)try{uu();break}catch(u){iu(e,u)}if(Jr(),xs=i,ms.current=r,1===Es)throw t=Is,nu(e,n),Ru(e,n),Xs(e),t;if(null===Ss)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Es,Ts=null,i){case ws:case 1:throw Error(a(345));case 2:Au(e,2<n?2:n);break;case ks:if(Ru(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hu(r)),1073741823===Ps&&10<(r=Ds+500-Nr())){if(Rs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=bn(fu.bind(null,e),r);break}fu(e);break;case _s:if(Ru(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hu(r)),Rs&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(r=Ks(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Cs?i=10*(1073741821-Cs)-Nr():1073741823===Ps?i=0:(i=10*(1073741821-Ps)-5e3,0>(i=(r=Nr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*gs(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=bn(fu.bind(null,e),i);break}fu(e);break;case 5:if(1073741823!==Ps&&null!==js){o=Ps;var s=js;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Nr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Ru(e,n),e.timeoutHandle=bn(fu.bind(null,e),i);break}}fu(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&xs))throw Error(a(327));if(vu(),e===Ts&&t===Os||nu(e,t),null!==Ss){var n=xs;xs|=16;for(var i=ru();;)try{su();break}catch(r){iu(e,r)}if(Jr(),xs=n,ms.current=i,1===Es)throw n=Is,nu(e,t),Ru(e,t),Xs(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,fu(e),Xs(e)}return null}function eu(e,t){var n=xs;xs|=1;try{return e(t)}finally{0===(xs=n)&&$r()}}function tu(e,t){var n=xs;xs&=-2,xs|=8;try{return e(t)}finally{0===(xs=n)&&$r()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&yr();break;case 3:Ro(),ur(fr),ur(hr);break;case 5:Ao(i);break;case 4:Ro();break;case 13:case 19:ur(Lo);break;case 10:eo(i)}n=n.return}Ts=e,Ss=Ou(e.current,null),Os=t,Es=ws,Is=null,Cs=Ps=1073741823,js=null,Bs=0,Rs=!1}function iu(e,t){for(;;){try{if(Jr(),No.current=ya,$o)for(var n=Vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Uo=0,Wo=Ho=Vo=null,$o=!1,null===Ss||null===Ss.return)return Es=1,Is=t,Ss=null;e:{var r=e,o=Ss.return,a=Ss,s=t;if(t=Os,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Lo.current),h=o;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var v=h.updateQueue;if(null===v){var y=new Set;y.add(u),h.updateQueue=y}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,uo(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var m=r.pingCache;if(null===m?(m=r.pingCache=new ds,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,r,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ye(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Es&&(Es=2),s=Qa(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=t,lo(h,ps(h,u,t));break e;case 1:u=s;var w=h.type,k=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ms||!Ms.has(k)))){h.effectTag|=4096,h.expirationTime=t,lo(h,vs(h,u,t));break e}}h=h.return}while(null!==h)}Ss=cu(Ss)}catch(_){t=_;continue}break}}function ru(){var e=ms.current;return ms.current=ya,null===e?ya:e}function ou(e,t){e<Ps&&2<e&&(Ps=e),null!==t&&e<Cs&&2<e&&(Cs=e,js=t)}function au(e){e>Bs&&(Bs=e)}function su(){for(;null!==Ss;)Ss=lu(Ss)}function uu(){for(;null!==Ss&&!Rr();)Ss=lu(Ss)}function lu(e){var t=ys(e.alternate,e,Os);return e.memoizedProps=e.pendingProps,null===t&&(t=cu(e)),bs.current=null,t}function cu(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0===(2048&Ss.effectTag)){if(t=Ka(t,Ss,Os),1===Os||1!==Ss.childExpirationTime){for(var n=0,i=Ss.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Xa(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Es===ws&&(Es=5),null}function hu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fu(e){var t=zr();return Vr(99,du.bind(null,e,t)),null}function du(e,t){do{vu()}while(null!==zs);if(0!==(48&xs))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=hu(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(Ss=Ts=null,Os=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=xs;xs|=32,bs.current=null,vn=Gt;var s=dn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(O){u=null;break e}var f=0,d=-1,p=-1,v=0,y=0,g=s,m=null;t:for(;;){for(var b;g!==u||0!==c&&3!==g.nodeType||(d=f+c),g!==h||0!==l&&3!==g.nodeType||(p=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)m=g,g=b;for(;;){if(g===s)break t;if(m===u&&++v===c&&(d=f),m===h&&++y===l&&(p=f),null!==(b=g.nextSibling))break;m=(g=m).parentNode}g=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},Gt=!1,As=r;do{try{pu()}catch(O){if(null===As)throw Error(a(330));mu(As,O),As=As.nextEffect}}while(null!==As);As=r;do{try{for(s=e,u=t;null!==As;){var w=As.effectTag;if(16&w&&ze(As.stateNode,""),128&w){var k=As.alternate;if(null!==k){var _=k.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&w){case 2:ls(As),As.effectTag&=-3;break;case 6:ls(As),As.effectTag&=-3,hs(As.alternate,As);break;case 1024:As.effectTag&=-1025;break;case 1028:As.effectTag&=-1025,hs(As.alternate,As);break;case 4:hs(As.alternate,As);break;case 8:cs(s,c=As,u),ss(c)}As=As.nextEffect}}catch(O){if(null===As)throw Error(a(330));mu(As,O),As=As.nextEffect}}while(null!==As);if(_=yn,k=dn(),w=_.focusedElem,u=_.selectionRange,k!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&pn(w)&&(k=u.start,void 0===(_=u.end)&&(_=k),"selectionStart"in w?(w.selectionStart=k,w.selectionEnd=Math.min(_,w.value.length)):(_=(k=w.ownerDocument||document)&&k.defaultView||window).getSelection&&(_=_.getSelection(),c=w.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!_.extend&&s>u&&(c=u,u=s,s=c),c=fn(w,s),h=fn(w,u),c&&h&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==h.node||_.focusOffset!==h.offset)&&((k=k.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>u?(_.addRange(k),_.extend(h.node,h.offset)):(k.setEnd(h.node,h.offset),_.addRange(k))))),k=[];for(_=w;_=_.parentNode;)1===_.nodeType&&k.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<k.length;w++)(_=k[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!vn,yn=vn=null,e.current=n,As=r;do{try{for(w=e;null!==As;){var x=As.effectTag;if(36&x&&os(w,As.alternate,As),128&x){k=void 0;var T=As.ref;if(null!==T){var S=As.stateNode;switch(As.tag){case 5:k=S;break;default:k=S}"function"===typeof T?T(k):T.current=k}}As=As.nextEffect}}catch(O){if(null===As)throw Error(a(330));mu(As,O),As=As.nextEffect}}while(null!==As);As=null,Dr(),xs=o}else e.current=n;if(Ns)Ns=!1,zs=e,Us=t;else for(As=r;null!==As;)t=As.nextEffect,As.nextEffect=null,As=t;if(0===(t=e.firstPendingTime)&&(Ms=null),1073741823===t?e===Ws?Hs++:(Hs=0,Ws=e):Hs=0,"function"===typeof ku&&ku(n.stateNode,i),Xs(e),Ls)throw Ls=!1,e=Fs,Fs=null,e;return 0!==(8&xs)||$r(),null}function pu(){for(;null!==As;){var e=As.effectTag;0!==(256&e)&&ns(As.alternate,As),0===(512&e)||Ns||(Ns=!0,Hr(97,(function(){return vu(),null}))),As=As.nextEffect}}function vu(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Vr(e,yu)}}function yu(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&xs))throw Error(a(331));var t=xs;for(xs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(i){if(null===e)throw Error(a(330));mu(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return xs=t,$r(),!0}function gu(e,t,n){uo(e,t=ps(e,t=Qa(n,t),1073741823)),null!==(e=Zs(e,1073741823))&&Xs(e)}function mu(e,t){if(3===e.tag)gu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gu(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ms||!Ms.has(i))){uo(n,e=vs(n,e=Qa(t,e),1073741823)),null!==(n=Zs(n,1073741823))&&Xs(n);break}}n=n.return}}function bu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Ts===e&&Os===n?Es===_s||Es===ks&&1073741823===Ps&&Nr()-Ds<500?nu(e,Os):Rs=!0:Bu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=qs(t=Gs(),e,null)),null!==(e=Zs(e,t))&&Xs(e)}ys=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||fr.current)Ca=!0;else{if(i<n){switch(Ca=!1,t.tag){case 3:Na(t),Ia();break;case 5:if(Do(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vr(t.type)&&br(t);break;case 4:Bo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,lr(Zr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Wa(e,t,n):(lr(Lo,1&Lo.current),null!==(t=Ya(e,t,n))?t.sibling:null);lr(Lo,1&Lo.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return qa(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),lr(Lo,Lo.current),!i)return null}return Ya(e,t,n)}Ca=!1}}else Ca=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=pr(t,hr.current),no(t,n),r=Yo(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(i)){var o=!0;br(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&vo(t,i,s,e),r.updater=yo,t.stateNode=r,r._reactInternalFiber=t,wo(t,i,e,n),t=Ma(null,t,i,!0,o,n)}else t.tag=0,ja(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"===typeof e)return Su(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===he)return 14}return 2}(r),e=Yr(r,e),o){case 0:t=La(null,t,r,e,n);break e;case 1:t=Fa(null,t,r,e,n);break e;case 11:t=Ba(null,t,r,e,n);break e;case 14:t=Ra(null,t,r,Yr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,La(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Fa(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 3:if(Na(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),co(t,i,null,n),(i=t.memoizedState.element)===r)Ia(),t=Ya(e,t,n);else{if((r=t.stateNode.hydrate)&&(ka=kn(t.stateNode.containerInfo.firstChild),wa=t,r=_a=!0),r)for(n=Oo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ja(e,t,i,n),Ia();t=t.child}return t;case 5:return Do(t),null===e&&Sa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,mn(i,r)?s=null:null!==o&&mn(i,o)&&(t.effectTag|=16),Aa(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ja(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Wa(e,t,n);case 4:return Bo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):ja(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ba(e,t,i,r=t.elementType===i?r:Yr(i,r),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var u=t.type._context;if(lr(Zr,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fi(u,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(s.children===r.children&&!fr.current){t=Ya(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,ja(e,t,i,n),t.child;case 14:return o=Yr(r=t.type,t.pendingProps),Ra(e,t,r,o=Yr(r.type,o),i,n);case 15:return Da(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Yr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vr(i)?(e=!0,br(t)):e=!1,no(t,n),mo(t,i,r),wo(t,i,r,n),Ma(null,t,i,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var ku=null,_u=null;function xu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tu(e,t,n,i){return new xu(e,t,n,i)}function Su(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eu(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Su(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Iu(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Tu(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case le:return(e=Tu(13,n,t,r)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=Tu(19,n,t,r)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case he:s=14;break e;case fe:s=16,i=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Iu(e,t,n,i){return(e=Tu(7,e,i,t)).expirationTime=n,e}function Pu(e,t,n){return(e=Tu(6,e,null,t)).expirationTime=n,e}function Cu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Bu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ru(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Du(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Au(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Lu(e,t,n,i){var r=t.current,o=Gs(),s=fo.suspense;o=qs(o,r,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vr(l)){n=mr(n,l,u);break e}}n=u}else n=cr;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),uo(r,t),Ys(r,o),o}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Mu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Nu(e,t){Mu(e,t),(e=e.alternate)&&Mu(e,t)}function zu(e,t,n){var i=new ju(e,t,n=null!=n&&!0===n.hydrate),r=Tu(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[On]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);Ot.forEach((function(e){pt(e,t,n)})),Et.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Uu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=Fu(a);s.call(e)}}Lu(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zu(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"===typeof r){var u=r;r=function(){var e=Fu(a);u.call(e)}}tu((function(){Lu(t,a,e,r)}))}return Fu(a)}function Hu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Wu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uu(t))throw Error(a(200));return Hu(e,t,null,n)}zu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},zu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[On]=null}))},vt=function(e){if(13===e.tag){var t=qr(Gs(),150,100);Ys(e,t),Nu(e,t)}},yt=function(e){13===e.tag&&(Ys(e,3),Nu(e,3))},gt=function(e){if(13===e.tag){var t=Gs();Ys(e,t=qs(t,e,null)),Nu(e,t)}},I=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Cn(i);if(!r)throw Error(a(90));ke(i),Se(i,r)}}}break;case"textarea":Be(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},D=eu,A=function(e,t,n,i,r){var o=xs;xs|=4;try{return Vr(98,e.bind(null,t,n,i,r))}finally{0===(xs=o)&&$r()}},L=function(){0===(49&xs)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Au(t,e),Xs(t)})),$r()}}(),vu())},F=function(e,t){var n=xs;xs|=2;try{return e(t)}finally{0===(xs=n)&&$r()}};var $u={Events:[In,Pn,Cn,O,x,Fn,function(e){rt(e,Ln)},B,R,Xt,st,vu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ku=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},_u=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:En,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Wu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&xs))throw Error(a(187));var n=xs;xs|=1;try{return Vr(99,e.bind(null,t))}finally{xs=n,$r()}},t.hydrate=function(e,t,n){if(!Uu(t))throw Error(a(200));return Vu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uu(t))throw Error(a(200));return Vu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Vu(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Wu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Uu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vu(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(23)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(i){throw setTimeout(e,0),i}},h=Date.now();t.unstable_now=function(){return Date.now()-h},i=function(e){null!==u?setTimeout(i,0,e):(u=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var m=!1,b=null,w=-1,k=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,T=x.port2;x.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+k;try{b(!0,e)?T.postMessage(null):(m=!1,b=null)}catch(n){throw T.postMessage(null),n}}else m=!1},i=function(e){b=e,m||(m=!0,T.postMessage(null))},r=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){v(w),w=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<I(r,t)))break e;e[i]=t,e[n]=r,n=i}}function O(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[i]=u,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[i]=u,e[s]=n,i=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],C=[],j=1,B=null,R=3,D=!1,A=!1,L=!1;function F(e){for(var t=O(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,S(P,t)}t=O(C)}}function M(e){if(L=!1,F(e),!A)if(null!==O(P))A=!0,i(N);else{var t=O(C);null!==t&&r(M,t.startTime-e)}}function N(e,n){A=!1,L&&(L=!1,o()),D=!0;var i=R;try{for(F(n),B=O(P);null!==B&&(!(B.expirationTime>n)||e&&!a());){var s=B.callback;if(null!==s){B.callback=null,R=B.priorityLevel;var u=s(B.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?B.callback=u:B===O(P)&&E(P),F(n)}else E(P);B=O(P)}if(null!==B)var l=!0;else{var c=O(C);null!==c&&r(M,c.startTime-n),l=!1}return l}finally{B=null,R=i,D=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,i(N))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return O(P)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:z(e)}else a=z(e),u=s;return e={id:j++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,S(C,e),null===O(P)&&e===O(C)&&(L?o():L=!0,r(M,u-s))):(e.sortIndex=a,S(P,e),A||D||(A=!0,i(N))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=O(P);return n!==B&&null!==B&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<B.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){"use strict";e.exports=n(25)},function(e,t,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,w=i?Symbol.for("react.responder"):60118,k=i?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case y:case l:return e;default:return t}}case o:return t}}}function x(e){return _(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||_(e)===h},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===k||e.$$typeof===m)},t.typeOf=_},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),a=new x(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return S()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(e,t,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};p[r]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&n.call(y,r)&&(p=y);var g=d.prototype=h.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(g),s(g,a,"Generator"),g[r]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}}]]);
//# sourceMappingURL=2.f83ab78a.chunk.js.map